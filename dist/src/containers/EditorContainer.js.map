{"version":3,"sources":["webpack:///src/containers/EditorContainer.js","webpack:///./src/widgets/Editor.ts","webpack:///./src/containers/EditorContainer.ts","webpack:///./src/widgets/ErrorList.ts","webpack:///./src/processes/editorProcesses.ts"],"names":["dojoWebpackJsonp_dojo2_realworld","104","module","exports","__webpack_require__","Object","defineProperty","value","tslib_1","WidgetBase_1","d_1","ErrorList_1","Editor","_super","apply","this","arguments","__extends","prototype","_onTitleInput","event","properties","onTitleInput","target","_onDescriptionInput","onDescriptionInput","_onContentInput","onContentInput","_onTagInput","onTagInput","_onTagCreate","keyCode","preventDefault","onTagCreate","onAttach","getArticle","slug","render","_a","onTagDelete","onPublishPost","title","description","body","tag","errors","_b","inProgress","_c","tags","v","classes","w","ErrorList","type","placeholder","oninput","rows","onkeyup","map","onclick","disabled","WidgetBase","89","getProperties","store","get","path","editorProcesses_1","contentInput","descInput","addTag","removeTag","tagInput","titleInput","publishArticle","getArticleForEditor","Container_1","Editor_1","EditorContainer","Container","94","errorCategories","keys","errorList","i","length","__spread","error","96","_this","process_1","operations_1","commandFactory","createCommandFactory","titleInputCommand","__read","payload","replace","descriptionInputCommand","contentInputCommand","content","tagInputCommand","addTagCommand","at","add","clearTagInputCommand","removeTagCommand","index","indexOf","remove","getArticleForEditorCommand","__awaiter","response","json","__generator","label","fetch","sent","article","startPublishCommand","publishArticleCommand","token","requestPayload","headers","url","tagList","Headers","Content-Type","Authorization","method","JSON","stringify","ok","undefined","createProcess"],"mappings":"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","file":"src/containers/EditorContainer.js","sourcesContent":["/*!\n * [Dojo](https://dojo.io/)\n * Copyright [JS Foundation](https://js.foundation/) & contributors\n * [New BSD license](https://github.com/dojo/meta/blob/master/LICENSE)\n * All rights reserved\n * \n */\ndojoWebpackJsonp_dojo2_realworld([1],{\n\n/***/ 104:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = __webpack_require__(0);\nvar WidgetBase_1 = __webpack_require__(3);\nvar d_1 = __webpack_require__(2);\nvar ErrorList_1 = __webpack_require__(94);\nvar Editor = /** @class */ (function (_super) {\n    tslib_1.__extends(Editor, _super);\n    function Editor() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Editor.prototype._onTitleInput = function (event) {\n        this.properties.onTitleInput(event.target.value);\n    };\n    Editor.prototype._onDescriptionInput = function (event) {\n        this.properties.onDescriptionInput(event.target.value);\n    };\n    Editor.prototype._onContentInput = function (event) {\n        this.properties.onContentInput(event.target.value);\n    };\n    Editor.prototype._onTagInput = function (event) {\n        this.properties.onTagInput(event.target.value);\n    };\n    Editor.prototype._onTagCreate = function (event) {\n        if (event.keyCode === 13) {\n            event.preventDefault();\n            this.properties.onTagCreate(event.target.value);\n        }\n    };\n    Editor.prototype.onAttach = function () {\n        this.properties.getArticle(this.properties.slug);\n    };\n    Editor.prototype.render = function () {\n        var _a = this.properties, onTagDelete = _a.onTagDelete, onPublishPost = _a.onPublishPost, title = _a.title, description = _a.description, body = _a.body, tag = _a.tag, errors = _a.errors, _b = _a.inProgress, inProgress = _b === void 0 ? false : _b, _c = _a.tags, tags = _c === void 0 ? [] : _c;\n        return d_1.v('div', { classes: 'editor-page' }, [\n            d_1.v('div', { classes: ['container', 'page'] }, [\n                d_1.v('div', { classes: 'row' }, [\n                    d_1.v('div', { classes: ['col-md-10', 'offset-md-1', 'col-xs-12'] }, [\n                        errors ? d_1.w(ErrorList_1.ErrorList, { errors: errors }) : null,\n                        d_1.v('form', [\n                            d_1.v('fieldset', [\n                                d_1.v('fieldset', { classes: 'form-group' }, [\n                                    d_1.v('input', {\n                                        classes: ['form-control', 'form-control-lg'],\n                                        type: 'text',\n                                        placeholder: 'Article Title',\n                                        value: title,\n                                        oninput: this._onTitleInput\n                                    })\n                                ]),\n                                d_1.v('fieldset', { classes: 'form-group' }, [\n                                    d_1.v('input', {\n                                        classes: 'form-control',\n                                        type: 'text',\n                                        placeholder: \"What's this article about?\",\n                                        value: description,\n                                        oninput: this._onDescriptionInput\n                                    })\n                                ]),\n                                d_1.v('fieldset', { classes: 'form-group' }, [\n                                    d_1.v('textarea', {\n                                        classes: 'form-control',\n                                        type: 'text',\n                                        rows: 8,\n                                        placeholder: 'Write your article (in markdown)',\n                                        value: body,\n                                        oninput: this._onContentInput\n                                    })\n                                ]),\n                                d_1.v('fieldset', { classes: 'form-group' }, [\n                                    d_1.v('input', {\n                                        classes: 'form-control',\n                                        type: 'text',\n                                        placeholder: 'Enter tags',\n                                        value: tag,\n                                        oninput: this._onTagInput,\n                                        onkeyup: this._onTagCreate\n                                    }),\n                                    d_1.v('div', { classes: 'tag-list' }, tags.map(function (tag) {\n                                        return d_1.v('span', { classes: ['tag-default', 'tag-pill'] }, [\n                                            d_1.v('i', {\n                                                classes: 'ion-close-round',\n                                                onclick: function () {\n                                                    onTagDelete(tag);\n                                                }\n                                            }),\n                                            tag\n                                        ]);\n                                    }))\n                                ]),\n                                d_1.v('button', {\n                                    classes: ['btn', 'btn-lg', 'pull-xs-right', 'btn-primary'],\n                                    type: 'button',\n                                    disabled: inProgress,\n                                    onclick: onPublishPost\n                                }, ['Publish Article'])\n                            ])\n                        ])\n                    ])\n                ])\n            ])\n        ]);\n    };\n    return Editor;\n}(WidgetBase_1.WidgetBase));\nexports.Editor = Editor;\n\n\n/***/ }),\n\n/***/ 89:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Container_1 = __webpack_require__(18);\nvar Editor_1 = __webpack_require__(104);\nvar editorProcesses_1 = __webpack_require__(96);\nfunction getProperties(store, properties) {\n    var get = store.get, path = store.path;\n    return {\n        title: get(path('editor', 'title')),\n        description: get(path('editor', 'description')),\n        body: get(path('editor', 'body')),\n        tag: get(path('editor', 'tag')),\n        tags: get(path('editor', 'tagList')),\n        errors: get(path('errors')),\n        onContentInput: editorProcesses_1.contentInput(store),\n        onDescriptionInput: editorProcesses_1.descInput(store),\n        onTagCreate: editorProcesses_1.addTag(store),\n        onTagDelete: editorProcesses_1.removeTag(store),\n        onTagInput: editorProcesses_1.tagInput(store),\n        onTitleInput: editorProcesses_1.titleInput(store),\n        onPublishPost: editorProcesses_1.publishArticle(store),\n        getArticle: editorProcesses_1.getArticleForEditor(store),\n        slug: properties.slug\n    };\n}\nexports.EditorContainer = Container_1.Container(Editor_1.Editor, 'state', { getProperties: getProperties });\n\n\n/***/ }),\n\n/***/ 94:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = __webpack_require__(0);\nvar WidgetBase_1 = __webpack_require__(3);\nvar d_1 = __webpack_require__(2);\nvar ErrorList = /** @class */ (function (_super) {\n    tslib_1.__extends(ErrorList, _super);\n    function ErrorList() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    ErrorList.prototype.render = function () {\n        var errors = this.properties.errors;\n        var errorCategories = Object.keys(errors);\n        var errorList = [];\n        var _loop_1 = function (i) {\n            errorList = tslib_1.__spread(errorList, errors[errorCategories[i]].map(function (error) { return errorCategories[i] + \" \" + error; }));\n        };\n        for (var i = 0; i < errorCategories.length; i++) {\n            _loop_1(i);\n        }\n        errorList;\n        return d_1.v('ul', { classes: 'error-messages' }, errorList.map(function (error) { return d_1.v('li', [error]); }));\n    };\n    return ErrorList;\n}(WidgetBase_1.WidgetBase));\nexports.ErrorList = ErrorList;\n\n\n/***/ }),\n\n/***/ 96:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar _this = this;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = __webpack_require__(0);\nvar process_1 = __webpack_require__(11);\nvar operations_1 = __webpack_require__(12);\nvar commandFactory = process_1.createCommandFactory();\nvar titleInputCommand = commandFactory(function (_a) {\n    var path = _a.path, _b = tslib_1.__read(_a.payload, 1), title = _b[0];\n    return [operations_1.replace(path('editor', 'title'), title)];\n});\nvar descriptionInputCommand = commandFactory(function (_a) {\n    var path = _a.path, _b = tslib_1.__read(_a.payload, 1), description = _b[0];\n    return [operations_1.replace(path('editor', 'description'), description)];\n});\nvar contentInputCommand = commandFactory(function (_a) {\n    var path = _a.path, _b = tslib_1.__read(_a.payload, 1), content = _b[0];\n    return [operations_1.replace(path('editor', 'body'), content)];\n});\nvar tagInputCommand = commandFactory(function (_a) {\n    var path = _a.path, _b = tslib_1.__read(_a.payload, 1), tag = _b[0];\n    return [operations_1.replace(path('editor', 'tag'), tag)];\n});\nvar addTagCommand = commandFactory(function (_a) {\n    var get = _a.get, at = _a.at, path = _a.path, _b = tslib_1.__read(_a.payload, 1), tag = _b[0];\n    var length = (get(path('editor', 'tagList')) || []).length;\n    return [operations_1.add(at(path('editor', 'tagList'), length), tag)];\n});\nvar clearTagInputCommand = commandFactory(function (_a) {\n    var path = _a.path;\n    return [operations_1.replace(path('editor', 'tag'), '')];\n});\nvar removeTagCommand = commandFactory(function (_a) {\n    var get = _a.get, at = _a.at, path = _a.path, _b = tslib_1.__read(_a.payload, 1), tag = _b[0];\n    var tags = get(path('editor', 'tagList'));\n    var index = tags.indexOf(tag);\n    if (index !== -1) {\n        return [operations_1.remove(at(path('editor', 'tagList'), index))];\n    }\n    return [];\n});\nvar getArticleForEditorCommand = commandFactory(function (_a) {\n    var get = _a.get, at = _a.at, path = _a.path, _b = tslib_1.__read(_a.payload, 1), slug = _b[0];\n    return tslib_1.__awaiter(_this, void 0, void 0, function () {\n        var response, json;\n        return tslib_1.__generator(this, function (_c) {\n            switch (_c.label) {\n                case 0: return [4 /*yield*/, fetch(\"https://conduit.productionready.io//api/articles/\" + slug)];\n                case 1:\n                    response = _c.sent();\n                    return [4 /*yield*/, response.json()];\n                case 2:\n                    json = _c.sent();\n                    return [2 /*return*/, [operations_1.replace(path('editor'), json.article)]];\n            }\n        });\n    });\n});\nvar startPublishCommand = commandFactory(function (_a) {\n    var path = _a.path;\n    return [operations_1.replace(path('editor', 'loading'), true)];\n});\nvar publishArticleCommand = commandFactory(function (_a) {\n    var get = _a.get, path = _a.path, payload = _a.payload;\n    return tslib_1.__awaiter(_this, void 0, void 0, function () {\n        var token, slug, requestPayload, headers, url, response, json;\n        return tslib_1.__generator(this, function (_b) {\n            switch (_b.label) {\n                case 0:\n                    token = get(path('user', 'token'));\n                    slug = get(path('editor', 'slug'));\n                    requestPayload = {\n                        article: {\n                            title: get(path('editor', 'title')) || '',\n                            description: get(path('editor', 'description')) || '',\n                            body: get(path('editor', 'body')) || '',\n                            tagList: get(path('editor', 'tagList')) || []\n                        }\n                    };\n                    headers = new Headers({\n                        'Content-Type': 'application/json',\n                        Authorization: \"Token \" + token\n                    });\n                    url = slug\n                        ? \"https://conduit.productionready.io/api/articles/\" + slug\n                        : 'https://conduit.productionready.io/api/articles';\n                    return [4 /*yield*/, fetch(url, {\n                            method: slug ? 'put' : 'post',\n                            headers: headers,\n                            body: JSON.stringify(requestPayload)\n                        })];\n                case 1:\n                    response = _b.sent();\n                    return [4 /*yield*/, response.json()];\n                case 2:\n                    json = _b.sent();\n                    if (!response.ok) {\n                        return [2 /*return*/, [operations_1.replace(path('editor', 'loading'), false), operations_1.replace(path('errors'), json.errors)]];\n                    }\n                    return [2 /*return*/, [\n                            operations_1.replace(path('article', 'item'), json.article),\n                            operations_1.replace(path('article', 'loaded'), true),\n                            operations_1.replace(path('editor'), undefined),\n                            operations_1.replace(path('routing', 'outlet'), 'article'),\n                            operations_1.replace(path('routing', 'params'), { slug: json.article.slug })\n                        ]];\n            }\n        });\n    });\n});\nexports.titleInput = process_1.createProcess([titleInputCommand]);\nexports.descInput = process_1.createProcess([descriptionInputCommand]);\nexports.contentInput = process_1.createProcess([contentInputCommand]);\nexports.tagInput = process_1.createProcess([tagInputCommand]);\nexports.addTag = process_1.createProcess([addTagCommand, clearTagInputCommand]);\nexports.removeTag = process_1.createProcess([removeTagCommand]);\nexports.getArticleForEditor = process_1.createProcess([getArticleForEditorCommand]);\nexports.publishArticle = process_1.createProcess([startPublishCommand, publishArticleCommand]);\n\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// src/containers/EditorContainer.js","import { WidgetBase } from '@dojo/widget-core/WidgetBase';\nimport { v, w } from '@dojo/widget-core/d';\nimport { ErrorList } from './ErrorList';\nimport { Errors } from '../interfaces';\n\nexport interface EditorProperties {\n\tonPublishPost: () => void;\n\tonTitleInput: Function;\n\tonDescriptionInput: Function;\n\tonContentInput: Function;\n\tonTagInput: Function;\n\tonTagCreate: Function;\n\tonTagDelete: Function;\n\ttitle: string;\n\tdescription: string;\n\tbody: string;\n\ttag: string;\n\terrors?: Errors;\n\tinProgress?: boolean;\n\tslug: string;\n\ttags?: string[];\n\tgetArticle: Function;\n}\n\nexport class Editor extends WidgetBase<EditorProperties> {\n\tprivate _onTitleInput(event: any) {\n\t\tthis.properties.onTitleInput(event.target.value);\n\t}\n\n\tprivate _onDescriptionInput(event: any) {\n\t\tthis.properties.onDescriptionInput(event.target.value);\n\t}\n\n\tprivate _onContentInput(event: any) {\n\t\tthis.properties.onContentInput(event.target.value);\n\t}\n\n\tprivate _onTagInput(event: any) {\n\t\tthis.properties.onTagInput(event.target.value);\n\t}\n\n\tprivate _onTagCreate(event: any) {\n\t\tif (event.keyCode === 13) {\n\t\t\tevent.preventDefault();\n\t\t\tthis.properties.onTagCreate(event.target.value);\n\t\t}\n\t}\n\n\tonAttach() {\n\t\tthis.properties.getArticle(this.properties.slug);\n\t}\n\n\tprotected render() {\n\t\tconst {\n\t\t\tonTagDelete,\n\t\t\tonPublishPost,\n\t\t\ttitle,\n\t\t\tdescription,\n\t\t\tbody,\n\t\t\ttag,\n\t\t\terrors,\n\t\t\tinProgress = false,\n\t\t\ttags = []\n\t\t} = this.properties;\n\t\treturn v('div', { classes: 'editor-page' }, [\n\t\t\tv('div', { classes: ['container', 'page'] }, [\n\t\t\t\tv('div', { classes: 'row' }, [\n\t\t\t\t\tv('div', { classes: ['col-md-10', 'offset-md-1', 'col-xs-12'] }, [\n\t\t\t\t\t\terrors ? w(ErrorList, { errors }) : null,\n\t\t\t\t\t\tv('form', [\n\t\t\t\t\t\t\tv('fieldset', [\n\t\t\t\t\t\t\t\tv('fieldset', { classes: 'form-group' }, [\n\t\t\t\t\t\t\t\t\tv('input', {\n\t\t\t\t\t\t\t\t\t\tclasses: ['form-control', 'form-control-lg'],\n\t\t\t\t\t\t\t\t\t\ttype: 'text',\n\t\t\t\t\t\t\t\t\t\tplaceholder: 'Article Title',\n\t\t\t\t\t\t\t\t\t\tvalue: title,\n\t\t\t\t\t\t\t\t\t\toninput: this._onTitleInput\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t]),\n\t\t\t\t\t\t\t\tv('fieldset', { classes: 'form-group' }, [\n\t\t\t\t\t\t\t\t\tv('input', {\n\t\t\t\t\t\t\t\t\t\tclasses: 'form-control',\n\t\t\t\t\t\t\t\t\t\ttype: 'text',\n\t\t\t\t\t\t\t\t\t\tplaceholder: \"What's this article about?\",\n\t\t\t\t\t\t\t\t\t\tvalue: description,\n\t\t\t\t\t\t\t\t\t\toninput: this._onDescriptionInput\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t]),\n\t\t\t\t\t\t\t\tv('fieldset', { classes: 'form-group' }, [\n\t\t\t\t\t\t\t\t\tv('textarea', {\n\t\t\t\t\t\t\t\t\t\tclasses: 'form-control',\n\t\t\t\t\t\t\t\t\t\ttype: 'text',\n\t\t\t\t\t\t\t\t\t\trows: 8,\n\t\t\t\t\t\t\t\t\t\tplaceholder: 'Write your article (in markdown)',\n\t\t\t\t\t\t\t\t\t\tvalue: body,\n\t\t\t\t\t\t\t\t\t\toninput: this._onContentInput\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t]),\n\t\t\t\t\t\t\t\tv('fieldset', { classes: 'form-group' }, [\n\t\t\t\t\t\t\t\t\tv('input', {\n\t\t\t\t\t\t\t\t\t\tclasses: 'form-control',\n\t\t\t\t\t\t\t\t\t\ttype: 'text',\n\t\t\t\t\t\t\t\t\t\tplaceholder: 'Enter tags',\n\t\t\t\t\t\t\t\t\t\tvalue: tag,\n\t\t\t\t\t\t\t\t\t\toninput: this._onTagInput,\n\t\t\t\t\t\t\t\t\t\tonkeyup: this._onTagCreate\n\t\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\t\tv(\n\t\t\t\t\t\t\t\t\t\t'div',\n\t\t\t\t\t\t\t\t\t\t{ classes: 'tag-list' },\n\t\t\t\t\t\t\t\t\t\ttags.map((tag) => {\n\t\t\t\t\t\t\t\t\t\t\treturn v('span', { classes: ['tag-default', 'tag-pill'] }, [\n\t\t\t\t\t\t\t\t\t\t\t\tv('i', {\n\t\t\t\t\t\t\t\t\t\t\t\t\tclasses: 'ion-close-round',\n\t\t\t\t\t\t\t\t\t\t\t\t\tonclick: () => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonTagDelete(tag);\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\t\t\t\t\ttag\n\t\t\t\t\t\t\t\t\t\t\t]);\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t]),\n\t\t\t\t\t\t\t\tv(\n\t\t\t\t\t\t\t\t\t'button',\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tclasses: ['btn', 'btn-lg', 'pull-xs-right', 'btn-primary'],\n\t\t\t\t\t\t\t\t\t\ttype: 'button',\n\t\t\t\t\t\t\t\t\t\tdisabled: inProgress,\n\t\t\t\t\t\t\t\t\t\tonclick: onPublishPost\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t['Publish Article']\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t])\n\t\t\t\t\t\t])\n\t\t\t\t\t])\n\t\t\t\t])\n\t\t\t])\n\t\t]);\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--0!./~/@dojo/webpack-contrib/css-module-dts-loader?type=ts&instanceName=0_dojo!./src/widgets/Editor.ts","import { Container } from '@dojo/widget-core/Container';\nimport { Store } from '@dojo/stores/Store';\nimport { Editor, EditorProperties } from './../widgets/Editor';\nimport {\n\tpublishArticle,\n\taddTag,\n\tcontentInput,\n\tdescInput,\n\tremoveTag,\n\ttagInput,\n\ttitleInput,\n\tgetArticleForEditor\n} from './../processes/editorProcesses';\nimport { State } from '../interfaces';\n\nfunction getProperties(store: Store<State>, properties: EditorProperties): EditorProperties {\n\tconst { get, path } = store;\n\n\treturn {\n\t\ttitle: get(path('editor', 'title')),\n\t\tdescription: get(path('editor', 'description')),\n\t\tbody: get(path('editor', 'body')),\n\t\ttag: get(path('editor', 'tag')),\n\t\ttags: get(path('editor', 'tagList')),\n\t\terrors: get(path('errors')),\n\t\tonContentInput: contentInput(store),\n\t\tonDescriptionInput: descInput(store),\n\t\tonTagCreate: addTag(store),\n\t\tonTagDelete: removeTag(store),\n\t\tonTagInput: tagInput(store),\n\t\tonTitleInput: titleInput(store),\n\t\tonPublishPost: publishArticle(store),\n\t\tgetArticle: getArticleForEditor(store),\n\t\tslug: properties.slug\n\t};\n}\n\nexport const EditorContainer = Container(Editor, 'state', { getProperties });\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader?{\"tsConfigFile\":\"/Users/Anthony/development/test-beds/dojo2-realworld/tslint.json\",\"emitErrors\":true,\"failOnHint\":true}!./~/@dojo/webpack-contrib/css-module-dts-loader?type=ts&instanceName=0_dojo!./src/containers/EditorContainer.ts","import { WidgetBase } from '@dojo/widget-core/WidgetBase';\nimport { v } from '@dojo/widget-core/d';\nimport { Errors } from '../interfaces';\n\ninterface ErrorListProperties {\n\terrors: Errors;\n}\n\nexport class ErrorList extends WidgetBase<ErrorListProperties> {\n\tprotected render() {\n\t\tconst { errors } = this.properties;\n\t\tconst errorCategories = Object.keys(errors);\n\t\tlet errorList: any[] = [];\n\t\tfor (let i = 0; i < errorCategories.length; i++) {\n\t\t\terrorList = [\n\t\t\t\t...errorList,\n\t\t\t\t...errors[errorCategories[i]].map((error: any) => `${errorCategories[i]} ${error}`)\n\t\t\t];\n\t\t}\n\t\terrorList;\n\n\t\treturn v('ul', { classes: 'error-messages' }, errorList.map((error: any) => v('li', [error])));\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--0!./~/@dojo/webpack-contrib/css-module-dts-loader?type=ts&instanceName=0_dojo!./src/widgets/ErrorList.ts","import { createCommandFactory, createProcess } from '@dojo/stores/process';\nimport { PatchOperation } from '@dojo/stores/state/Patch';\nimport { replace, add, remove } from '@dojo/stores/state/operations';\nimport { State } from '../interfaces';\n\nconst commandFactory = createCommandFactory<State>();\n\nconst titleInputCommand = commandFactory(({ path, payload: [title] }): PatchOperation[] => {\n\treturn [replace(path('editor', 'title'), title)];\n});\n\nconst descriptionInputCommand = commandFactory(({ path, payload: [description] }): PatchOperation[] => {\n\treturn [replace(path('editor', 'description'), description)];\n});\n\nconst contentInputCommand = commandFactory(({ path, payload: [content] }): PatchOperation[] => {\n\treturn [replace(path('editor', 'body'), content)];\n});\n\nconst tagInputCommand = commandFactory(({ path, payload: [tag] }): PatchOperation[] => {\n\treturn [replace(path('editor', 'tag'), tag)];\n});\n\nconst addTagCommand = commandFactory(({ get, at, path, payload: [tag] }): PatchOperation[] => {\n\tconst length = (get(path('editor', 'tagList')) || []).length;\n\treturn [add(at(path('editor', 'tagList'), length), tag)];\n});\n\nconst clearTagInputCommand = commandFactory(({ path }) => {\n\treturn [replace(path('editor', 'tag'), '')];\n});\n\nconst removeTagCommand = commandFactory(({ get, at, path, payload: [tag] }): PatchOperation[] => {\n\tconst tags = get(path('editor', 'tagList'));\n\tconst index = tags.indexOf(tag);\n\tif (index !== -1) {\n\t\treturn [remove(at(path('editor', 'tagList'), index))];\n\t}\n\treturn [];\n});\n\nconst getArticleForEditorCommand = commandFactory(async ({ get, at, path, payload: [slug] }) => {\n\tconst response = await fetch(`https://conduit.productionready.io//api/articles/${slug}`);\n\tconst json = await response.json();\n\treturn [replace(path('editor'), json.article)];\n});\n\nconst startPublishCommand = commandFactory(({ path }) => {\n\treturn [replace(path('editor', 'loading'), true)];\n});\n\nconst publishArticleCommand = commandFactory(async ({ get, path, payload }): Promise<PatchOperation[]> => {\n\tconst token = get(path('user', 'token'));\n\tconst slug = get(path('editor', 'slug'));\n\tconst requestPayload = {\n\t\tarticle: {\n\t\t\ttitle: get(path('editor', 'title')) || '',\n\t\t\tdescription: get(path('editor', 'description')) || '',\n\t\t\tbody: get(path('editor', 'body')) || '',\n\t\t\ttagList: get(path('editor', 'tagList')) || []\n\t\t}\n\t};\n\n\tconst headers = new Headers({\n\t\t'Content-Type': 'application/json',\n\t\tAuthorization: `Token ${token}`\n\t});\n\tconst url = slug\n\t\t? `https://conduit.productionready.io/api/articles/${slug}`\n\t\t: 'https://conduit.productionready.io/api/articles';\n\tconst response = await fetch(url, {\n\t\tmethod: slug ? 'put' : 'post',\n\t\theaders,\n\t\tbody: JSON.stringify(requestPayload)\n\t});\n\tconst json = await response.json();\n\n\tif (!response.ok) {\n\t\treturn [replace(path('editor', 'loading'), false), replace(path('errors'), json.errors)];\n\t}\n\n\treturn [\n\t\treplace(path('article', 'item'), json.article),\n\t\treplace(path('article', 'loaded'), true),\n\t\treplace(path('editor'), undefined),\n\t\treplace(path('routing', 'outlet'), 'article'),\n\t\treplace(path('routing', 'params'), { slug: json.article.slug })\n\t];\n});\n\nexport const titleInput = createProcess([titleInputCommand]);\nexport const descInput = createProcess([descriptionInputCommand]);\nexport const contentInput = createProcess([contentInputCommand]);\nexport const tagInput = createProcess([tagInputCommand]);\nexport const addTag = createProcess([addTagCommand, clearTagInputCommand]);\nexport const removeTag = createProcess([removeTagCommand]);\nexport const getArticleForEditor = createProcess([getArticleForEditorCommand]);\nexport const publishArticle = createProcess([startPublishCommand, publishArticleCommand]);\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--0!./~/@dojo/webpack-contrib/css-module-dts-loader?type=ts&instanceName=0_dojo!./src/processes/editorProcesses.ts"],"sourceRoot":""}