{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///Destroyable.ts","webpack:///Evented.ts","webpack:///aspect.ts","webpack:///lang.ts","webpack:///has.ts","webpack:///Link.ts","webpack:///Outlet.ts","webpack:///Router.ts","webpack:///RouterInjector.ts","webpack:///HashHistory.ts","webpack:///Map.ts","webpack:///Promise.ts","webpack:///Symbol.ts","webpack:///WeakMap.ts","webpack:///array.ts","webpack:///global.ts","webpack:///iterator.ts","webpack:///number.ts","webpack:///object.ts","webpack:///string.ts","webpack:///queue.ts","webpack:///util.ts","webpack:///Store.ts","webpack:///process.ts","webpack:///Patch.ts","webpack:///Pointer.ts","webpack:///operations.ts","webpack:///./src/containers/ArticleContainer.ts","webpack:///./src/containers/EditorContainer.ts","webpack:///./src/containers/LoginContainer.ts","webpack:///./src/containers/ProfileContainer.ts","webpack:///./src/containers/RegisterContainer.ts","webpack:///./src/containers/SettingsContainer.ts","webpack:///Container.ts","webpack:///Injector.ts","webpack:///NodeHandler.ts","webpack:///Registry.ts","webpack:///RegistryHandler.ts","webpack:///WidgetBase.ts","webpack:///cssTransitions.ts","webpack:///d.ts","webpack:///afterRender.ts","webpack:///alwaysRender.ts","webpack:///beforeProperties.ts","webpack:///handleDecorator.ts","webpack:///inject.ts","webpack:///diff.ts","webpack:///Projector.ts","webpack:///vdom.ts","webpack:///./node_modules/pepjs/dist/pep.js","webpack:///./node_modules/process/browser.js","webpack:///./node_modules/setimmediate/setImmediate.js","webpack:///./node_modules/timers-browserify/main.js","webpack:///./node_modules/tslib/tslib.es6.js","webpack:///(webpack)/buildin/global.js","webpack:///./src/App.ts","webpack:///./src/config.ts","webpack:///./src/containers/FeedsContainer.ts","webpack:///./src/containers/HeaderContainer.ts","webpack:///./src/containers/TagsContainer.ts","webpack:///./src/main.ts","webpack:///./src/outlets/ArticleOutlet.ts","webpack:///./src/outlets/EditorOutlet.ts","webpack:///./src/outlets/HomeOutlet.ts","webpack:///./src/outlets/LoginOutlet.ts","webpack:///./src/outlets/ProfileOutlet.ts","webpack:///./src/outlets/RegisterOutlet.ts","webpack:///./src/outlets/SettingsOutlet.ts","webpack:///./src/processes/articleProcesses.ts","webpack:///./src/processes/editorProcesses.ts","webpack:///./src/processes/feedProcesses.ts","webpack:///./src/processes/loginProcesses.ts","webpack:///./src/processes/profileProcesses.ts","webpack:///./src/processes/routeProcesses.ts","webpack:///./src/processes/settingsProcesses.ts","webpack:///./src/processes/tagProcesses.ts","webpack:///./src/processes/utils.ts","webpack:///./src/widgets/ArticlePreview.ts","webpack:///./src/widgets/Banner.ts","webpack:///./src/widgets/FeedPagination.ts","webpack:///./src/widgets/Feeds.ts","webpack:///./src/widgets/Header.ts","webpack:///./src/widgets/Home.ts","webpack:///./src/widgets/Tags.ts"],"names":["root","factory","exports","module","define","amd","this","lang_1","__webpack_require__","Promise_1","noop","default","resolve","destroyed","Error","Destroyable","handles","prototype","own","handle","Array","isArray","createCompositeHandle","apply","tslib_1","__spread","_handles","push","destroy","splice","indexOf","_this","forEach","Map_1","aspect_1","Destroyable_1","regexMap","isGlobMatch","globString","targetString","regex","has","get","RegExp","replace","set","test","Evented","_super","arguments","listenersMap","__extends","emit","event","method","type","call","on","listener","map","WeakMap_1","isMapLike","value","dispatchAdviceMap","nextId","adviseObject","dispatcher","advice","receiveArguments","previous","advised","id","next","before","undefined","createHandle","_a","_b","_c","adviseJoinPoint","joinPoint","getJoinPointDispatcher","adviceMap","unshift","after","getDispatcherObject","target","methodName","existing","results","executionId","args","around","newResults","_i","length","reduce","previousArgs","result","previousResult","concat","before_1","after_1","slice","aroundJoinPoint","aroundObject","beforeJoinPoint","beforeObject","joinPointOrTarget","methodNameOrAdvice","objectAdvice","object_1","object_2","assign","hasOwnProperty","Object","shouldDeepCopyObject","toString","copyArray","array","inherited","item","_mixin","deep","sources","kwArgs","copied","copiedClone","i","source","key","targetValue","deepMixin","destructor","create","mixins","RangeError","deepAssign","duplicate","getPrototypeOf","isIdentical","a","b","lateBind","instance","suppliedArgs","mixin","partial","targetFunction","testCache","testFunctions","testThenables","globalScope","window","global","self","staticFeatures","DojoHasEnvironment","staticCache","exists","feature","normalizedFeature","toLowerCase","Boolean","add","overwrite","TypeError","then","resolvedValue","load","resourceId","require","config","normalize","tokens","match","skip","term","document","location","process","versions","node","WidgetBase_1","d_1","inject_1","getProperties","router","properties","to","isOutlet","params","onClick","props","__rest","href","link","__assign","defaultPrevented","button","preventDefault","setPath","BaseLink","_onClick","render","onclick","routerKey","v","children","WidgetBase","createLink","Link","__decorate","inject","name","alwaysRender_1","isComponent","Outlet","outletComponents","outlet","options","indexComponent","index","mainComponent","main","errorComponent","error","mapParams","OutletComponent","_matched","_matchedParams","_hasRouteChanged","newParamKeys","keys","key_1","_onEnter","outletContext","onEnterCallback","onDetach","_onExit","getOutlet","queryParams","onEnter","onExit","w","alwaysRender","Evented_1","HashHistory_1","PARAM","Symbol","Router","_routes","_outletMap","_matchedOutlets","_currentParams","_onChange","requestedPath","_stripLeadingSlash","matchedOutletContext","matchedOutlet","previousOutlet","__read","split","path","queryParamString","_getQueryParams","routes","paramIndex","segments","routeMatched","route","shift","segmentsForRoute","routeMatch","segmentIndex","segment","errorOutlet","context","HistoryManager","HashHistory","base","_register","_history","onChange","_defaultOutlet","linkPath","fullPath","defaultParams","fullParams","param","outletIdentifier","defineProperty","parentRoute","defaultRoute","query","i_1","queryParameters","Injector_1","Router_1","registerRouterInjector","registry","routerOptions","hasInjector","injector","Injector","defineInjector","global_1","_current","normalizePath","_window","hash","_onChangeFunction","addEventListener","prefix","removeEventListener","iterator_1","has_1","Map","iterable","_keys","_values","toStringTag","isArrayLike","iterable_1","__values","iterable_1_1","done","_indexOfKey","length_1","is","clear","delete","entries","values","ShimIterator","callback","length_2","iterator","species","queue_1","ShimPromise","Promise","isThenable","executor","state","isChained","callbacks","whenFinished","settle","newState","queueMicroTask","count","bind","onFulfilled","onRejected","reject","all","complete","total","populating","fulfill","finish","race","iterable_2","iterable_2_1","reason","catch","created","util_1","validateSymbol_1","isSymbol","defineProperties_1","defineProperties","defineProperty_1","create_1","objPrototype_1","globalSymbols_1","getSymbolName_1","desc","postfix","String","getOwnPropertyDescriptor","getValueDescriptor","InternalSymbol_1","description","sym","__description__","__name__","keyFor","hasInstance","for","isConcatSpreadable","observable","search","toPrimitive","unscopables","constructor","valueOf","wellKnown","startId","WeakMap","DELETED_1","generateName_1","Math","floor","Date","now","random","_frozenEntries","_getFrozenEntryIndex","entry","_name","frozenIndex","isFrozen","number_1","from","of","copyWithin","wrapNative","fill","find","findIndex","toLength_1","isNaN","Number","isFinite","min","max","MAX_SAFE_INTEGER","toInteger_1","abs","normalizeOffset_1","arrayLike","mapFunction","thisArg","isIterable","arrayLike_1","arrayLike_1_1","items","offset","start","end","direction","includes","searchElement","fromIndex","len","currentElement","globalObject","string_1","staticDone","list","_nextIndex","_nativeIterator","_list","forOf","broken","doBreak","l","char","code","charCodeAt","HIGH_SURROGATE_MIN","HIGH_SURROGATE_MAX","isInteger","EPSILON","pow","MIN_SAFE_INTEGER","isSafeInteger","Symbol_1","getOwnPropertyNames","getOwnPropertySymbols","o","filter","nextSource","nextKey","prop","substring","value1","value2","getOwnPropertyDescriptors","LOW_SURROGATE_MIN","LOW_SURROGATE_MAX","fromCodePoint","raw","codePointAt","endsWith","repeat","startsWith","normalizeSubstringArgs_1","text","position","isEnd","codePoints","fromCharCode","codeUnits","codePoint","highSurrogate","lowSurrogate","callSite","substitutions","rawStrings","numSubstitutions","first","second","endPosition","Infinity","padEnd","padStart","maxLength","fillString","strText","padding","__exportStar","every","POSITIVE_INFINITY","e","imul","Observable","Set","getCallSite","templateObject_1","__makeTemplateObject","key1","freeze","postMessage","requestAnimationFrame","setImmediate","MutationObserver","WebKitMutationObserver","example","createElement","observer","observe","attributes","style","setProperty","takeRecords","checkMicroTaskQueue","microTasks","executeTask","isActive","getQueueHandle","queueTask","enqueue","data","stopPropagation","clearImmediate","clearTimeout","setTimeout","isMicroTaskQueued_1","queueAnimationTask","rafId","cancelAnimationFrame","nextTick","HostMutationObserver","node_1","queue_2","setAttribute","enumerable","writable","configurable","nativeFunction","Patch_1","Pointer_1","isString","Store","_state","_changePaths","_callbackId","operations","invalidate","patchResult","Patch","object","undoOperations","at","paths","callbackId","_addOnChange","remove","changePaths","previousValue","stringSegments","Pointer","hasMultipleSegments","pointer","_runOnChanges","callbackIdsCalled","newValue","callbackItem","createProcess","commands","store","transformer","payload","executorPayload","__awaiter","commandsCopy","undo","command","commandFunction","sent","e_1","createCommandFactory","createProcessFactoryWith","callbackDecorators","callbackDecorator","createCallbackDecorator","processCallback","previousCallback","OperationType","isObject","isEqual","element","keysForA","sort","_operations","patchedObject","pointerTarget","walk","op","ADD","parseInt","REPLACE","REMOVE","TEST","operation","inverse","decode","encode","clone","nextSegment","_segments","join","oe","Container","component","WidgetContainer","_payload","NodeEventType","NodeHandler","_nodeMap","addRoot","Widget","addProjector","Projector","isWidgetBaseConstructor","_type","WIDGET_BASE_TYPE","isWidgetConstructorDefaultExport","Registry","emitLoadedEvent","widgetLabel","action","label","_widgetRegistry","widgetCtor","_injectorRegistry","promise","getInjector","Registry_1","RegistryHandler","_registry","_registryWidgetLabelMap","_registryInjectorLabelMap","baseRegistry","widget","globalPrecedence","_get","getFunctionName","labelMap","registries","registeredLabels","WidgetRenderState","diff_1","RegistryHandler_1","NodeHandler_1","vdom_1","decoratorMap","boundAuto","auto","_initialProperties","_changedPropertyKeys","_renderState","IDLE","_nodeHandler","_children","_decoratorCache","_properties","_boundRenderFunc","_boundInvalidate","widgetInstanceMap","dirty","onElementCreated","onElementUpdated","onAttach","_destroy","nodeHandler","coreProperties","_runAfterConstructors","meta","MetaType","_metaMap","cached","__setCoreProperties__","PROPERTIES","instanceData","__setProperties__","originalProperties","_runBeforeProperties","registeredDiffPropertyNames","getDecorator","changedPropertyKeys","propertyNames","allProperties","checkedProperties","diffPropertyResults","runReactions","propertyName","previousProperty","newProperty","_bindFunctionProperty","diffFunctions","changed","_mapDiffPropertyReactions","reaction","previousProperties","newProperties","__setChildren__","CHILDREN","__render__","RENDER","dNode","_runBeforeRenders","runAfterRenders","parentInvalidate","addDecorator","decoratorKey","decoratorList","specificDecoratorList","decorators","_buildDecoratorList","allDecorators","instanceMap","reactionPropertyMap","reactionArguments","property","_bindFunctionPropertyMap","bindInfo","boundFunc","scope","beforeProperties","beforePropertiesFunction","beforeRenders","beforeRenderFunction","updatedRender","console","warn","afterRenders","afterRenderFunction","afterRender","afterConstructors","afterConstructor","browserSpecificTransitionEndEventName","browserSpecificAnimationEndEventName","initialize","determineBrowserStyleNames","runAndCleanUp","startAnimation","finishAnimation","finished","transitionEnd","enter","enterAnimation","activeClass","enterAnimationActive","classList","exit","exitAnimation","removeNode","exitAnimationActive","isWNode","child","WNODE","isVNode","VNODE","decorate","dNodes","modifier","predicate","nodes","pop","widgetConstructor","tag","propertiesOrChildren","deferredPropertiesCallback","handleDecorator_1","handleDecorator","propertyKey","beforeProperties_1","handler","descriptor","registeredInjectorsMap","registeredInjectors","isObjectOrArray","ignore","reference","shallow","validOldProperty","validNewProperty","previousKeys","newKeys","some","always","lang_2","ProjectorAttachState","AttachType","cssTransitions_1","afterRender_1","ProjectorMixin","Base","_async","_projectorChildren","_projectorProperties","scheduleRender","_projectionOptions","transitions","_boundDoRender","_doRender","_boundRender","body","projectorState","Detached","append","Append","_attach","merge","Merge","Replace","pause","_scheduled","_paused","resume","Attached","_root","async","sandbox","doc","previousRoot","createDocumentFragment","setChildren","setProperties","toHtml","_projection","domNode","childNodes","outerHTML","update","_attachHandle","sync","dom","array_1","NAMESPACE_W3","NAMESPACE_SVG","NAMESPACE_XLINK","emptyArray","same","dnode1","dnode2","missingTransition","getProjectionOptions","projectorOptions","defaults","namespace","styleApplyer","styleName","deferredRenderCallbacks","afterRenderCallbacks","nodeMap","checkStyleValue","styleValue","updateEvents","propName","projectionOptions","currentValue","eventName","substr","eventMap","previousEvent","evt","addClasses","classes","classNames","removeClasses","updateProperties","propertiesUpdated","propNames","propCount","eventCallback","propValue","previousClasses","currentClasses","newClasses","i_3","previousClassName","classIndex","i_4","i_2","i_5","styleNames","styleCount","j","newStyleValue","domValue","lastIndexOf","setAttributeNS","removeAttribute","toParentVNode","toTextVNode","filterAndDecorateChildren","callOnDetach","parentInstance","rendered","nodeToRemove","dnode","parentNode","removeChild","domNode_1","pointerEvents","removeDomNode","checkDistinguishable","indexToCheck","childNode","nodeIdentifier","parentName","updateChildren","parentVNode","oldChildren","newChildren","oldChildrenLength","newChildrenLength","oldIndex","newIndex","textUpdated","oldChild","newChild","updateDom","findOldIndex","sameAs","findIndexOfChild","oldChild_1","insertBefore","nextIndex","createDom","nodeAdded","indexToCheck_1","addChildren","domElement","tagName","toUpperCase","initPropertiesAndChildren","addDeferredProperties","className","trim","instanceData_1","inserted","parentInstanceData","instanceData_2","filteredRendered","mergeElement","ownerDocument","newDomNode","createTextNode","replaceChild","appendChild","createElementNS","domNode_2","updated","instanceData_3","updateAnimation","previousRendered","vnode","decoratedDeferredProperties","runDeferredRenderCallbacks","runAfterRenderCallbacks","requestIdleCallback","createProjection","projectionDNode","updatedDNode","rootNode","finalProjectorOptions","decoratedNode","MOUSE_PROPS","MOUSE_DEFAULTS","PointerEvent","inType","inDict","createEvent","initEvent","bubbles","cancelable","p","buttons","pressure","x","clientX","y","clientY","pointerId","width","height","tiltX","tiltY","twist","tangentialPressure","pointerType","hwTimestamp","isPrimary","PointerMap","SparseArrayMap","size","k","CLONE_PROPS","CLONE_DEFAULTS","BOUNDARY_EVENTS","pointerover","pointerout","pointerenter","pointerleave","HAS_SVG_INSTANCE","SVGElementInstance","pointermap","captureInfo","eventSources","eventSourceList","registerSource","s","newEvents","events","register","es","unregister","contains","container","contained","ex","down","inEvent","fireEvent","move","up","leave","over","out","cancel","leaveOut","propagate","enterOver","eventHandler","_handledByPE","fn","listen","addEvent","unlisten","removeEvent","boundHandler","makeEvent","relatedTarget","_target","dispatchEvent","cloneEvent","eventCopy","correspondingUseElement","getTarget","capture","propagateDown","targets","reverse","setCapture","inPointerId","inTarget","skipDispatch","releaseCapture","implicitRelease","asyncDispatchEvent","t","targeting","shadow","inEl","shadowRoot","webkitShadowRoot","canTarget","elementFromPoint","targetingShadow","olderShadow","os","olderShadowRoot","se","querySelector","allShadows","shadows","searchRoot","inRoot","st","sr","ssr","owner","nodeType","Node","DOCUMENT_NODE","DOCUMENT_FRAGMENT_NODE","findTarget","toArray","MO","OBSERVER_INIT","subtree","childList","attributeOldValue","attributeFilter","Installer","binder","addCallback","removeCallback","changedCallback","mutationWatcher","shadowSelector","selector","rule","watchSubtree","enableOnSubtree","readyState","installOnLoad","installNewSubtree","findElements","addElement","querySelectorAll","removeElement","el","elementChanged","oldValue","concatLists","accum","isElement","n","ELEMENT_NODE","flattenMutationTree","inNodes","tree","mutations","mutationHandler","m","addedNodes","removedNodes","attrib2css","selectors","styles","hasNativePE","MSPointerEvent","hasShadowRoot","ShadowDOMPolyfill","head","createShadowRoot","BUTTON_TO_BUTTONS","HAS_BUTTONS","MouseEvent","INSTALLER","mouseEvents","POINTER_ID","POINTER_TYPE","lastTouches","isEventSimulatedFromTouch","lts","dx","dy","prepareEvent","pd","prepareButtonsForMove","which","mousedown","mousemove","mouseup","mouseover","mouseout","deactivateMouse","pointermap$1","ATTRIB","touchEvents","elementAdded","getAttribute","touchActionToScrollType","_scrollType","elementRemoved","oldSt","scrollTypes","EMITTER","XSCROLLER","YSCROLLER","SCROLLER","touchAction","exec","firstTouch","isPrimaryTouch","inTouch","identifier","setPrimaryTouch","firstXY","X","Y","scrolling","cancelResetClickCount","removePrimaryPointer","inPointer","resetClickCount","clickCount","resetId","typeToButtons","ret","touchToPointer","cte","currentTouchEvent","detail","radiusX","webkitRadiusX","radiusY","webkitRadiusY","force","webkitForce","altKey","ctrlKey","metaKey","shiftKey","processTouches","inFunction","tl","changedTouches","shouldScroll","scrollAxis","currentTarget","oa","findTouch","inTL","inId","vacuumTouches","touches","d","cancelOut","touchstart","dedupSynthMouse","overDown","outTarget","touchmove","touchcancel","moveOverOut","outEvent","touchend","upOut","cleanUpPointer","lt","r","h","pointermap$2","HAS_BITMAP_TYPE","MSPOINTER_TYPE_MOUSE","msEvents","POINTER_TYPES","cleanup","MSPointerDown","MSPointerMove","MSPointerUp","MSPointerOut","MSPointerOver","MSPointerCancel","MSLostPointerCapture","MSGotPointerCapture","assertActive","assertConnected","elem","parent","inActiveButtonState","navigator","msPointerEnabled","msSetPointerCapture","msReleasePointerCapture","textContent","applyAttributeStyles","tp","msMaxTouchPoints","ontouchstart","applyPolyfill","Element","setPointerCapture","releasePointerCapture","hasPointerCapture","targetFinding","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","defaultClearTimeout","runTimeout","fun","currentQueue","queue","draining","queueIndex","cleanUpNextTick","drainQueue","timeout","run","marker","runClearTimeout","Item","title","browser","env","argv","version","addListener","once","off","removeListener","removeAllListeners","prependListener","prependOnceListener","listeners","binding","cwd","chdir","dir","umask","registerImmediate","html","channel","messagePrefix","onGlobalMessage","nextHandle","tasksByHandle","currentlyRunningATask","attachTo","runIfPresent","importScripts","postMessageIsAsynchronous","oldOnMessage","onmessage","canUsePostMessage","MessageChannel","port1","port2","documentElement","script","onreadystatechange","attachEvent","Function","task","Timeout","clearFn","_id","_clearFn","setInterval","clearInterval","close","unref","ref","enroll","msecs","_idleTimeoutId","_idleTimeout","unenroll","_unrefActive","active","_onTimeout","__","extendStatics","c","Reflect","decorator","metadataKey","metadataValue","metadata","_arguments","P","generator","fulfilled","step","rejected","f","g","_","trys","ops","verb","throw","return","ar","asyncIterator","q","__await","__webpack_exports__","cooked","setPrototypeOf","__proto__","eval","HeaderContainer_1","HomeOutlet_1","LoginOutlet_1","ProfileOutlet_1","RegisterOutlet_1","EditorOutlet_1","ArticleOutlet_1","SettingsOutlet_1","App","HeaderContainer","LoginOutlet","RegisterOutlet","UserProfileOutlet","FavProfileOutlet","EditorEditOutlet","EditorNewOutlet","ArticleOutlet","SettingsOutlet","HomeOutlet","editorProcesses_1","settingsProcesses_1","articleProcesses_1","profileProcesses_1","feedProcesses_1","baseUrl","getRouteConfig","username","getProfileProcess","fetchFeedProcess","page","slug","getArticleProcess","getUserSettingsProcess","getEditorArticleProcess","clearEditorProcess","isAuthenticated","Container_1","Feeds_1","FeedsContainer","Feeds","loading","defaultType","currentPage","fetchFeed","favoriteArticle","favoriteFeedArticleProcess","Header_1","Header","loggedInUser","Tags_1","TagsContainer","Tags","tags","Projector_1","Store_1","RouterInjector_1","App_1","tagProcesses_1","loginProcesses_1","routeProcesses_1","config_1","StoreInjector","__syncRequire","EditorContainer","ArticleContainer","LoginContainer","RegisterContainer","ProfileContainer","SettingsContainer","session","sessionStorage","getItem","onRouteChange","getTagsProcess","setSessionProcess","JSON","parse","changeRouteProcess","projector","Outlet_1","Home_1","Home","createMapParams","process_1","operations_1","utils_1","startLoadingArticleCommand","commandFactory","loadArticleCommand","token","fetch","headers","getHeaders","json","article","favoriteArticleCommand","favorited","followUserCommand","following","author","profile","loadCommentsCommand","comments","addCommentCommand","newComment","requestPayload","comment","stringify","deleteCommentCommand","newCommentInputCommand","deleteArticleCommand","deleteCommentProcess","addCommentProcess","newCommentInputProcess","favoriteArticleProcess","followUserProcess","deleteArticleProcess","titleInputCommand","descriptionInputCommand","bodyInputCommand","tagInputCommand","addTagCommand","clearTagInputCommand","removeTagCommand","getArticleForEditorCommand","clearEditorCommand","startPublishCommand","publishArticleCommand","url","response","ok","errors","titleInputProcess","descInputProcess","bodyInputProcess","tagInputProcess","addTagProcess","removeTagProcess","publishArticleProcess","startFetchingFeedCommand","fetchFeedCommand","articles","articlesCount","favoriteFeedArticleCommand","getItemIndex","loginEmailInputCommand","email","loginPasswordInputCommand","password","registerEmailInputCommand","registerPasswordInputCommand","registerUsernameInputCommand","clearLoginInputs","clearRegisterInputs","startLoginCommand","startRegisterCommand","setSessionCommand","loginCommand","user","setItem","registerCommand","logoutCommand","removeItem","loginProcess","registerProcess","loginEmailInputProcess","loginPasswordInputProcess","registerEmailInputProcess","registerPasswordInputProcess","registerUsernameInputProcess","logoutProcess","startGetProfileCommand","getProfileCommand","image","bio","changeRouteCommand","emailInputCommand","passwordInputCommand","usernameInputCommand","bioInputCommand","imageUrlInputCommand","imageUrl","startUserSettingsCommand","loaded","getUserSettingsCommand","updateUserSettingsCommand","updateUserSettingsProcess","usernameInputProcess","emailInputProcess","passwordInputProcess","bioInputProcess","imageUrlInputProcess","getTagsCommand","Content-Type","Link_1","ArticlePreview","_onFav","buttonClasses","src","createdAt","toDateString","favoritesCount","Banner","FeedPagination","pageNumbers","ceil","ArticlePreview_1","FeedPagination_1","_onGlobalFeedClick","_onFeedClick","_buildTabs","showPagination","isProfile","articleList","_authenticatedMenu","_unauthenticatedMenu","Banner_1","FeedsContainer_1","TagsContainer_1"],"mappings":"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","file":"main.6cf9ead30e8496f9000a.bundle.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"main\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"main\"] = factory();\n\telse\n\t\troot[\"main\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition","import { Handle } from './interfaces';\nimport { createCompositeHandle } from './lang';\nimport Promise from '@dojo/shim/Promise';\n\n/**\n * No operation function to replace own once instance is destoryed\n */\nfunction noop(): Promise<boolean> {\n\treturn Promise.resolve(false);\n}\n\n/**\n * No op function used to replace own, once instance has been destoryed\n */\nfunction destroyed(): never {\n\tthrow new Error('Call made to destroyed method');\n}\n\nexport class Destroyable {\n\t/**\n\t * register handles for the instance\n\t */\n\tprivate handles: Handle[];\n\n\t/**\n\t * @constructor\n\t */\n\tconstructor() {\n\t\tthis.handles = [];\n\t}\n\n\t/**\n\t * Register handles for the instance that will be destroyed when `this.destroy` is called\n\t *\n\t * @param {Handle} handle The handle to add for the instance\n\t * @returns {Handle} a handle for the handle, removes the handle for the instance and calls destroy\n\t */\n\town(handles: Handle | Handle[]): Handle {\n\t\tconst handle = Array.isArray(handles) ? createCompositeHandle(...handles) : handles;\n\t\tconst { handles: _handles } = this;\n\t\t_handles.push(handle);\n\t\treturn {\n\t\t\tdestroy() {\n\t\t\t\t_handles.splice(_handles.indexOf(handle));\n\t\t\t\thandle.destroy();\n\t\t\t}\n\t\t};\n\t}\n\n\t/**\n\t * Destrpys all handers registered for the instance\n\t *\n\t * @returns {Promise<any} a promise that resolves once all handles have been destroyed\n\t */\n\tdestroy(): Promise<any> {\n\t\treturn new Promise((resolve) => {\n\t\t\tthis.handles.forEach((handle) => {\n\t\t\t\thandle && handle.destroy && handle.destroy();\n\t\t\t});\n\t\t\tthis.destroy = noop;\n\t\t\tthis.own = destroyed;\n\t\t\tresolve(true);\n\t\t});\n\t}\n}\n\nexport default Destroyable;\n\n\n\n// WEBPACK FOOTER //\n// Destroyable.ts","import Map from '@dojo/shim/Map';\nimport { Handle, EventType, EventObject } from './interfaces';\nimport { on as aspectOn } from './aspect';\nimport { Destroyable } from './Destroyable';\n\n/**\n * Handles an array of handles\n *\n * @param handles an array of handles\n * @returns a single Handle for handles passed\n */\nfunction handlesArraytoHandle(handles: Handle[]): Handle {\n\treturn {\n\t\tdestroy() {\n\t\t\thandles.forEach((handle) => handle.destroy());\n\t\t}\n\t};\n}\n\n/**\n * Map of computed regular expressions, keyed by string\n */\nconst regexMap = new Map<string, RegExp>();\n\n/**\n * Determines is the event type glob has been matched\n *\n * @returns boolean that indicates if the glob is matched\n */\nexport function isGlobMatch(globString: string | symbol, targetString: string | symbol): boolean {\n\tif (typeof targetString === 'string' && typeof globString === 'string' && globString.indexOf('*') !== -1) {\n\t\tlet regex: RegExp;\n\t\tif (regexMap.has(globString)) {\n\t\t\tregex = regexMap.get(globString)!;\n\t\t} else {\n\t\t\tregex = new RegExp(`^${globString.replace(/\\*/g, '.*')}$`);\n\t\t\tregexMap.set(globString, regex);\n\t\t}\n\t\treturn regex.test(targetString);\n\t} else {\n\t\treturn globString === targetString;\n\t}\n}\n\nexport type EventedCallback<T = EventType, E extends EventObject<T> = EventObject<T>> = {\n\t/**\n\t * A callback that takes an `event` argument\n\t *\n\t * @param event The event object\n\t */\n\n\t(event: E): boolean | void;\n};\n\n/**\n * A type which is either a targeted event listener or an array of listeners\n * @template T The type of target for the events\n * @template E The event type for the events\n */\nexport type EventedCallbackOrArray<T = EventType, E extends EventObject<T> = EventObject<T>> =\n\t| EventedCallback<T, E>\n\t| EventedCallback<T, E>[];\n\n/**\n * Event Class\n */\nexport class Evented<M extends {} = {}, T = EventType, O extends EventObject<T> = EventObject<T>> extends Destroyable {\n\t// The following member is purely so TypeScript remembers the type of `M` when extending so\n\t// that the utilities in `on.ts` will work\n\t// https://github.com/Microsoft/TypeScript/issues/20348\n\t// tslint:disable-next-line\n\tprotected __typeMap__?: M;\n\n\t/**\n\t * map of listeners keyed by event type\n\t */\n\tprotected listenersMap: Map<T | keyof M, EventedCallback<T, O> | EventedCallback<keyof M, M[keyof M]>> = new Map();\n\n\t/**\n\t * Emits the event objet for the specified type\n\t *\n\t * @param event the event to emit\n\t */\n\temit<K extends keyof M>(event: M[K]): void;\n\temit(event: O): void;\n\temit(event: any): void {\n\t\tthis.listenersMap.forEach((method, type) => {\n\t\t\t// Since `type` is generic, the compiler doesn't know what type it is and `isGlobMatch` requires `string | symbol`\n\t\t\tif (isGlobMatch(type as any, event.type)) {\n\t\t\t\tmethod.call(this, event);\n\t\t\t}\n\t\t});\n\t}\n\n\t/**\n\t * Catch all handler for various call signatures. The signatures are defined in\n\t * `BaseEventedEvents`.  You can add your own event type -> handler types by extending\n\t * `BaseEventedEvents`.  See example for details.\n\t *\n\t * @param args\n\t *\n\t * @example\n\t *\n\t * interface WidgetBaseEvents extends BaseEventedEvents {\n\t *     (type: 'properties:changed', handler: PropertiesChangedHandler): Handle;\n\t * }\n\t * class WidgetBase extends Evented {\n\t *    on: WidgetBaseEvents;\n\t * }\n\t *\n\t * @return {any}\n\t */\n\ton<K extends keyof M>(type: K, listener: EventedCallbackOrArray<K, M[K]>): Handle;\n\ton(type: T, listener: EventedCallbackOrArray<T, O>): Handle;\n\ton(type: any, listener: EventedCallbackOrArray<any, any>): Handle {\n\t\tif (Array.isArray(listener)) {\n\t\t\tconst handles = listener.map((listener) => aspectOn(this.listenersMap, type, listener));\n\t\t\treturn handlesArraytoHandle(handles);\n\t\t} else {\n\t\t\treturn aspectOn(this.listenersMap, type, listener);\n\t\t}\n\t}\n}\n\nexport default Evented;\n\n\n\n// WEBPACK FOOTER //\n// Evented.ts","import { Handle } from './interfaces';\nimport WeakMap from '@dojo/shim/WeakMap';\nimport { createHandle } from './lang';\n\n/**\n * An object that provides the necessary APIs to be MapLike\n */\nexport interface MapLike<K, V> {\n\tget(key: K): V;\n\tset(key: K, value?: V): this;\n}\n\n/**\n * An internal type guard that determines if an value is MapLike or not\n *\n * @param value The value to guard against\n */\nfunction isMapLike(value: any): value is MapLike<any, any> {\n\treturn value && typeof value.get === 'function' && typeof value.set === 'function';\n}\n\nexport interface Indexable {\n\t[method: string]: any;\n}\n\n/**\n * The types of objects or maps where advice can be applied\n */\nexport type Targetable = MapLike<string | symbol, any> | Indexable;\n\ntype AdviceType = 'before' | 'after' | 'around';\n\n/**\n * A meta data structure when applying advice\n */\ninterface Advised {\n\treadonly id?: number;\n\tadvice?: Function;\n\tprevious?: Advised;\n\tnext?: Advised;\n\treadonly receiveArguments?: boolean;\n}\n\n/**\n * A function that dispatches advice which is decorated with additional\n * meta data about the advice to apply\n */\ninterface Dispatcher {\n\t[type: string]: Advised | undefined;\n\t(): any;\n\ttarget: any;\n\tbefore?: Advised;\n\taround?: Advised;\n\tafter?: Advised;\n}\n\nexport interface JoinPointDispatchAdvice<T> {\n\tbefore?: JoinPointBeforeAdvice[];\n\tafter?: JoinPointAfterAdvice<T>[];\n\treadonly joinPoint: Function;\n}\n\nexport interface JoinPointAfterAdvice<T> {\n\t/**\n\t * Advice which is applied *after*, receiving the result and arguments from the join point.\n\t *\n\t * @param result The result from the function being advised\n\t * @param args The arguments that were supplied to the advised function\n\t * @returns The value returned from the advice is then the result of calling the method\n\t */\n\t(result: T, ...args: any[]): T;\n}\n\nexport interface JoinPointAroundAdvice<T> {\n\t/**\n\t * Advice which is applied *around*.  The advising function receives the original function and\n\t * needs to return a new function which will then invoke the original function.\n\t *\n\t * @param origFn The original function\n\t * @returns A new function which will invoke the original function.\n\t */\n\t(origFn: GenericFunction<T>): (...args: any[]) => T;\n}\n\nexport interface JoinPointBeforeAdvice {\n\t/**\n\t * Advice which is applied *before*, receiving the original arguments, if the advising\n\t * function returns a value, it is passed further along taking the place of the original\n\t * arguments.\n\t *\n\t * @param args The arguments the method was called with\n\t */\n\t(...args: any[]): any[] | void;\n}\n\nexport interface GenericFunction<T> {\n\t(...args: any[]): T;\n}\n\n/**\n * A weak map of dispatchers used to apply the advice\n */\nconst dispatchAdviceMap = new WeakMap<Function, JoinPointDispatchAdvice<any>>();\n\n/**\n * A UID for tracking advice ordering\n */\nlet nextId = 0;\n\n/**\n * Internal function that advises a join point\n *\n * @param dispatcher The current advice dispatcher\n * @param type The type of before or after advice to apply\n * @param advice The advice to apply\n * @param receiveArguments If true, the advice will receive the arguments passed to the join point\n * @return The handle that will remove the advice\n */\nfunction adviseObject(\n\tdispatcher: Dispatcher | undefined,\n\ttype: AdviceType,\n\tadvice: Function | undefined,\n\treceiveArguments?: boolean\n): Handle {\n\tlet previous = dispatcher && dispatcher[type];\n\tlet advised: Advised | undefined = {\n\t\tid: nextId++,\n\t\tadvice: advice,\n\t\treceiveArguments: receiveArguments\n\t};\n\n\tif (previous) {\n\t\tif (type === 'after') {\n\t\t\t// add the listener to the end of the list\n\t\t\t// note that we had to change this loop a little bit to workaround a bizarre IE10 JIT bug\n\t\t\twhile (previous.next && (previous = previous.next)) {}\n\t\t\tprevious.next = advised;\n\t\t\tadvised.previous = previous;\n\t\t} else {\n\t\t\t// add to the beginning\n\t\t\tif (dispatcher) {\n\t\t\t\tdispatcher.before = advised;\n\t\t\t}\n\t\t\tadvised.next = previous;\n\t\t\tprevious.previous = advised;\n\t\t}\n\t} else {\n\t\tdispatcher && (dispatcher[type] = advised);\n\t}\n\n\tadvice = previous = undefined;\n\n\treturn createHandle(function() {\n\t\tlet { previous = undefined, next = undefined } = advised || {};\n\n\t\tif (dispatcher && !previous && !next) {\n\t\t\tdispatcher[type] = undefined;\n\t\t} else {\n\t\t\tif (previous) {\n\t\t\t\tprevious.next = next;\n\t\t\t} else {\n\t\t\t\tdispatcher && (dispatcher[type] = next);\n\t\t\t}\n\n\t\t\tif (next) {\n\t\t\t\tnext.previous = previous;\n\t\t\t}\n\t\t}\n\t\tif (advised) {\n\t\t\tdelete advised.advice;\n\t\t}\n\t\tdispatcher = advised = undefined;\n\t});\n}\n\n/**\n * Advise a join point (function) with supplied advice\n *\n * @param joinPoint The function to be advised\n * @param type The type of advice to be applied\n * @param advice The advice to apply\n */\nfunction adviseJoinPoint<F extends GenericFunction<T>, T>(\n\tthis: any,\n\tjoinPoint: F,\n\ttype: AdviceType,\n\tadvice: JoinPointBeforeAdvice | JoinPointAfterAdvice<T> | JoinPointAroundAdvice<T>\n): F {\n\tlet dispatcher: F;\n\tif (type === 'around') {\n\t\tdispatcher = getJoinPointDispatcher(advice.apply(this, [joinPoint]));\n\t} else {\n\t\tdispatcher = getJoinPointDispatcher(joinPoint);\n\t\t// cannot have undefined in map due to code logic, using !\n\t\tconst adviceMap = dispatchAdviceMap.get(dispatcher)!;\n\t\tif (type === 'before') {\n\t\t\t(adviceMap.before || (adviceMap.before = [])).unshift(<JoinPointBeforeAdvice>advice);\n\t\t} else {\n\t\t\t(adviceMap.after || (adviceMap.after = [])).push(advice);\n\t\t}\n\t}\n\treturn dispatcher;\n}\n\n/**\n * An internal function that resolves or creates the dispatcher for a given join point\n *\n * @param target The target object or map\n * @param methodName The name of the method that the dispatcher should be resolved for\n * @return The dispatcher\n */\nfunction getDispatcherObject(target: Targetable, methodName: string | symbol): Dispatcher {\n\tconst existing = isMapLike(target) ? target.get(methodName) : target && target[methodName];\n\tlet dispatcher: Dispatcher;\n\n\tif (!existing || existing.target !== target) {\n\t\t/* There is no existing dispatcher, therefore we will create one */\n\t\tdispatcher = <Dispatcher>function(this: Dispatcher): any {\n\t\t\tlet executionId = nextId;\n\t\t\tlet args = arguments;\n\t\t\tlet results: any;\n\t\t\tlet before = dispatcher.before;\n\n\t\t\twhile (before) {\n\t\t\t\tif (before.advice) {\n\t\t\t\t\targs = before.advice.apply(this, args) || args;\n\t\t\t\t}\n\t\t\t\tbefore = before.next;\n\t\t\t}\n\n\t\t\tif (dispatcher.around && dispatcher.around.advice) {\n\t\t\t\tresults = dispatcher.around.advice(this, args);\n\t\t\t}\n\n\t\t\tlet after = dispatcher.after;\n\t\t\twhile (after && after.id !== undefined && after.id < executionId) {\n\t\t\t\tif (after.advice) {\n\t\t\t\t\tif (after.receiveArguments) {\n\t\t\t\t\t\tlet newResults = after.advice.apply(this, args);\n\t\t\t\t\t\tresults = newResults === undefined ? results : newResults;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresults = after.advice.call(this, results, args);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tafter = after.next;\n\t\t\t}\n\n\t\t\treturn results;\n\t\t};\n\n\t\tif (isMapLike(target)) {\n\t\t\ttarget.set(methodName, dispatcher);\n\t\t} else {\n\t\t\ttarget && (target[methodName] = dispatcher);\n\t\t}\n\n\t\tif (existing) {\n\t\t\tdispatcher.around = {\n\t\t\t\tadvice: function(target: any, args: any[]): any {\n\t\t\t\t\treturn existing.apply(target, args);\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\n\t\tdispatcher.target = target;\n\t} else {\n\t\tdispatcher = existing;\n\t}\n\n\treturn dispatcher;\n}\n\n/**\n * Returns the dispatcher function for a given joinPoint (method/function)\n *\n * @param joinPoint The function that is to be advised\n */\nfunction getJoinPointDispatcher<F extends GenericFunction<T>, T>(joinPoint: F): F {\n\tfunction dispatcher(this: Function, ...args: any[]): T {\n\t\t// cannot have undefined in map due to code logic, using !\n\t\tconst { before, after, joinPoint } = dispatchAdviceMap.get(dispatcher)!;\n\t\tif (before) {\n\t\t\targs = before.reduce((previousArgs, advice) => {\n\t\t\t\tconst currentArgs = advice.apply(this, previousArgs);\n\t\t\t\treturn currentArgs || previousArgs;\n\t\t\t}, args);\n\t\t}\n\t\tlet result = joinPoint.apply(this, args);\n\t\tif (after) {\n\t\t\tresult = after.reduce((previousResult, advice) => {\n\t\t\t\treturn advice.apply(this, [previousResult].concat(args));\n\t\t\t}, result);\n\t\t}\n\t\treturn result;\n\t}\n\n\t/* We want to \"clone\" the advice that has been applied already, if this\n\t * joinPoint is already advised */\n\tif (dispatchAdviceMap.has(joinPoint)) {\n\t\t// cannot have undefined in map due to code logic, using !\n\t\tconst adviceMap = dispatchAdviceMap.get(joinPoint)!;\n\t\tlet { before, after } = adviceMap;\n\t\tif (before) {\n\t\t\tbefore = before.slice(0);\n\t\t}\n\t\tif (after) {\n\t\t\tafter = after.slice(0);\n\t\t}\n\t\tdispatchAdviceMap.set(dispatcher, {\n\t\t\tjoinPoint: adviceMap.joinPoint,\n\t\t\tbefore,\n\t\t\tafter\n\t\t});\n\t} else {\n\t\t/* Otherwise, this is a new joinPoint, so we will create the advice map afresh */\n\t\tdispatchAdviceMap.set(dispatcher, { joinPoint });\n\t}\n\n\treturn dispatcher as F;\n}\n\n/**\n * Apply advice *after* the supplied joinPoint (function)\n *\n * @param joinPoint A function that should have advice applied to\n * @param advice The after advice\n */\nfunction afterJoinPoint<F extends GenericFunction<T>, T>(joinPoint: F, advice: JoinPointAfterAdvice<T>): F {\n\treturn adviseJoinPoint(joinPoint, 'after', advice);\n}\n\n/**\n * Attaches \"after\" advice to be executed after the original method.\n * The advising function will receive the original method's return value and arguments object.\n * The value it returns will be returned from the method when it is called (even if the return value is undefined).\n *\n * @param target Object whose method will be aspected\n * @param methodName Name of method to aspect\n * @param advice Advising function which will receive the original method's return value and arguments object\n * @return A handle which will remove the aspect when destroy is called\n */\nfunction afterObject(\n\ttarget: Targetable,\n\tmethodName: string | symbol,\n\tadvice: (originalReturn: any, originalArgs: IArguments) => any\n): Handle {\n\treturn adviseObject(getDispatcherObject(target, methodName), 'after', advice);\n}\n\n/**\n * Attaches \"after\" advice to be executed after the original method.\n * The advising function will receive the original method's return value and arguments object.\n * The value it returns will be returned from the method when it is called (even if the return value is undefined).\n *\n * @param target Object whose method will be aspected\n * @param methodName Name of method to aspect\n * @param advice Advising function which will receive the original method's return value and arguments object\n * @return A handle which will remove the aspect when destroy is called\n */\nexport function after(\n\ttarget: Targetable,\n\tmethodName: string | symbol,\n\tadvice: (originalReturn: any, originalArgs: IArguments) => any\n): Handle;\n/**\n * Apply advice *after* the supplied joinPoint (function)\n *\n * @param joinPoint A function that should have advice applied to\n * @param advice The after advice\n */\nexport function after<F extends GenericFunction<T>, T>(joinPoint: F, advice: JoinPointAfterAdvice<T>): F;\nexport function after<F extends GenericFunction<T>, T>(\n\tjoinPointOrTarget: F | Targetable,\n\tmethodNameOrAdvice: string | symbol | JoinPointAfterAdvice<T>,\n\tobjectAdvice?: (originalReturn: any, originalArgs: IArguments) => any\n): Handle | F {\n\tif (typeof joinPointOrTarget === 'function') {\n\t\treturn afterJoinPoint(joinPointOrTarget, <JoinPointAfterAdvice<T>>methodNameOrAdvice);\n\t} else {\n\t\treturn afterObject(joinPointOrTarget, <string | symbol>methodNameOrAdvice, objectAdvice!);\n\t}\n}\n\n/**\n * Apply advice *around* the supplied joinPoint (function)\n *\n * @param joinPoint A function that should have advice applied to\n * @param advice The around advice\n */\nexport function aroundJoinPoint<F extends GenericFunction<T>, T>(joinPoint: F, advice: JoinPointAroundAdvice<T>): F {\n\treturn adviseJoinPoint<F, T>(joinPoint, 'around', advice);\n}\n\n/**\n * Attaches \"around\" advice around the original method.\n *\n * @param target Object whose method will be aspected\n * @param methodName Name of method to aspect\n * @param advice Advising function which will receive the original function\n * @return A handle which will remove the aspect when destroy is called\n */\nexport function aroundObject(\n\ttarget: Targetable,\n\tmethodName: string | symbol,\n\tadvice: ((previous: Function) => Function)\n): Handle {\n\tlet dispatcher: Dispatcher | undefined = getDispatcherObject(target, methodName);\n\tlet previous = dispatcher.around;\n\tlet advised: Function | undefined;\n\tif (advice) {\n\t\tadvised = advice(function(this: Dispatcher): any {\n\t\t\tif (previous && previous.advice) {\n\t\t\t\treturn previous.advice(this, arguments);\n\t\t\t}\n\t\t});\n\t}\n\n\tdispatcher.around = {\n\t\tadvice: function(target: any, args: any[]): any {\n\t\t\treturn advised ? advised.apply(target, args) : previous && previous.advice && previous.advice(target, args);\n\t\t}\n\t};\n\n\treturn createHandle(function() {\n\t\tadvised = dispatcher = undefined;\n\t});\n}\n\n/**\n * Attaches \"around\" advice around the original method.\n *\n * @param target Object whose method will be aspected\n * @param methodName Name of method to aspect\n * @param advice Advising function which will receive the original function\n * @return A handle which will remove the aspect when destroy is called\n */\nexport function around(\n\ttarget: Targetable,\n\tmethodName: string | symbol,\n\tadvice: ((previous: Function) => Function)\n): Handle;\n/**\n * Apply advice *around* the supplied joinPoint (function)\n *\n * @param joinPoint A function that should have advice applied to\n * @param advice The around advice\n */\nexport function around<F extends GenericFunction<T>, T>(joinPoint: F, advice: JoinPointAroundAdvice<T>): F;\nexport function around<F extends GenericFunction<T>, T>(\n\tjoinPointOrTarget: F | Targetable,\n\tmethodNameOrAdvice: string | symbol | JoinPointAroundAdvice<T>,\n\tobjectAdvice?: ((previous: Function) => Function)\n): Handle | F {\n\tif (typeof joinPointOrTarget === 'function') {\n\t\treturn aroundJoinPoint(joinPointOrTarget, <JoinPointAroundAdvice<T>>methodNameOrAdvice);\n\t} else {\n\t\treturn aroundObject(joinPointOrTarget, <string | symbol>methodNameOrAdvice, objectAdvice!);\n\t}\n}\n\n/**\n * Apply advice *before* the supplied joinPoint (function)\n *\n * @param joinPoint A function that should have advice applied to\n * @param advice The before advice\n */\nexport function beforeJoinPoint<F extends GenericFunction<any>>(joinPoint: F, advice: JoinPointBeforeAdvice): F {\n\treturn adviseJoinPoint(joinPoint, 'before', advice);\n}\n\n/**\n * Attaches \"before\" advice to be executed before the original method.\n *\n * @param target Object whose method will be aspected\n * @param methodName Name of method to aspect\n * @param advice Advising function which will receive the same arguments as the original, and may return new arguments\n * @return A handle which will remove the aspect when destroy is called\n */\nexport function beforeObject(\n\ttarget: Targetable,\n\tmethodName: string | symbol,\n\tadvice: (...originalArgs: any[]) => any[] | void\n): Handle {\n\treturn adviseObject(getDispatcherObject(target, methodName), 'before', advice);\n}\n\n/**\n * Attaches \"before\" advice to be executed before the original method.\n *\n * @param target Object whose method will be aspected\n * @param methodName Name of method to aspect\n * @param advice Advising function which will receive the same arguments as the original, and may return new arguments\n * @return A handle which will remove the aspect when destroy is called\n */\nexport function before(\n\ttarget: Targetable,\n\tmethodName: string | symbol,\n\tadvice: (...originalArgs: any[]) => any[] | void\n): Handle;\n/**\n * Apply advice *before* the supplied joinPoint (function)\n *\n * @param joinPoint A function that should have advice applied to\n * @param advice The before advice\n */\nexport function before<F extends GenericFunction<any>>(joinPoint: F, advice: JoinPointBeforeAdvice): F;\nexport function before<F extends GenericFunction<T>, T>(\n\tjoinPointOrTarget: F | Targetable,\n\tmethodNameOrAdvice: string | symbol | JoinPointBeforeAdvice,\n\tobjectAdvice?: ((...originalArgs: any[]) => any[] | void)\n): Handle | F {\n\tif (typeof joinPointOrTarget === 'function') {\n\t\treturn beforeJoinPoint(joinPointOrTarget, <JoinPointBeforeAdvice>methodNameOrAdvice);\n\t} else {\n\t\treturn beforeObject(joinPointOrTarget, <string | symbol>methodNameOrAdvice, objectAdvice!);\n\t}\n}\n\n/**\n * Attaches advice to be executed after the original method.\n * The advising function will receive the same arguments as the original method.\n * The value it returns will be returned from the method when it is called *unless* its return value is undefined.\n *\n * @param target Object whose method will be aspected\n * @param methodName Name of method to aspect\n * @param advice Advising function which will receive the same arguments as the original method\n * @return A handle which will remove the aspect when destroy is called\n */\nexport function on(target: Targetable, methodName: string | symbol, advice: (...originalArgs: any[]) => any): Handle {\n\treturn adviseObject(getDispatcherObject(target, methodName), 'after', advice, true);\n}\n\n\n\n// WEBPACK FOOTER //\n// aspect.ts","import { Handle } from './interfaces';\nimport { assign } from '@dojo/shim/object';\n\nexport { assign } from '@dojo/shim/object';\n\nconst slice = Array.prototype.slice;\nconst hasOwnProperty = Object.prototype.hasOwnProperty;\n\n/**\n * Type guard that ensures that the value can be coerced to Object\n * to weed out host objects that do not derive from Object.\n * This function is used to check if we want to deep copy an object or not.\n * Note: In ES6 it is possible to modify an object's Symbol.toStringTag property, which will\n * change the value returned by `toString`. This is a rare edge case that is difficult to handle,\n * so it is not handled here.\n * @param  value The value to check\n * @return       If the value is coercible into an Object\n */\nfunction shouldDeepCopyObject(value: any): value is Object {\n\treturn Object.prototype.toString.call(value) === '[object Object]';\n}\n\nfunction copyArray<T>(array: T[], inherited: boolean): T[] {\n\treturn array.map(function(item: T): T {\n\t\tif (Array.isArray(item)) {\n\t\t\treturn <any>copyArray(<any>item, inherited);\n\t\t}\n\n\t\treturn !shouldDeepCopyObject(item)\n\t\t\t? item\n\t\t\t: _mixin({\n\t\t\t\t\tdeep: true,\n\t\t\t\t\tinherited: inherited,\n\t\t\t\t\tsources: <Array<T>>[item],\n\t\t\t\t\ttarget: <T>{}\n\t\t\t\t});\n\t});\n}\n\ninterface MixinArgs<T extends {}, U extends {}> {\n\tdeep: boolean;\n\tinherited: boolean;\n\tsources: (U | null | undefined)[];\n\ttarget: T;\n\tcopied?: any[];\n}\n\nfunction _mixin<T extends {}, U extends {}>(kwArgs: MixinArgs<T, U>): T & U {\n\tconst deep = kwArgs.deep;\n\tconst inherited = kwArgs.inherited;\n\tconst target: any = kwArgs.target;\n\tconst copied = kwArgs.copied || [];\n\tconst copiedClone = [...copied];\n\n\tfor (let i = 0; i < kwArgs.sources.length; i++) {\n\t\tconst source = kwArgs.sources[i];\n\n\t\tif (source === null || source === undefined) {\n\t\t\tcontinue;\n\t\t}\n\t\tfor (let key in source) {\n\t\t\tif (inherited || hasOwnProperty.call(source, key)) {\n\t\t\t\tlet value: any = source[key];\n\n\t\t\t\tif (copiedClone.indexOf(value) !== -1) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tif (deep) {\n\t\t\t\t\tif (Array.isArray(value)) {\n\t\t\t\t\t\tvalue = copyArray(value, inherited);\n\t\t\t\t\t} else if (shouldDeepCopyObject(value)) {\n\t\t\t\t\t\tconst targetValue: any = target[key] || {};\n\t\t\t\t\t\tcopied.push(source);\n\t\t\t\t\t\tvalue = _mixin({\n\t\t\t\t\t\t\tdeep: true,\n\t\t\t\t\t\t\tinherited: inherited,\n\t\t\t\t\t\t\tsources: [value],\n\t\t\t\t\t\t\ttarget: targetValue,\n\t\t\t\t\t\t\tcopied\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\ttarget[key] = value;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn <T & U>target;\n}\n\n/**\n * Creates a new object from the given prototype, and copies all enumerable own properties of one or more\n * source objects to the newly created target object.\n *\n * @param prototype The prototype to create a new object from\n * @param mixins Any number of objects whose enumerable own properties will be copied to the created object\n * @return The new object\n */\nexport function create<\n\tT extends {},\n\tU extends {},\n\tV extends {},\n\tW extends {},\n\tX extends {},\n\tY extends {},\n\tZ extends {}\n>(prototype: T, mixin1: U, mixin2: V, mixin3: W, mixin4: X, mixin5: Y, mixin6: Z): T & U & V & W & X & Y & Z;\nexport function create<T extends {}, U extends {}, V extends {}, W extends {}, X extends {}, Y extends {}>(\n\tprototype: T,\n\tmixin1: U,\n\tmixin2: V,\n\tmixin3: W,\n\tmixin4: X,\n\tmixin5: Y\n): T & U & V & W & X & Y;\nexport function create<T extends {}, U extends {}, V extends {}, W extends {}, X extends {}>(\n\tprototype: T,\n\tmixin1: U,\n\tmixin2: V,\n\tmixin3: W,\n\tmixin4: X\n): T & U & V & W & X;\nexport function create<T extends {}, U extends {}, V extends {}, W extends {}>(\n\tprototype: T,\n\tmixin1: U,\n\tmixin2: V,\n\tmixin3: W\n): T & U & V & W;\nexport function create<T extends {}, U extends {}, V extends {}>(prototype: T, mixin1: U, mixin2: V): T & U & V;\nexport function create<T extends {}, U extends {}>(prototype: T, mixin: U): T & U;\nexport function create<T extends {}>(prototype: T): T;\nexport function create(prototype: any, ...mixins: any[]): any {\n\tif (!mixins.length) {\n\t\tthrow new RangeError('lang.create requires at least one mixin object.');\n\t}\n\n\tconst args = mixins.slice();\n\targs.unshift(Object.create(prototype));\n\n\treturn assign.apply(null, args);\n}\n\n/**\n * Copies the values of all enumerable own properties of one or more source objects to the target object,\n * recursively copying all nested objects and arrays as well.\n *\n * @param target The target object to receive values from source objects\n * @param sources Any number of objects whose enumerable own properties will be copied to the target object\n * @return The modified target object\n */\nexport function deepAssign<\n\tT extends {},\n\tU extends {},\n\tV extends {},\n\tW extends {},\n\tX extends {},\n\tY extends {},\n\tZ extends {}\n>(target: T, source1: U, source2: V, source3: W, source4: X, source5: Y, source6: Z): T & U & V & W & X & Y & Z;\nexport function deepAssign<T extends {}, U extends {}, V extends {}, W extends {}, X extends {}, Y extends {}>(\n\ttarget: T,\n\tsource1: U,\n\tsource2: V,\n\tsource3: W,\n\tsource4: X,\n\tsource5: Y\n): T & U & V & W & X & Y;\nexport function deepAssign<T extends {}, U extends {}, V extends {}, W extends {}, X extends {}>(\n\ttarget: T,\n\tsource1: U,\n\tsource2: V,\n\tsource3: W,\n\tsource4: X\n): T & U & V & W & X;\nexport function deepAssign<T extends {}, U extends {}, V extends {}, W extends {}>(\n\ttarget: T,\n\tsource1: U,\n\tsource2: V,\n\tsource3: W\n): T & U & V & W;\nexport function deepAssign<T extends {}, U extends {}, V extends {}>(target: T, source1: U, source2: V): T & U & V;\nexport function deepAssign<T extends {}, U extends {}>(target: T, source: U): T & U;\nexport function deepAssign(target: any, ...sources: any[]): any {\n\treturn _mixin({\n\t\tdeep: true,\n\t\tinherited: false,\n\t\tsources: sources,\n\t\ttarget: target\n\t});\n}\n\n/**\n * Copies the values of all enumerable (own or inherited) properties of one or more source objects to the\n * target object, recursively copying all nested objects and arrays as well.\n *\n * @param target The target object to receive values from source objects\n * @param sources Any number of objects whose enumerable properties will be copied to the target object\n * @return The modified target object\n */\nexport function deepMixin<\n\tT extends {},\n\tU extends {},\n\tV extends {},\n\tW extends {},\n\tX extends {},\n\tY extends {},\n\tZ extends {}\n>(target: T, source1: U, source2: V, source3: W, source4: X, source5: Y, source6: Z): T & U & V & W & X & Y & Z;\nexport function deepMixin<T extends {}, U extends {}, V extends {}, W extends {}, X extends {}, Y extends {}>(\n\ttarget: T,\n\tsource1: U,\n\tsource2: V,\n\tsource3: W,\n\tsource4: X,\n\tsource5: Y\n): T & U & V & W & X & Y;\nexport function deepMixin<T extends {}, U extends {}, V extends {}, W extends {}, X extends {}>(\n\ttarget: T,\n\tsource1: U,\n\tsource2: V,\n\tsource3: W,\n\tsource4: X\n): T & U & V & W & X;\nexport function deepMixin<T extends {}, U extends {}, V extends {}, W extends {}>(\n\ttarget: T,\n\tsource1: U,\n\tsource2: V,\n\tsource3: W\n): T & U & V & W;\nexport function deepMixin<T extends {}, U extends {}, V extends {}>(target: T, source1: U, source2: V): T & U & V;\nexport function deepMixin<T extends {}, U extends {}>(target: T, source: U): T & U;\nexport function deepMixin(target: any, ...sources: any[]): any {\n\treturn _mixin({\n\t\tdeep: true,\n\t\tinherited: true,\n\t\tsources: sources,\n\t\ttarget: target\n\t});\n}\n\n/**\n * Creates a new object using the provided source's prototype as the prototype for the new object, and then\n * deep copies the provided source's values into the new target.\n *\n * @param source The object to duplicate\n * @return The new object\n */\nexport function duplicate<T extends {}>(source: T): T {\n\tconst target = Object.create(Object.getPrototypeOf(source));\n\n\treturn deepMixin(target, source);\n}\n\n/**\n * Determines whether two values are the same value.\n *\n * @param a First value to compare\n * @param b Second value to compare\n * @return true if the values are the same; false otherwise\n */\nexport function isIdentical(a: any, b: any): boolean {\n\treturn (\n\t\ta === b ||\n\t\t/* both values are NaN */\n\t\t(a !== a && b !== b)\n\t);\n}\n\n/**\n * Returns a function that binds a method to the specified object at runtime. This is similar to\n * `Function.prototype.bind`, but instead of a function it takes the name of a method on an object.\n * As a result, the function returned by `lateBind` will always call the function currently assigned to\n * the specified property on the object as of the moment the function it returns is called.\n *\n * @param instance The context object\n * @param method The name of the method on the context object to bind to itself\n * @param suppliedArgs An optional array of values to prepend to the `instance[method]` arguments list\n * @return The bound function\n */\nexport function lateBind(instance: {}, method: string, ...suppliedArgs: any[]): (...args: any[]) => any {\n\treturn suppliedArgs.length\n\t\t? function() {\n\t\t\t\tconst args: any[] = arguments.length ? suppliedArgs.concat(slice.call(arguments)) : suppliedArgs;\n\n\t\t\t\t// TS7017\n\t\t\t\treturn (<any>instance)[method].apply(instance, args);\n\t\t\t}\n\t\t: function() {\n\t\t\t\t// TS7017\n\t\t\t\treturn (<any>instance)[method].apply(instance, arguments);\n\t\t\t};\n}\n\n/**\n * Copies the values of all enumerable (own or inherited) properties of one or more source objects to the\n * target object.\n *\n * @return The modified target object\n */\nexport function mixin<T extends {}, U extends {}, V extends {}, W extends {}, X extends {}, Y extends {}, Z extends {}>(\n\ttarget: T,\n\tsource1: U,\n\tsource2: V,\n\tsource3: W,\n\tsource4: X,\n\tsource5: Y,\n\tsource6: Z\n): T & U & V & W & X & Y & Z;\nexport function mixin<T extends {}, U extends {}, V extends {}, W extends {}, X extends {}, Y extends {}>(\n\ttarget: T,\n\tsource1: U,\n\tsource2: V,\n\tsource3: W,\n\tsource4: X,\n\tsource5: Y\n): T & U & V & W & X & Y;\nexport function mixin<T extends {}, U extends {}, V extends {}, W extends {}, X extends {}>(\n\ttarget: T,\n\tsource1: U,\n\tsource2: V,\n\tsource3: W,\n\tsource4: X\n): T & U & V & W & X;\nexport function mixin<T extends {}, U extends {}, V extends {}, W extends {}>(\n\ttarget: T,\n\tsource1: U,\n\tsource2: V,\n\tsource3: W\n): T & U & V & W;\nexport function mixin<T extends {}, U extends {}, V extends {}>(target: T, source1: U, source2: V): T & U & V;\nexport function mixin<T extends {}, U extends {}>(target: T, source: U): T & U;\nexport function mixin(target: any, ...sources: any[]): any {\n\treturn _mixin({\n\t\tdeep: false,\n\t\tinherited: true,\n\t\tsources: sources,\n\t\ttarget: target\n\t});\n}\n\n/**\n * Returns a function which invokes the given function with the given arguments prepended to its argument list.\n * Like `Function.prototype.bind`, but does not alter execution context.\n *\n * @param targetFunction The function that needs to be bound\n * @param suppliedArgs An optional array of arguments to prepend to the `targetFunction` arguments list\n * @return The bound function\n */\nexport function partial(targetFunction: (...args: any[]) => any, ...suppliedArgs: any[]): (...args: any[]) => any {\n\treturn function(this: any) {\n\t\tconst args: any[] = arguments.length ? suppliedArgs.concat(slice.call(arguments)) : suppliedArgs;\n\n\t\treturn targetFunction.apply(this, args);\n\t};\n}\n\n/**\n * Returns an object with a destroy method that, when called, calls the passed-in destructor.\n * This is intended to provide a unified interface for creating \"remove\" / \"destroy\" handlers for\n * event listeners, timers, etc.\n *\n * @param destructor A function that will be called when the handle's `destroy` method is invoked\n * @return The handle object\n */\nexport function createHandle(destructor: () => void): Handle {\n\treturn {\n\t\tdestroy: function(this: Handle) {\n\t\t\tthis.destroy = function() {};\n\t\t\tdestructor.call(this);\n\t\t}\n\t};\n}\n\n/**\n * Returns a single handle that can be used to destroy multiple handles simultaneously.\n *\n * @param handles An array of handles with `destroy` methods\n * @return The handle object\n */\nexport function createCompositeHandle(...handles: Handle[]): Handle {\n\treturn createHandle(function() {\n\t\tfor (let i = 0; i < handles.length; i++) {\n\t\t\thandles[i].destroy();\n\t\t}\n\t});\n}\n\n\n\n// WEBPACK FOOTER //\n// lang.ts","import has, { add } from '@dojo/has/has';\nimport global from '../global';\n\nexport default has;\nexport * from '@dojo/has/has';\n\n/* ECMAScript 6 and 7 Features */\n\n/* Array */\nadd(\n\t'es6-array',\n\t() => {\n\t\treturn (\n\t\t\t['from', 'of'].every((key) => key in global.Array) &&\n\t\t\t['findIndex', 'find', 'copyWithin'].every((key) => key in global.Array.prototype)\n\t\t);\n\t},\n\ttrue\n);\n\nadd(\n\t'es6-array-fill',\n\t() => {\n\t\tif ('fill' in global.Array.prototype) {\n\t\t\t/* Some versions of Safari do not properly implement this */\n\t\t\treturn (<any>[1]).fill(9, Number.POSITIVE_INFINITY)[0] === 1;\n\t\t}\n\t\treturn false;\n\t},\n\ttrue\n);\n\nadd('es7-array', () => 'includes' in global.Array.prototype, true);\n\n/* Map */\nadd(\n\t'es6-map',\n\t() => {\n\t\tif (typeof global.Map === 'function') {\n\t\t\t/*\n\t\tIE11 and older versions of Safari are missing critical ES6 Map functionality\n\t\tWe wrap this in a try/catch because sometimes the Map constructor exists, but does not\n\t\ttake arguments (iOS 8.4)\n\t\t */\n\t\t\ttry {\n\t\t\t\tconst map = new global.Map([[0, 1]]);\n\n\t\t\t\treturn (\n\t\t\t\t\tmap.has(0) &&\n\t\t\t\t\ttypeof map.keys === 'function' &&\n\t\t\t\t\thas('es6-symbol') &&\n\t\t\t\t\ttypeof map.values === 'function' &&\n\t\t\t\t\ttypeof map.entries === 'function'\n\t\t\t\t);\n\t\t\t} catch (e) {\n\t\t\t\t/* istanbul ignore next: not testing on iOS at the moment */\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t},\n\ttrue\n);\n\n/* Math */\nadd(\n\t'es6-math',\n\t() => {\n\t\treturn [\n\t\t\t'clz32',\n\t\t\t'sign',\n\t\t\t'log10',\n\t\t\t'log2',\n\t\t\t'log1p',\n\t\t\t'expm1',\n\t\t\t'cosh',\n\t\t\t'sinh',\n\t\t\t'tanh',\n\t\t\t'acosh',\n\t\t\t'asinh',\n\t\t\t'atanh',\n\t\t\t'trunc',\n\t\t\t'fround',\n\t\t\t'cbrt',\n\t\t\t'hypot'\n\t\t].every((name) => typeof global.Math[name] === 'function');\n\t},\n\ttrue\n);\n\nadd(\n\t'es6-math-imul',\n\t() => {\n\t\tif ('imul' in global.Math) {\n\t\t\t/* Some versions of Safari on ios do not properly implement this */\n\t\t\treturn (<any>Math).imul(0xffffffff, 5) === -5;\n\t\t}\n\t\treturn false;\n\t},\n\ttrue\n);\n\n/* Object */\nadd(\n\t'es6-object',\n\t() => {\n\t\treturn (\n\t\t\thas('es6-symbol') &&\n\t\t\t['assign', 'is', 'getOwnPropertySymbols', 'setPrototypeOf'].every(\n\t\t\t\t(name) => typeof global.Object[name] === 'function'\n\t\t\t)\n\t\t);\n\t},\n\ttrue\n);\n\nadd(\n\t'es2017-object',\n\t() => {\n\t\treturn ['values', 'entries', 'getOwnPropertyDescriptors'].every(\n\t\t\t(name) => typeof global.Object[name] === 'function'\n\t\t);\n\t},\n\ttrue\n);\n\n/* Observable */\nadd('es-observable', () => typeof global.Observable !== 'undefined', true);\n\n/* Promise */\nadd('es6-promise', () => typeof global.Promise !== 'undefined' && has('es6-symbol'), true);\n\n/* Set */\nadd(\n\t'es6-set',\n\t() => {\n\t\tif (typeof global.Set === 'function') {\n\t\t\t/* IE11 and older versions of Safari are missing critical ES6 Set functionality */\n\t\t\tconst set = new global.Set([1]);\n\t\t\treturn set.has(1) && 'keys' in set && typeof set.keys === 'function' && has('es6-symbol');\n\t\t}\n\t\treturn false;\n\t},\n\ttrue\n);\n\n/* String */\nadd(\n\t'es6-string',\n\t() => {\n\t\treturn (\n\t\t\t[\n\t\t\t\t/* static methods */\n\t\t\t\t'fromCodePoint'\n\t\t\t].every((key) => typeof global.String[key] === 'function') &&\n\t\t\t[\n\t\t\t\t/* instance methods */\n\t\t\t\t'codePointAt',\n\t\t\t\t'normalize',\n\t\t\t\t'repeat',\n\t\t\t\t'startsWith',\n\t\t\t\t'endsWith',\n\t\t\t\t'includes'\n\t\t\t].every((key) => typeof global.String.prototype[key] === 'function')\n\t\t);\n\t},\n\ttrue\n);\n\nadd(\n\t'es6-string-raw',\n\t() => {\n\t\tfunction getCallSite(callSite: TemplateStringsArray, ...substitutions: any[]) {\n\t\t\tconst result = [...callSite];\n\t\t\t(result as any).raw = callSite.raw;\n\t\t\treturn result;\n\t\t}\n\n\t\tif ('raw' in global.String) {\n\t\t\tlet b = 1;\n\t\t\tlet callSite = getCallSite`a\\n${b}`;\n\n\t\t\t(callSite as any).raw = ['a\\\\n'];\n\t\t\tconst supportsTrunc = global.String.raw(callSite, 42) === 'a:\\\\n';\n\n\t\t\treturn supportsTrunc;\n\t\t}\n\n\t\treturn false;\n\t},\n\ttrue\n);\n\nadd(\n\t'es2017-string',\n\t() => {\n\t\treturn ['padStart', 'padEnd'].every((key) => typeof global.String.prototype[key] === 'function');\n\t},\n\ttrue\n);\n\n/* Symbol */\nadd('es6-symbol', () => typeof global.Symbol !== 'undefined' && typeof Symbol() === 'symbol', true);\n\n/* WeakMap */\nadd(\n\t'es6-weakmap',\n\t() => {\n\t\tif (typeof global.WeakMap !== 'undefined') {\n\t\t\t/* IE11 and older versions of Safari are missing critical ES6 Map functionality */\n\t\t\tconst key1 = {};\n\t\t\tconst key2 = {};\n\t\t\tconst map = new global.WeakMap([[key1, 1]]);\n\t\t\tObject.freeze(key1);\n\t\t\treturn map.get(key1) === 1 && map.set(key2, 2) === map && has('es6-symbol');\n\t\t}\n\t\treturn false;\n\t},\n\ttrue\n);\n\n/* Miscellaneous features */\nadd('microtasks', () => has('es6-promise') || has('host-node') || has('dom-mutationobserver'), true);\nadd(\n\t'postmessage',\n\t() => {\n\t\t// If window is undefined, and we have postMessage, it probably means we're in a web worker. Web workers have\n\t\t// post message but it doesn't work how we expect it to, so it's best just to pretend it doesn't exist.\n\t\treturn typeof global.window !== 'undefined' && typeof global.postMessage === 'function';\n\t},\n\ttrue\n);\nadd('raf', () => typeof global.requestAnimationFrame === 'function', true);\nadd('setimmediate', () => typeof global.setImmediate !== 'undefined', true);\n\n/* DOM Features */\n\nadd(\n\t'dom-mutationobserver',\n\t() => {\n\t\tif (has('host-browser') && Boolean(global.MutationObserver || global.WebKitMutationObserver)) {\n\t\t\t// IE11 has an unreliable MutationObserver implementation where setProperty() does not\n\t\t\t// generate a mutation event, observers can crash, and the queue does not drain\n\t\t\t// reliably. The following feature test was adapted from\n\t\t\t// https://gist.github.com/t10ko/4aceb8c71681fdb275e33efe5e576b14\n\t\t\tconst example = document.createElement('div');\n\t\t\t/* tslint:disable-next-line:variable-name */\n\t\t\tconst HostMutationObserver = global.MutationObserver || global.WebKitMutationObserver;\n\t\t\tconst observer = new HostMutationObserver(function() {});\n\t\t\tobserver.observe(example, { attributes: true });\n\n\t\t\texample.style.setProperty('display', 'block');\n\n\t\t\treturn Boolean(observer.takeRecords().length);\n\t\t}\n\t\treturn false;\n\t},\n\ttrue\n);\n\n\n\n// WEBPACK FOOTER //\n// has.ts","import { WidgetBase } from '@dojo/widget-core/WidgetBase';\nimport { v } from '@dojo/widget-core/d';\nimport { inject } from '@dojo/widget-core/decorators/inject';\nimport { Constructor, DNode, VNodeProperties } from '@dojo/widget-core/interfaces';\nimport { LinkProperties } from './interfaces';\nimport { Router } from './Router';\n\nconst getProperties = (router: Router, properties: LinkProperties): VNodeProperties => {\n\tconst { to, isOutlet = true, params = {}, onClick, ...props } = properties;\n\tconst href = isOutlet ? router.link(to, params) : to;\n\n\tconst handleOnClick = (event: MouseEvent) => {\n\t\tonClick && onClick(event);\n\n\t\tif (!event.defaultPrevented && event.button === 0 && !properties.target) {\n\t\t\tevent.preventDefault();\n\t\t\thref !== undefined && router.setPath(href);\n\t\t}\n\t};\n\treturn {\n\t\thref,\n\t\tonClick: handleOnClick,\n\t\t...props\n\t};\n};\n\nexport class BaseLink extends WidgetBase<LinkProperties> {\n\tprivate _onClick(event: MouseEvent): void {\n\t\tthis.properties.onClick && this.properties.onClick(event);\n\t}\n\n\tprotected render(): DNode {\n\t\tconst props = {\n\t\t\t...this.properties,\n\t\t\tonclick: this._onClick,\n\t\t\tonClick: undefined,\n\t\t\tto: undefined,\n\t\t\tisOutlet: undefined,\n\t\t\tparams: undefined,\n\t\t\trouterKey: undefined,\n\t\t\trouter: undefined\n\t\t};\n\t\treturn v('a', props, this.children);\n\t}\n}\n\nexport function createLink(routerKey: string): Constructor<BaseLink> {\n\t@inject({ name: routerKey, getProperties })\n\tclass Link extends BaseLink {}\n\treturn Link;\n}\n\nexport const Link = createLink('router');\n\nexport default Link;\n\n\n\n// WEBPACK FOOTER //\n// Link.ts","import { DNode, WidgetBaseInterface } from '@dojo/widget-core/interfaces';\nimport { WidgetBase } from '@dojo/widget-core/WidgetBase';\nimport { w } from '@dojo/widget-core/d';\nimport { inject } from '@dojo/widget-core/decorators/inject';\nimport { alwaysRender } from '@dojo/widget-core/decorators/alwaysRender';\nimport { OnEnter, Component, OutletOptions, OutletComponents, Outlet, Params, OutletContext } from './interfaces';\nimport { Router } from './Router';\n\nexport function isComponent<W extends WidgetBaseInterface>(value: any): value is Component<W> {\n\treturn Boolean(value && (typeof value === 'string' || typeof value === 'function' || typeof value === 'symbol'));\n}\n\nexport function getProperties(router: Router, properties: any) {\n\treturn { router };\n}\n\nexport function Outlet<W extends WidgetBaseInterface, F extends WidgetBaseInterface, E extends WidgetBaseInterface>(\n\toutletComponents: Component<W> | OutletComponents<W, F, E>,\n\toutlet: string,\n\toptions: OutletOptions = {}\n): Outlet<W, F, E> {\n\tconst indexComponent = isComponent(outletComponents) ? undefined : outletComponents.index;\n\tconst mainComponent = isComponent(outletComponents) ? outletComponents : outletComponents.main;\n\tconst errorComponent = isComponent(outletComponents) ? undefined : outletComponents.error;\n\tconst { mapParams, key = 'router' } = options;\n\n\t@inject({ name: key, getProperties })\n\t@alwaysRender()\n\tclass OutletComponent extends WidgetBase<Partial<W['properties']> & { router: Router }, null> {\n\t\tprivate _matched = false;\n\t\tprivate _matchedParams: Params = {};\n\t\tprivate _onExit?: () => void;\n\n\t\tprivate _hasRouteChanged(params: Params): boolean {\n\t\t\tif (!this._matched) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tconst newParamKeys = Object.keys(params);\n\t\t\tfor (let i = 0; i < newParamKeys.length; i++) {\n\t\t\t\tconst key = newParamKeys[i];\n\t\t\t\tif (this._matchedParams[key] !== params[key]) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t}\n\n\t\tprivate _onEnter(outletContext: OutletContext, onEnterCallback?: OnEnter) {\n\t\t\tconst { params, type } = outletContext;\n\t\t\tif (this._hasRouteChanged(params)) {\n\t\t\t\tonEnterCallback && onEnterCallback(params, type);\n\t\t\t\tthis._matched = true;\n\t\t\t\tthis._matchedParams = params;\n\t\t\t}\n\t\t}\n\n\t\tprotected onDetach() {\n\t\t\tif (this._matched) {\n\t\t\t\tthis._onExit && this._onExit();\n\t\t\t\tthis._matched = false;\n\t\t\t}\n\t\t}\n\n\t\tprotected render(): DNode {\n\t\t\tlet { router, ...properties } = this.properties;\n\n\t\t\tconst outletContext = router.getOutlet(outlet);\n\t\t\tif (outletContext) {\n\t\t\t\tconst { queryParams, params, type, onEnter, onExit } = outletContext;\n\t\t\t\tthis._onExit = onExit;\n\t\t\t\tif (mapParams) {\n\t\t\t\t\tproperties = { ...properties, ...mapParams({ queryParams, params, type, router }) };\n\t\t\t\t}\n\n\t\t\t\tif (type === 'index' && indexComponent) {\n\t\t\t\t\tthis._onEnter(outletContext, onEnter);\n\t\t\t\t\treturn w(indexComponent, properties, this.children);\n\t\t\t\t} else if (type === 'error' && errorComponent) {\n\t\t\t\t\tthis._onEnter(outletContext, onEnter);\n\t\t\t\t\treturn w(errorComponent, properties, this.children);\n\t\t\t\t} else if (type === 'error' && indexComponent) {\n\t\t\t\t\tthis._onEnter(outletContext, onEnter);\n\t\t\t\t\treturn w(indexComponent, properties, this.children);\n\t\t\t\t} else if (type !== 'error' && mainComponent) {\n\t\t\t\t\tthis._onEnter(outletContext, onEnter);\n\t\t\t\t\treturn w(mainComponent, properties, this.children);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (this._matched) {\n\t\t\t\tthis._onExit && this._onExit();\n\t\t\t\tthis._matched = false;\n\t\t\t}\n\t\t\treturn null;\n\t\t}\n\t}\n\treturn OutletComponent;\n}\n\nexport default Outlet;\n\n\n\n// WEBPACK FOOTER //\n// Outlet.ts","import { Evented } from '@dojo/core/Evented';\nimport {\n\tRouteConfig,\n\tHistory,\n\tMatchType,\n\tOutletContext,\n\tParams,\n\tRouterInterface,\n\tRoute,\n\tRouterOptions\n} from './interfaces';\nimport { HashHistory } from './history/HashHistory';\n\nconst PARAM = Symbol('routing param');\n\nexport class Router extends Evented implements RouterInterface {\n\tprivate _routes: Route[] = [];\n\tprivate _outletMap: { [index: string]: Route } = Object.create(null);\n\tprivate _matchedOutlets: { [index: string]: OutletContext } = Object.create(null);\n\tprivate _currentParams: Params = {};\n\tprivate _defaultOutlet: string;\n\tprivate _history: History;\n\n\tconstructor(config: RouteConfig[], options: RouterOptions = {}) {\n\t\tsuper();\n\t\tconst { HistoryManager = HashHistory, base, window } = options;\n\t\tthis._register(config);\n\t\tthis._history = new HistoryManager({ onChange: this._onChange, base, window });\n\t\tif (this._matchedOutlets.errorOutlet && this._defaultOutlet) {\n\t\t\tconst path = this.link(this._defaultOutlet);\n\t\t\tif (path) {\n\t\t\t\tthis.setPath(path);\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Sets the path against the registered history manager\n\t *\n\t * @param path The path to set on the history manager\n\t */\n\tpublic setPath(path: string): void {\n\t\tthis._history.set(path);\n\t}\n\n\t/**\n\t * Generate a link for a given outlet identifier and optional params.\n\t *\n\t * @param outlet The outlet to generate a link for\n\t * @param params Optional Params for the generated link\n\t */\n\tpublic link(outlet: string, params: Params = {}): string | undefined {\n\t\tconst { _outletMap, _currentParams } = this;\n\t\tlet route = _outletMap[outlet];\n\t\tif (route === undefined) {\n\t\t\treturn;\n\t\t}\n\n\t\tlet linkPath = route.fullPath;\n\t\tparams = { ...route.defaultParams, ..._currentParams, ...params };\n\n\t\tif (Object.keys(params).length === 0 && route.fullParams.length > 0) {\n\t\t\treturn undefined;\n\t\t}\n\n\t\tfor (let i = 0; i < route.fullParams.length; i++) {\n\t\t\tconst param = route.fullParams[i];\n\t\t\tif (params[param]) {\n\t\t\t\tlinkPath = linkPath.replace(`{${param}}`, params[param]);\n\t\t\t} else {\n\t\t\t\treturn undefined;\n\t\t\t}\n\t\t}\n\t\treturn linkPath;\n\t}\n\n\t/**\n\t * Returns the outlet context for the outlet identifier if one has been matched\n\t *\n\t * @param outletIdentifier The outlet identifer\n\t */\n\tpublic getOutlet(outletIdentifier: string): OutletContext | undefined {\n\t\treturn this._matchedOutlets[outletIdentifier];\n\t}\n\n\t/**\n\t * Returns all the params for the current matched outlets\n\t */\n\tpublic get currentParams() {\n\t\treturn this._currentParams;\n\t}\n\n\t/**\n\t * Strips the leading slash on a path if one exists\n\t *\n\t * @param path The path to strip a leading slash\n\t */\n\tprivate _stripLeadingSlash(path: string): string {\n\t\tif (path[0] === '/') {\n\t\t\treturn path.slice(1);\n\t\t}\n\t\treturn path;\n\t}\n\n\t/**\n\t * Registers the routing configuration\n\t *\n\t * @param config The configuration\n\t * @param routes The routes\n\t * @param parentRoute The parent route\n\t */\n\tprivate _register(config: RouteConfig[], routes?: Route[], parentRoute?: Route): void {\n\t\troutes = routes ? routes : this._routes;\n\t\tfor (let i = 0; i < config.length; i++) {\n\t\t\tlet { onEnter, onExit, path, outlet, children, defaultRoute = false, defaultParams = {} } = config[i];\n\t\t\tpath = this._stripLeadingSlash(path);\n\t\t\tconst segments: (symbol | string)[] = path.split('/');\n\t\t\tconst route: Route = {\n\t\t\t\tparams: [],\n\t\t\t\toutlet,\n\t\t\t\tpath,\n\t\t\t\tsegments,\n\t\t\t\tdefaultParams,\n\t\t\t\tquery: [],\n\t\t\t\tchildren: [],\n\t\t\t\tfullPath: parentRoute ? `${parentRoute.fullPath}/${path}` : path,\n\t\t\t\tfullParams: [],\n\t\t\t\tonEnter,\n\t\t\t\tonExit\n\t\t\t};\n\t\t\tif (defaultRoute) {\n\t\t\t\tthis._defaultOutlet = outlet;\n\t\t\t}\n\t\t\tfor (let i = 0; i < segments.length; i++) {\n\t\t\t\tconst segment = segments[i];\n\t\t\t\tif (typeof segment === 'string' && segment[0] === '{') {\n\t\t\t\t\troute.params.push(segment.replace('{', '').replace('}', ''));\n\t\t\t\t\tsegments[i] = PARAM;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\troute.fullParams = parentRoute ? [...parentRoute.fullParams, ...route.params] : route.params;\n\n\t\t\tif (children && children.length > 0) {\n\t\t\t\tthis._register(children, route.children, route);\n\t\t\t}\n\t\t\tthis._outletMap[outlet] = route;\n\t\t\troutes.push(route);\n\t\t}\n\t}\n\n\t/**\n\t * Returns an object of query params\n\t *\n\t * @param queryParamString The string of query params, e.g `paramOne=one&paramTwo=two`\n\t */\n\tprivate _getQueryParams(queryParamString?: string): { [index: string]: string } {\n\t\tconst queryParams: { [index: string]: string } = {};\n\t\tif (queryParamString) {\n\t\t\tconst queryParameters = queryParamString.split('&');\n\t\t\tfor (let i = 0; i < queryParameters.length; i++) {\n\t\t\t\tconst [key, value] = queryParameters[i].split('=');\n\t\t\t\tqueryParams[key] = value;\n\t\t\t}\n\t\t}\n\t\treturn queryParams;\n\t}\n\n\t/**\n\t * Called on change of the route by the the registered history manager. Matches the path against\n\t * the registered outlets.\n\t *\n\t * @param requestedPath The path of the requested route\n\t */\n\tprivate _onChange = (requestedPath: string): void => {\n\t\tthis.emit({ type: 'navstart' });\n\t\tthis._matchedOutlets = Object.create(null);\n\t\tthis._currentParams = {};\n\t\trequestedPath = this._stripLeadingSlash(requestedPath);\n\n\t\tconst [path, queryParamString] = requestedPath.split('?');\n\t\tconst queryParams = this._getQueryParams(queryParamString);\n\t\tlet matchedOutletContext: OutletContext | undefined;\n\t\tlet matchedOutlet: string | undefined;\n\t\tlet routes = [...this._routes];\n\t\tlet paramIndex = 0;\n\t\tlet segments = path.split('/');\n\t\tlet routeMatched = false;\n\t\tlet previousOutlet: string | undefined;\n\t\twhile (routes.length > 0) {\n\t\t\tif (segments.length === 0) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tconst route = routes.shift()!;\n\t\t\tconst { onEnter, onExit } = route;\n\t\t\tlet type: MatchType = 'index';\n\t\t\tconst segmentsForRoute = [...segments];\n\t\t\tlet routeMatch = true;\n\t\t\tlet segmentIndex = 0;\n\n\t\t\tif (segments.length < route.segments.length) {\n\t\t\t\trouteMatch = false;\n\t\t\t} else {\n\t\t\t\twhile (segments.length > 0) {\n\t\t\t\t\tif (route.segments[segmentIndex] === undefined) {\n\t\t\t\t\t\ttype = 'partial';\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tconst segment = segments.shift()!;\n\t\t\t\t\tif (route.segments[segmentIndex] === PARAM) {\n\t\t\t\t\t\tthis._currentParams[route.params[paramIndex++]] = segment;\n\t\t\t\t\t} else if (route.segments[segmentIndex] !== segment) {\n\t\t\t\t\t\trouteMatch = false;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tsegmentIndex++;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (routeMatch === true) {\n\t\t\t\tpreviousOutlet = route.outlet;\n\t\t\t\trouteMatched = true;\n\t\t\t\tthis._matchedOutlets[route.outlet] = {\n\t\t\t\t\tqueryParams,\n\t\t\t\t\tparams: { ...this._currentParams },\n\t\t\t\t\ttype,\n\t\t\t\t\tonEnter,\n\t\t\t\t\tonExit\n\t\t\t\t};\n\t\t\t\tmatchedOutletContext = this._matchedOutlets[route.outlet];\n\t\t\t\tmatchedOutlet = route.outlet;\n\t\t\t\tif (route.children.length) {\n\t\t\t\t\tparamIndex = 0;\n\t\t\t\t}\n\t\t\t\troutes = [...route.children];\n\t\t\t} else {\n\t\t\t\tif (previousOutlet !== undefined && routes.length === 0) {\n\t\t\t\t\tthis._matchedOutlets[previousOutlet].type = 'error';\n\t\t\t\t}\n\t\t\t\tsegments = [...segmentsForRoute];\n\t\t\t}\n\t\t}\n\t\tif (routeMatched === false) {\n\t\t\tthis._matchedOutlets.errorOutlet = { queryParams, params: { ...this._currentParams }, type: 'error' };\n\t\t}\n\t\tthis.emit({ type: 'nav', outlet: matchedOutlet, context: matchedOutletContext });\n\t};\n}\n\nexport default Router;\n\n\n\n// WEBPACK FOOTER //\n// Router.ts","import { Registry } from '@dojo/widget-core/Registry';\nimport { Injector } from '@dojo/widget-core/Injector';\nimport { RegistryLabel } from '@dojo/widget-core/interfaces';\n\nimport { Router } from './Router';\nimport { RouteConfig, RouterOptions } from './interfaces';\n\n/**\n * Router Injector Options\n *\n */\nexport interface RouterInjectorOptions extends RouterOptions {\n\tkey?: RegistryLabel;\n}\n\n/**\n * Creates a router instance for a specific History manager (default is `HashHistory`) and registers\n * the route configuration.\n *\n * @param config The route config to register for the router\n * @param registry An optional registry that defaults to the global registry\n * @param options The router injector options\n */\nexport function registerRouterInjector(\n\tconfig: RouteConfig[],\n\tregistry: Registry,\n\toptions: RouterInjectorOptions = {}\n): Router {\n\tconst { key = 'router', ...routerOptions } = options;\n\n\tif (registry.hasInjector(key)) {\n\t\tthrow new Error('Router has already been defined');\n\t}\n\tconst router = new Router(config, routerOptions);\n\tconst injector = new Injector(router);\n\trouter.on('navstart', () => {\n\t\tinjector.emit({ type: 'invalidate' });\n\t});\n\tregistry.defineInjector(key, injector);\n\treturn router;\n}\n\n\n\n// WEBPACK FOOTER //\n// RouterInjector.ts","import global from '@dojo/shim/global';\nimport { History, HistoryOptions, OnChangeFunction } from './../interfaces';\n\nexport class HashHistory implements History {\n\tprivate _onChangeFunction: OnChangeFunction;\n\tprivate _current: string;\n\tprivate _window: Window;\n\n\tconstructor({ window = global.window, onChange }: HistoryOptions) {\n\t\tthis._onChangeFunction = onChange;\n\t\tthis._window = window;\n\t\tthis._window.addEventListener('hashchange', this._onChange, false);\n\t\tthis._onChange();\n\t}\n\n\tpublic normalizePath(path: string): string {\n\t\treturn path.replace('#', '');\n\t}\n\n\tpublic prefix(path: string) {\n\t\tif (path[0] !== '#') {\n\t\t\treturn `#${path}`;\n\t\t}\n\t\treturn path;\n\t}\n\n\tpublic set(path: string) {\n\t\tthis._window.location.hash = this.prefix(path);\n\t}\n\n\tpublic get current(): string {\n\t\treturn this._current;\n\t}\n\n\tpublic destroy() {\n\t\tthis._window.removeEventListener('hashchange', this._onChange);\n\t}\n\n\tprivate _onChange = () => {\n\t\tthis._current = this.normalizePath(this._window.location.hash);\n\t\tthis._onChangeFunction(this._current);\n\t};\n}\n\nexport default HashHistory;\n\n\n\n// WEBPACK FOOTER //\n// HashHistory.ts","import { isArrayLike, Iterable, IterableIterator, ShimIterator } from './iterator';\nimport global from './global';\nimport { is as objectIs } from './object';\nimport has from './support/has';\nimport './Symbol';\n\nexport interface Map<K, V> {\n\t/**\n\t * Deletes all keys and their associated values.\n\t */\n\tclear(): void;\n\n\t/**\n\t * Deletes a given key and its associated value.\n\t *\n\t * @param key The key to delete\n\t * @return true if the key exists, false if it does not\n\t */\n\tdelete(key: K): boolean;\n\n\t/**\n\t * Returns an iterator that yields each key/value pair as an array.\n\t *\n\t * @return An iterator for each key/value pair in the instance.\n\t */\n\tentries(): IterableIterator<[K, V]>;\n\n\t/**\n\t * Executes a given function for each map entry. The function\n\t * is invoked with three arguments: the element value, the\n\t * element key, and the associated Map instance.\n\t *\n\t * @param callbackfn The function to execute for each map entry,\n\t * @param thisArg The value to use for `this` for each execution of the calback\n\t */\n\tforEach(callbackfn: (value: V, key: K, map: Map<K, V>) => void, thisArg?: any): void;\n\n\t/**\n\t * Returns the value associated with a given key.\n\t *\n\t * @param key The key to look up\n\t * @return The value if one exists or undefined\n\t */\n\tget(key: K): V | undefined;\n\n\t/**\n\t * Returns an iterator that yields each key in the map.\n\t *\n\t * @return An iterator containing the instance's keys.\n\t */\n\tkeys(): IterableIterator<K>;\n\n\t/**\n\t * Checks for the presence of a given key.\n\t *\n\t * @param key The key to check for\n\t * @return true if the key exists, false if it does not\n\t */\n\thas(key: K): boolean;\n\n\t/**\n\t * Sets the value associated with a given key.\n\t *\n\t * @param key The key to define a value to\n\t * @param value The value to assign\n\t * @return The Map instance\n\t */\n\tset(key: K, value: V): this;\n\n\t/**\n\t * Returns the number of key / value pairs in the Map.\n\t */\n\treadonly size: number;\n\n\t/**\n\t * Returns an iterator that yields each value in the map.\n\t *\n\t * @return An iterator containing the instance's values.\n\t */\n\tvalues(): IterableIterator<V>;\n\n\t/** Returns an iterable of entries in the map. */\n\t[Symbol.iterator](): IterableIterator<[K, V]>;\n\n\treadonly [Symbol.toStringTag]: string;\n}\n\nexport interface MapConstructor {\n\t/**\n\t * Creates a new Map\n\t *\n\t * @constructor\n\t */\n\tnew (): Map<any, any>;\n\n\t/**\n\t * Creates a new Map\n\t *\n\t * @constructor\n\t *\n\t * @param iterator\n\t * Array or iterator containing two-item tuples used to initially populate the map.\n\t * The first item in each tuple corresponds to the key of the map entry.\n\t * The second item corresponds to the value of the map entry.\n\t */\n\tnew <K, V>(iterator?: [K, V][]): Map<K, V>;\n\n\t/**\n\t * Creates a new Map\n\t *\n\t * @constructor\n\t *\n\t * @param iterator\n\t * Array or iterator containing two-item tuples used to initially populate the map.\n\t * The first item in each tuple corresponds to the key of the map entry.\n\t * The second item corresponds to the value of the map entry.\n\t */\n\tnew <K, V>(iterator: Iterable<[K, V]>): Map<K, V>;\n\n\treadonly prototype: Map<any, any>;\n\n\treadonly [Symbol.species]: MapConstructor;\n}\n\nexport let Map: MapConstructor = global.Map;\n\nif (!has('es6-map')) {\n\tMap = class Map<K, V> {\n\t\tprotected readonly _keys: K[] = [];\n\t\tprotected readonly _values: V[] = [];\n\n\t\t/**\n\t\t * An alternative to Array.prototype.indexOf using Object.is\n\t\t * to check for equality. See http://mzl.la/1zuKO2V\n\t\t */\n\t\tprotected _indexOfKey(keys: K[], key: K): number {\n\t\t\tfor (let i = 0, length = keys.length; i < length; i++) {\n\t\t\t\tif (objectIs(keys[i], key)) {\n\t\t\t\t\treturn i;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn -1;\n\t\t}\n\n\t\tstatic [Symbol.species] = Map;\n\n\t\tconstructor(iterable?: ArrayLike<[K, V]> | Iterable<[K, V]>) {\n\t\t\tif (iterable) {\n\t\t\t\tif (isArrayLike(iterable)) {\n\t\t\t\t\tfor (let i = 0; i < iterable.length; i++) {\n\t\t\t\t\t\tconst value = iterable[i];\n\t\t\t\t\t\tthis.set(value[0], value[1]);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tfor (const value of iterable) {\n\t\t\t\t\t\tthis.set(value[0], value[1]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tget size(): number {\n\t\t\treturn this._keys.length;\n\t\t}\n\n\t\tclear(): void {\n\t\t\tthis._keys.length = this._values.length = 0;\n\t\t}\n\n\t\tdelete(key: K): boolean {\n\t\t\tconst index = this._indexOfKey(this._keys, key);\n\t\t\tif (index < 0) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tthis._keys.splice(index, 1);\n\t\t\tthis._values.splice(index, 1);\n\t\t\treturn true;\n\t\t}\n\n\t\tentries(): IterableIterator<[K, V]> {\n\t\t\tconst values = this._keys.map((key: K, i: number): [K, V] => {\n\t\t\t\treturn [key, this._values[i]];\n\t\t\t});\n\n\t\t\treturn new ShimIterator(values);\n\t\t}\n\n\t\tforEach(callback: (value: V, key: K, mapInstance: Map<K, V>) => any, context?: {}) {\n\t\t\tconst keys = this._keys;\n\t\t\tconst values = this._values;\n\t\t\tfor (let i = 0, length = keys.length; i < length; i++) {\n\t\t\t\tcallback.call(context, values[i], keys[i], this);\n\t\t\t}\n\t\t}\n\n\t\tget(key: K): V | undefined {\n\t\t\tconst index = this._indexOfKey(this._keys, key);\n\t\t\treturn index < 0 ? undefined : this._values[index];\n\t\t}\n\n\t\thas(key: K): boolean {\n\t\t\treturn this._indexOfKey(this._keys, key) > -1;\n\t\t}\n\n\t\tkeys(): IterableIterator<K> {\n\t\t\treturn new ShimIterator(this._keys);\n\t\t}\n\n\t\tset(key: K, value: V): Map<K, V> {\n\t\t\tlet index = this._indexOfKey(this._keys, key);\n\t\t\tindex = index < 0 ? this._keys.length : index;\n\t\t\tthis._keys[index] = key;\n\t\t\tthis._values[index] = value;\n\t\t\treturn this;\n\t\t}\n\n\t\tvalues(): IterableIterator<V> {\n\t\t\treturn new ShimIterator(this._values);\n\t\t}\n\n\t\t[Symbol.iterator](): IterableIterator<[K, V]> {\n\t\t\treturn this.entries();\n\t\t}\n\n\t\t[Symbol.toStringTag]: 'Map' = 'Map';\n\t};\n}\n\nexport default Map;\n\n\n\n// WEBPACK FOOTER //\n// Map.ts","import { Thenable } from './interfaces';\nimport global from './global';\nimport { queueMicroTask } from './support/queue';\nimport { Iterable } from './iterator';\nimport './Symbol';\nimport has from './support/has';\n\n/**\n * Executor is the interface for functions used to initialize a Promise.\n */\nexport interface Executor<T> {\n\t/**\n\t * The executor for the promise\n\t *\n\t * @param resolve The resolver callback of the promise\n\t * @param reject The rejector callback of the promise\n\t */\n\t(resolve: (value?: T | PromiseLike<T>) => void, reject: (reason?: any) => void): void;\n}\n\nexport let ShimPromise: typeof Promise = global.Promise;\n\nexport const isThenable = function isThenable<T>(value: any): value is PromiseLike<T> {\n\treturn value && typeof value.then === 'function';\n};\n\nif (!has('es6-promise')) {\n\tconst enum State {\n\t\tFulfilled,\n\t\tPending,\n\t\tRejected\n\t}\n\n\tglobal.Promise = ShimPromise = class Promise<T> implements Thenable<T> {\n\t\tstatic all(iterable: Iterable<any | PromiseLike<any>> | (any | PromiseLike<any>)[]): Promise<any> {\n\t\t\treturn new this(function(resolve, reject) {\n\t\t\t\tconst values: any[] = [];\n\t\t\t\tlet complete = 0;\n\t\t\t\tlet total = 0;\n\t\t\t\tlet populating = true;\n\n\t\t\t\tfunction fulfill(index: number, value: any): void {\n\t\t\t\t\tvalues[index] = value;\n\t\t\t\t\t++complete;\n\t\t\t\t\tfinish();\n\t\t\t\t}\n\n\t\t\t\tfunction finish(): void {\n\t\t\t\t\tif (populating || complete < total) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tresolve(values);\n\t\t\t\t}\n\n\t\t\t\tfunction processItem(index: number, item: any): void {\n\t\t\t\t\t++total;\n\t\t\t\t\tif (isThenable(item)) {\n\t\t\t\t\t\t// If an item Promise rejects, this Promise is immediately rejected with the item\n\t\t\t\t\t\t// Promise's rejection error.\n\t\t\t\t\t\titem.then(fulfill.bind(null, index), reject);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tPromise.resolve(item).then(fulfill.bind(null, index));\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tlet i = 0;\n\t\t\t\tfor (const value of iterable) {\n\t\t\t\t\tprocessItem(i, value);\n\t\t\t\t\ti++;\n\t\t\t\t}\n\t\t\t\tpopulating = false;\n\n\t\t\t\tfinish();\n\t\t\t});\n\t\t}\n\n\t\tstatic race<T>(iterable: Iterable<T | PromiseLike<T>> | (T | PromiseLike<T>)[]): Promise<T[]> {\n\t\t\treturn new this(function(resolve: (value?: any) => void, reject) {\n\t\t\t\tfor (const item of iterable) {\n\t\t\t\t\tif (item instanceof Promise) {\n\t\t\t\t\t\t// If a Promise item rejects, this Promise is immediately rejected with the item\n\t\t\t\t\t\t// Promise's rejection error.\n\t\t\t\t\t\titem.then(resolve, reject);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tPromise.resolve(item).then(resolve);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tstatic reject(reason?: any): Promise<never> {\n\t\t\treturn new this(function(resolve, reject) {\n\t\t\t\treject(reason);\n\t\t\t});\n\t\t}\n\n\t\tstatic resolve(): Promise<void>;\n\t\tstatic resolve<T>(value: T | PromiseLike<T>): Promise<T>;\n\t\tstatic resolve<T>(value?: any): Promise<T> {\n\t\t\treturn new this(function(resolve) {\n\t\t\t\tresolve(<T>value);\n\t\t\t});\n\t\t}\n\n\t\tstatic [Symbol.species]: PromiseConstructor = ShimPromise as PromiseConstructor;\n\n\t\t/**\n\t\t * Creates a new Promise.\n\t\t *\n\t\t * @constructor\n\t\t *\n\t\t * @param executor\n\t\t * The executor function is called immediately when the Promise is instantiated. It is responsible for\n\t\t * starting the asynchronous operation when it is invoked.\n\t\t *\n\t\t * The executor must call either the passed `resolve` function when the asynchronous operation has completed\n\t\t * successfully, or the `reject` function when the operation fails.\n\t\t */\n\t\tconstructor(executor: Executor<T>) {\n\t\t\t/**\n\t\t\t * If true, the resolution of this promise is chained (\"locked in\") to another promise.\n\t\t\t */\n\t\t\tlet isChained = false;\n\n\t\t\t/**\n\t\t\t * Whether or not this promise is in a resolved state.\n\t\t\t */\n\t\t\tconst isResolved = (): boolean => {\n\t\t\t\treturn this.state !== State.Pending || isChained;\n\t\t\t};\n\n\t\t\t/**\n\t\t\t * Callbacks that should be invoked once the asynchronous operation has completed.\n\t\t\t */\n\t\t\tlet callbacks: null | (Array<() => void>) = [];\n\n\t\t\t/**\n\t\t\t * Initially pushes callbacks onto a queue for execution once this promise settles. After the promise settles,\n\t\t\t * enqueues callbacks for execution on the next event loop turn.\n\t\t\t */\n\t\t\tlet whenFinished = function(callback: () => void): void {\n\t\t\t\tif (callbacks) {\n\t\t\t\t\tcallbacks.push(callback);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\t/**\n\t\t\t * Settles this promise.\n\t\t\t *\n\t\t\t * @param newState The resolved state for this promise.\n\t\t\t * @param {T|any} value The resolved value for this promise.\n\t\t\t */\n\t\t\tconst settle = (newState: State, value: any): void => {\n\t\t\t\t// A promise can only be settled once.\n\t\t\t\tif (this.state !== State.Pending) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tthis.state = newState;\n\t\t\t\tthis.resolvedValue = value;\n\t\t\t\twhenFinished = queueMicroTask;\n\n\t\t\t\t// Only enqueue a callback runner if there are callbacks so that initially fulfilled Promises don't have to\n\t\t\t\t// wait an extra turn.\n\t\t\t\tif (callbacks && callbacks.length > 0) {\n\t\t\t\t\tqueueMicroTask(function(): void {\n\t\t\t\t\t\tif (callbacks) {\n\t\t\t\t\t\t\tlet count = callbacks.length;\n\t\t\t\t\t\t\tfor (let i = 0; i < count; ++i) {\n\t\t\t\t\t\t\t\tcallbacks[i].call(null);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tcallbacks = null;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t};\n\n\t\t\t/**\n\t\t\t * Resolves this promise.\n\t\t\t *\n\t\t\t * @param newState The resolved state for this promise.\n\t\t\t * @param {T|any} value The resolved value for this promise.\n\t\t\t */\n\t\t\tconst resolve = (newState: State, value: any): void => {\n\t\t\t\tif (isResolved()) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (isThenable(value)) {\n\t\t\t\t\tvalue.then(settle.bind(null, State.Fulfilled), settle.bind(null, State.Rejected));\n\t\t\t\t\tisChained = true;\n\t\t\t\t} else {\n\t\t\t\t\tsettle(newState, value);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tthis.then = <TResult1 = T, TResult2 = never>(\n\t\t\t\tonFulfilled?: ((value: T) => TResult1 | PromiseLike<TResult1>) | undefined | null,\n\t\t\t\tonRejected?: ((reason: any) => TResult2 | PromiseLike<TResult2>) | undefined | null\n\t\t\t): Promise<TResult1 | TResult2> => {\n\t\t\t\treturn new Promise((resolve, reject) => {\n\t\t\t\t\t// whenFinished initially queues up callbacks for execution after the promise has settled. Once the\n\t\t\t\t\t// promise has settled, whenFinished will schedule callbacks for execution on the next turn through the\n\t\t\t\t\t// event loop.\n\t\t\t\t\twhenFinished(() => {\n\t\t\t\t\t\tconst callback: ((value?: any) => any) | undefined | null =\n\t\t\t\t\t\t\tthis.state === State.Rejected ? onRejected : onFulfilled;\n\n\t\t\t\t\t\tif (typeof callback === 'function') {\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\tresolve(callback(this.resolvedValue));\n\t\t\t\t\t\t\t} catch (error) {\n\t\t\t\t\t\t\t\treject(error);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else if (this.state === State.Rejected) {\n\t\t\t\t\t\t\treject(this.resolvedValue);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tresolve(this.resolvedValue);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t};\n\n\t\t\ttry {\n\t\t\t\texecutor(resolve.bind(null, State.Fulfilled), resolve.bind(null, State.Rejected));\n\t\t\t} catch (error) {\n\t\t\t\tsettle(State.Rejected, error);\n\t\t\t}\n\t\t}\n\n\t\tcatch<TResult = never>(\n\t\t\tonRejected?: ((reason: any) => TResult | PromiseLike<TResult>) | undefined | null\n\t\t): Promise<T | TResult> {\n\t\t\treturn this.then(undefined, onRejected);\n\t\t}\n\n\t\t/**\n\t\t * The current state of this promise.\n\t\t */\n\t\tprivate state = State.Pending;\n\n\t\t/**\n\t\t * The resolved value for this promise.\n\t\t *\n\t\t * @type {T|any}\n\t\t */\n\t\tprivate resolvedValue: any;\n\n\t\tthen: <TResult1 = T, TResult2 = never>(\n\t\t\tonfulfilled?: ((value: T) => TResult1 | PromiseLike<TResult1>) | undefined | null,\n\t\t\tonrejected?: ((reason: any) => TResult2 | PromiseLike<TResult2>) | undefined | null\n\t\t) => Promise<TResult1 | TResult2>;\n\n\t\t[Symbol.toStringTag]: 'Promise' = 'Promise';\n\t};\n}\n\nexport default ShimPromise;\n\n\n\n// WEBPACK FOOTER //\n// Promise.ts","import has from './support/has';\nimport global from './global';\nimport { getValueDescriptor } from './support/util';\n\ndeclare global {\n\tinterface SymbolConstructor {\n\t\tobservable: symbol;\n\t}\n}\n\nexport let Symbol: SymbolConstructor = global.Symbol;\n\nif (!has('es6-symbol')) {\n\t/**\n\t * Throws if the value is not a symbol, used internally within the Shim\n\t * @param  {any}    value The value to check\n\t * @return {symbol}       Returns the symbol or throws\n\t */\n\tconst validateSymbol = function validateSymbol(value: any): symbol {\n\t\tif (!isSymbol(value)) {\n\t\t\tthrow new TypeError(value + ' is not a symbol');\n\t\t}\n\t\treturn value;\n\t};\n\n\tconst defineProperties = Object.defineProperties;\n\tconst defineProperty: (\n\t\to: any,\n\t\tp: string | symbol,\n\t\tattributes: PropertyDescriptor & ThisType<any>\n\t) => any = Object.defineProperty as any;\n\tconst create = Object.create;\n\n\tconst objPrototype = Object.prototype;\n\n\tconst globalSymbols: { [key: string]: symbol } = {};\n\n\tconst getSymbolName = (function() {\n\t\tconst created = create(null);\n\t\treturn function(desc: string | number): string {\n\t\t\tlet postfix = 0;\n\t\t\tlet name: string;\n\t\t\twhile (created[String(desc) + (postfix || '')]) {\n\t\t\t\t++postfix;\n\t\t\t}\n\t\t\tdesc += String(postfix || '');\n\t\t\tcreated[desc] = true;\n\t\t\tname = '@@' + desc;\n\n\t\t\t// FIXME: Temporary guard until the duplicate execution when testing can be\n\t\t\t// pinned down.\n\t\t\tif (!Object.getOwnPropertyDescriptor(objPrototype, name)) {\n\t\t\t\tdefineProperty(objPrototype, name, {\n\t\t\t\t\tset: function(this: Symbol, value: any) {\n\t\t\t\t\t\tdefineProperty(this, name, getValueDescriptor(value));\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\n\t\t\treturn name;\n\t\t};\n\t})();\n\n\tconst InternalSymbol = function Symbol(this: any, description?: string | number): symbol {\n\t\tif (this instanceof InternalSymbol) {\n\t\t\tthrow new TypeError('TypeError: Symbol is not a constructor');\n\t\t}\n\t\treturn Symbol(description);\n\t};\n\n\tSymbol = global.Symbol = function Symbol(this: Symbol, description?: string | number): symbol {\n\t\tif (this instanceof Symbol) {\n\t\t\tthrow new TypeError('TypeError: Symbol is not a constructor');\n\t\t}\n\t\tconst sym = Object.create(InternalSymbol.prototype);\n\t\tdescription = description === undefined ? '' : String(description);\n\t\treturn defineProperties(sym, {\n\t\t\t__description__: getValueDescriptor(description),\n\t\t\t__name__: getValueDescriptor(getSymbolName(description))\n\t\t});\n\t} as SymbolConstructor;\n\n\t/* Decorate the Symbol function with the appropriate properties */\n\tdefineProperty(\n\t\tSymbol,\n\t\t'for',\n\t\tgetValueDescriptor(function(key: string): symbol {\n\t\t\tif (globalSymbols[key]) {\n\t\t\t\treturn globalSymbols[key];\n\t\t\t}\n\t\t\treturn (globalSymbols[key] = Symbol(String(key)));\n\t\t})\n\t);\n\tdefineProperties(Symbol, {\n\t\tkeyFor: getValueDescriptor(function(sym: symbol): string | undefined {\n\t\t\tlet key: string;\n\t\t\tvalidateSymbol(sym);\n\t\t\tfor (key in globalSymbols) {\n\t\t\t\tif (globalSymbols[key] === sym) {\n\t\t\t\t\treturn key;\n\t\t\t\t}\n\t\t\t}\n\t\t}),\n\t\thasInstance: getValueDescriptor(Symbol.for('hasInstance'), false, false),\n\t\tisConcatSpreadable: getValueDescriptor(Symbol.for('isConcatSpreadable'), false, false),\n\t\titerator: getValueDescriptor(Symbol.for('iterator'), false, false),\n\t\tmatch: getValueDescriptor(Symbol.for('match'), false, false),\n\t\tobservable: getValueDescriptor(Symbol.for('observable'), false, false),\n\t\treplace: getValueDescriptor(Symbol.for('replace'), false, false),\n\t\tsearch: getValueDescriptor(Symbol.for('search'), false, false),\n\t\tspecies: getValueDescriptor(Symbol.for('species'), false, false),\n\t\tsplit: getValueDescriptor(Symbol.for('split'), false, false),\n\t\ttoPrimitive: getValueDescriptor(Symbol.for('toPrimitive'), false, false),\n\t\ttoStringTag: getValueDescriptor(Symbol.for('toStringTag'), false, false),\n\t\tunscopables: getValueDescriptor(Symbol.for('unscopables'), false, false)\n\t});\n\n\t/* Decorate the InternalSymbol object */\n\tdefineProperties(InternalSymbol.prototype, {\n\t\tconstructor: getValueDescriptor(Symbol),\n\t\ttoString: getValueDescriptor(\n\t\t\tfunction(this: { __name__: string }) {\n\t\t\t\treturn this.__name__;\n\t\t\t},\n\t\t\tfalse,\n\t\t\tfalse\n\t\t)\n\t});\n\n\t/* Decorate the Symbol.prototype */\n\tdefineProperties(Symbol.prototype, {\n\t\ttoString: getValueDescriptor(function(this: Symbol) {\n\t\t\treturn 'Symbol (' + (<any>validateSymbol(this)).__description__ + ')';\n\t\t}),\n\t\tvalueOf: getValueDescriptor(function(this: Symbol) {\n\t\t\treturn validateSymbol(this);\n\t\t})\n\t});\n\n\tdefineProperty(\n\t\tSymbol.prototype,\n\t\tSymbol.toPrimitive,\n\t\tgetValueDescriptor(function(this: Symbol) {\n\t\t\treturn validateSymbol(this);\n\t\t})\n\t);\n\tdefineProperty(Symbol.prototype, Symbol.toStringTag, getValueDescriptor('Symbol', false, false, true));\n\n\tdefineProperty(\n\t\tInternalSymbol.prototype,\n\t\tSymbol.toPrimitive,\n\t\tgetValueDescriptor((<any>Symbol).prototype[Symbol.toPrimitive], false, false, true)\n\t);\n\tdefineProperty(\n\t\tInternalSymbol.prototype,\n\t\tSymbol.toStringTag,\n\t\tgetValueDescriptor((<any>Symbol).prototype[Symbol.toStringTag], false, false, true)\n\t);\n}\n\n/**\n * A custom guard function that determines if an object is a symbol or not\n * @param  {any}       value The value to check to see if it is a symbol or not\n * @return {is symbol}       Returns true if a symbol or not (and narrows the type guard)\n */\nexport function isSymbol(value: any): value is symbol {\n\treturn (value && (typeof value === 'symbol' || value['@@toStringTag'] === 'Symbol')) || false;\n}\n\n/**\n * Fill any missing well known symbols if the native Symbol is missing them\n */\n[\n\t'hasInstance',\n\t'isConcatSpreadable',\n\t'iterator',\n\t'species',\n\t'replace',\n\t'search',\n\t'split',\n\t'match',\n\t'toPrimitive',\n\t'toStringTag',\n\t'unscopables',\n\t'observable'\n].forEach((wellKnown) => {\n\tif (!(Symbol as any)[wellKnown]) {\n\t\tObject.defineProperty(Symbol, wellKnown, getValueDescriptor(Symbol.for(wellKnown), false, false));\n\t}\n});\n\nexport default Symbol;\n\n\n\n// WEBPACK FOOTER //\n// Symbol.ts","import global from './global';\nimport { isArrayLike, Iterable } from './iterator';\nimport has from './support/has';\nimport './Symbol';\n\nexport interface WeakMap<K extends object, V> {\n\t/**\n\t * Remove a `key` from the map\n\t *\n\t * @param key The key to remove\n\t * @return `true` if the value was removed, otherwise `false`\n\t */\n\tdelete(key: K): boolean;\n\n\t/**\n\t * Retrieve the value, based on the supplied `key`\n\t *\n\t * @param key The key to retrieve the `value` for\n\t * @return the `value` based on the `key` if found, otherwise `false`\n\t */\n\tget(key: K): V | undefined;\n\n\t/**\n\t * Determines if a `key` is present in the map\n\t *\n\t * @param key The `key` to check\n\t * @return `true` if the key is part of the map, otherwise `false`.\n\t */\n\thas(key: K): boolean;\n\n\t/**\n\t * Set a `value` for a particular `key`.\n\t *\n\t * @param key The `key` to set the `value` for\n\t * @param value The `value` to set\n\t * @return the instances\n\t */\n\tset(key: K, value: V): this;\n\n\treadonly [Symbol.toStringTag]: 'WeakMap';\n}\n\nexport interface WeakMapConstructor {\n\t/**\n\t * Create a new instance of a `WeakMap`\n\t *\n\t * @constructor\n\t */\n\tnew (): WeakMap<object, any>;\n\n\t/**\n\t * Create a new instance of a `WeakMap`\n\t *\n\t * @constructor\n\t *\n\t * @param iterable An iterable that contains yields up key/value pair entries\n\t */\n\tnew <K extends object, V>(iterable?: [K, V][]): WeakMap<K, V>;\n\n\t/**\n\t * Create a new instance of a `WeakMap`\n\t *\n\t * @constructor\n\t *\n\t * @param iterable An iterable that contains yields up key/value pair entries\n\t */\n\tnew <K extends object, V>(iterable: Iterable<[K, V]>): WeakMap<K, V>;\n\n\treadonly prototype: WeakMap<object, any>;\n}\n\nexport let WeakMap: WeakMapConstructor = global.WeakMap;\n\ninterface Entry<K, V> {\n\tkey: K;\n\tvalue: V;\n}\n\nif (!has('es6-weakmap')) {\n\tconst DELETED: any = {};\n\n\tconst getUID = function getUID(): number {\n\t\treturn Math.floor(Math.random() * 100000000);\n\t};\n\n\tconst generateName = (function() {\n\t\tlet startId = Math.floor(Date.now() % 100000000);\n\n\t\treturn function generateName(): string {\n\t\t\treturn '__wm' + getUID() + (startId++ + '__');\n\t\t};\n\t})();\n\n\tWeakMap = class WeakMap<K, V> {\n\t\tprivate readonly _name: string;\n\t\tprivate readonly _frozenEntries: Entry<K, V>[];\n\n\t\tconstructor(iterable?: ArrayLike<[K, V]> | Iterable<[K, V]>) {\n\t\t\tObject.defineProperty(this, '_name', {\n\t\t\t\tvalue: generateName()\n\t\t\t});\n\n\t\t\tthis._frozenEntries = [];\n\n\t\t\tif (iterable) {\n\t\t\t\tif (isArrayLike(iterable)) {\n\t\t\t\t\tfor (let i = 0; i < iterable.length; i++) {\n\t\t\t\t\t\tconst item = iterable[i];\n\t\t\t\t\t\tthis.set(item[0], item[1]);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tfor (const [key, value] of iterable) {\n\t\t\t\t\t\tthis.set(key, value);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tprivate _getFrozenEntryIndex(key: any): number {\n\t\t\tfor (let i = 0; i < this._frozenEntries.length; i++) {\n\t\t\t\tif (this._frozenEntries[i].key === key) {\n\t\t\t\t\treturn i;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn -1;\n\t\t}\n\n\t\tdelete(key: any): boolean {\n\t\t\tif (key === undefined || key === null) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tconst entry: Entry<K, V> = key[this._name];\n\t\t\tif (entry && entry.key === key && entry.value !== DELETED) {\n\t\t\t\tentry.value = DELETED;\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\tconst frozenIndex = this._getFrozenEntryIndex(key);\n\t\t\tif (frozenIndex >= 0) {\n\t\t\t\tthis._frozenEntries.splice(frozenIndex, 1);\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\treturn false;\n\t\t}\n\n\t\tget(key: any): V | undefined {\n\t\t\tif (key === undefined || key === null) {\n\t\t\t\treturn undefined;\n\t\t\t}\n\n\t\t\tconst entry: Entry<K, V> = key[this._name];\n\t\t\tif (entry && entry.key === key && entry.value !== DELETED) {\n\t\t\t\treturn entry.value;\n\t\t\t}\n\n\t\t\tconst frozenIndex = this._getFrozenEntryIndex(key);\n\t\t\tif (frozenIndex >= 0) {\n\t\t\t\treturn this._frozenEntries[frozenIndex].value;\n\t\t\t}\n\t\t}\n\n\t\thas(key: any): boolean {\n\t\t\tif (key === undefined || key === null) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tconst entry: Entry<K, V> = key[this._name];\n\t\t\tif (Boolean(entry && entry.key === key && entry.value !== DELETED)) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\tconst frozenIndex = this._getFrozenEntryIndex(key);\n\t\t\tif (frozenIndex >= 0) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\treturn false;\n\t\t}\n\n\t\tset(key: any, value?: any): this {\n\t\t\tif (!key || (typeof key !== 'object' && typeof key !== 'function')) {\n\t\t\t\tthrow new TypeError('Invalid value used as weak map key');\n\t\t\t}\n\t\t\tlet entry: Entry<K, V> = key[this._name];\n\t\t\tif (!entry || entry.key !== key) {\n\t\t\t\tentry = Object.create(null, {\n\t\t\t\t\tkey: { value: key }\n\t\t\t\t});\n\n\t\t\t\tif (Object.isFrozen(key)) {\n\t\t\t\t\tthis._frozenEntries.push(entry);\n\t\t\t\t} else {\n\t\t\t\t\tObject.defineProperty(key, this._name, {\n\t\t\t\t\t\tvalue: entry\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t\tentry.value = value;\n\t\t\treturn this;\n\t\t}\n\n\t\t[Symbol.toStringTag]: 'WeakMap' = 'WeakMap';\n\t};\n}\n\nexport default WeakMap;\n\n\n\n// WEBPACK FOOTER //\n// WeakMap.ts","import global from './global';\nimport { isArrayLike, isIterable, Iterable } from './iterator';\nimport { MAX_SAFE_INTEGER } from './number';\nimport has from './support/has';\nimport { wrapNative } from './support/util';\n\nexport interface MapCallback<T, U> {\n\t/**\n\t * A callback function when mapping\n\t *\n\t * @param element The element that is currently being mapped\n\t * @param index The current index of the element\n\t */\n\t(element: T, index: number): U;\n}\n\nexport interface FindCallback<T> {\n\t/**\n\t * A callback function when using find\n\t *\n\t * @param element The element that is currenty being analysed\n\t * @param index The current index of the element that is being analysed\n\t * @param array The source array\n\t */\n\t(element: T, index: number, array: ArrayLike<T>): boolean;\n}\n\ninterface WritableArrayLike<T> {\n\treadonly length: number;\n\t[n: number]: T;\n}\n\n/* ES6 Array static methods */\n\nexport interface From {\n\t/**\n\t * The Array.from() method creates a new Array instance from an array-like or iterable object.\n\t *\n\t * @param source An array-like or iterable object to convert to an array\n\t * @param mapFunction A map function to call on each element in the array\n\t * @param thisArg The execution context for the map function\n\t * @return The new Array\n\t */\n\t<T, U>(source: ArrayLike<T> | Iterable<T>, mapFunction: MapCallback<T, U>, thisArg?: any): Array<U>;\n\n\t/**\n\t * The Array.from() method creates a new Array instance from an array-like or iterable object.\n\t *\n\t * @param source An array-like or iterable object to convert to an array\n\t * @return The new Array\n\t */\n\t<T>(source: ArrayLike<T> | Iterable<T>): Array<T>;\n}\n\nexport let from: From;\n\n/**\n * Creates a new array from the function parameters.\n *\n * @param arguments Any number of arguments for the array\n * @return An array from the given arguments\n */\nexport let of: <T>(...items: T[]) => Array<T>;\n\n/* ES6 Array instance methods */\n\n/**\n * Copies data internally within an array or array-like object.\n *\n * @param target The target array-like object\n * @param offset The index to start copying values to; if negative, it counts backwards from length\n * @param start The first (inclusive) index to copy; if negative, it counts backwards from length\n * @param end The last (exclusive) index to copy; if negative, it counts backwards from length\n * @return The target\n */\nexport let copyWithin: <T>(target: ArrayLike<T>, offset: number, start: number, end?: number) => ArrayLike<T>;\n\n/**\n * Fills elements of an array-like object with the specified value.\n *\n * @param target The target to fill\n * @param value The value to fill each element of the target with\n * @param start The first index to fill\n * @param end The (exclusive) index at which to stop filling\n * @return The filled target\n */\nexport let fill: <T>(target: ArrayLike<T>, value: T, start?: number, end?: number) => ArrayLike<T>;\n\n/**\n * Finds and returns the first instance matching the callback or undefined if one is not found.\n *\n * @param target An array-like object\n * @param callback A function returning if the current value matches a criteria\n * @param thisArg The execution context for the find function\n * @return The first element matching the callback, or undefined if one does not exist\n */\nexport let find: <T>(target: ArrayLike<T>, callback: FindCallback<T>, thisArg?: {}) => T | undefined;\n\n/**\n * Performs a linear search and returns the first index whose value satisfies the passed callback,\n * or -1 if no values satisfy it.\n *\n * @param target An array-like object\n * @param callback A function returning true if the current value satisfies its criteria\n * @param thisArg The execution context for the find function\n * @return The first index whose value satisfies the passed callback, or -1 if no values satisfy it\n */\nexport let findIndex: <T>(target: ArrayLike<T>, callback: FindCallback<T>, thisArg?: {}) => number;\n\n/* ES7 Array instance methods */\n\n/**\n * Determines whether an array includes a given value\n *\n * @param target the target array-like object\n * @param searchElement the item to search for\n * @param fromIndex the starting index to search from\n * @return `true` if the array includes the element, otherwise `false`\n */\nexport let includes: <T>(target: ArrayLike<T>, searchElement: T, fromIndex?: number) => boolean;\n\nif (has('es6-array') && has('es6-array-fill')) {\n\tfrom = global.Array.from;\n\tof = global.Array.of;\n\tcopyWithin = wrapNative(global.Array.prototype.copyWithin);\n\tfill = wrapNative(global.Array.prototype.fill);\n\tfind = wrapNative(global.Array.prototype.find);\n\tfindIndex = wrapNative(global.Array.prototype.findIndex);\n} else {\n\t// It is only older versions of Safari/iOS that have a bad fill implementation and so aren't in the wild\n\t// To make things easier, if there is a bad fill implementation, the whole set of functions will be filled\n\n\t/**\n\t * Ensures a non-negative, non-infinite, safe integer.\n\t *\n\t * @param length The number to validate\n\t * @return A proper length\n\t */\n\tconst toLength = function toLength(length: number): number {\n\t\tif (isNaN(length)) {\n\t\t\treturn 0;\n\t\t}\n\n\t\tlength = Number(length);\n\t\tif (isFinite(length)) {\n\t\t\tlength = Math.floor(length);\n\t\t}\n\t\t// Ensure a non-negative, real, safe integer\n\t\treturn Math.min(Math.max(length, 0), MAX_SAFE_INTEGER);\n\t};\n\n\t/**\n\t * From ES6 7.1.4 ToInteger()\n\t *\n\t * @param value A value to convert\n\t * @return An integer\n\t */\n\tconst toInteger = function toInteger(value: any): number {\n\t\tvalue = Number(value);\n\t\tif (isNaN(value)) {\n\t\t\treturn 0;\n\t\t}\n\t\tif (value === 0 || !isFinite(value)) {\n\t\t\treturn value;\n\t\t}\n\n\t\treturn (value > 0 ? 1 : -1) * Math.floor(Math.abs(value));\n\t};\n\n\t/**\n\t * Normalizes an offset against a given length, wrapping it if negative.\n\t *\n\t * @param value The original offset\n\t * @param length The total length to normalize against\n\t * @return If negative, provide a distance from the end (length); otherwise provide a distance from 0\n\t */\n\tconst normalizeOffset = function normalizeOffset(value: number, length: number): number {\n\t\treturn value < 0 ? Math.max(length + value, 0) : Math.min(value, length);\n\t};\n\n\tfrom = function from(\n\t\tthis: ArrayConstructor,\n\t\tarrayLike: Iterable<any> | ArrayLike<any>,\n\t\tmapFunction?: MapCallback<any, any>,\n\t\tthisArg?: any\n\t): Array<any> {\n\t\tif (arrayLike == null) {\n\t\t\tthrow new TypeError('from: requires an array-like object');\n\t\t}\n\n\t\tif (mapFunction && thisArg) {\n\t\t\tmapFunction = mapFunction.bind(thisArg);\n\t\t}\n\n\t\t/* tslint:disable-next-line:variable-name */\n\t\tconst Constructor = this;\n\t\tconst length: number = toLength((<any>arrayLike).length);\n\n\t\t// Support extension\n\t\tconst array: any[] =\n\t\t\ttypeof Constructor === 'function' ? <any[]>Object(new Constructor(length)) : new Array(length);\n\n\t\tif (!isArrayLike(arrayLike) && !isIterable(arrayLike)) {\n\t\t\treturn array;\n\t\t}\n\n\t\t// if this is an array and the normalized length is 0, just return an empty array. this prevents a problem\n\t\t// with the iteration on IE when using a NaN array length.\n\t\tif (isArrayLike(arrayLike)) {\n\t\t\tif (length === 0) {\n\t\t\t\treturn [];\n\t\t\t}\n\n\t\t\tfor (let i = 0; i < arrayLike.length; i++) {\n\t\t\t\tarray[i] = mapFunction ? mapFunction(arrayLike[i], i) : arrayLike[i];\n\t\t\t}\n\t\t} else {\n\t\t\tlet i = 0;\n\t\t\tfor (const value of arrayLike) {\n\t\t\t\tarray[i] = mapFunction ? mapFunction(value, i) : value;\n\t\t\t\ti++;\n\t\t\t}\n\t\t}\n\n\t\tif ((<any>arrayLike).length !== undefined) {\n\t\t\tarray.length = length;\n\t\t}\n\n\t\treturn array;\n\t};\n\n\tof = function of<T>(...items: T[]): Array<T> {\n\t\treturn Array.prototype.slice.call(items);\n\t};\n\n\tcopyWithin = function copyWithin<T>(\n\t\ttarget: ArrayLike<T>,\n\t\toffset: number,\n\t\tstart: number,\n\t\tend?: number\n\t): ArrayLike<T> {\n\t\tif (target == null) {\n\t\t\tthrow new TypeError('copyWithin: target must be an array-like object');\n\t\t}\n\n\t\tconst length = toLength(target.length);\n\t\toffset = normalizeOffset(toInteger(offset), length);\n\t\tstart = normalizeOffset(toInteger(start), length);\n\t\tend = normalizeOffset(end === undefined ? length : toInteger(end), length);\n\t\tlet count = Math.min(end - start, length - offset);\n\n\t\tlet direction = 1;\n\t\tif (offset > start && offset < start + count) {\n\t\t\tdirection = -1;\n\t\t\tstart += count - 1;\n\t\t\toffset += count - 1;\n\t\t}\n\n\t\twhile (count > 0) {\n\t\t\tif (start in target) {\n\t\t\t\t(target as WritableArrayLike<T>)[offset] = target[start];\n\t\t\t} else {\n\t\t\t\tdelete (target as WritableArrayLike<T>)[offset];\n\t\t\t}\n\n\t\t\toffset += direction;\n\t\t\tstart += direction;\n\t\t\tcount--;\n\t\t}\n\n\t\treturn target;\n\t};\n\n\tfill = function fill<T>(target: ArrayLike<T>, value: any, start?: number, end?: number): ArrayLike<T> {\n\t\tconst length = toLength(target.length);\n\t\tlet i = normalizeOffset(toInteger(start), length);\n\t\tend = normalizeOffset(end === undefined ? length : toInteger(end), length);\n\n\t\twhile (i < end) {\n\t\t\t(target as WritableArrayLike<T>)[i++] = value;\n\t\t}\n\n\t\treturn target;\n\t};\n\n\tfind = function find<T>(target: ArrayLike<T>, callback: FindCallback<T>, thisArg?: {}): T | undefined {\n\t\tconst index = findIndex<T>(target, callback, thisArg);\n\t\treturn index !== -1 ? target[index] : undefined;\n\t};\n\n\tfindIndex = function findIndex<T>(target: ArrayLike<T>, callback: FindCallback<T>, thisArg?: {}): number {\n\t\tconst length = toLength(target.length);\n\n\t\tif (!callback) {\n\t\t\tthrow new TypeError('find: second argument must be a function');\n\t\t}\n\n\t\tif (thisArg) {\n\t\t\tcallback = callback.bind(thisArg);\n\t\t}\n\n\t\tfor (let i = 0; i < length; i++) {\n\t\t\tif (callback(target[i], i, target)) {\n\t\t\t\treturn i;\n\t\t\t}\n\t\t}\n\n\t\treturn -1;\n\t};\n}\n\nif (has('es7-array')) {\n\tincludes = wrapNative(global.Array.prototype.includes);\n} else {\n\t/**\n\t * Ensures a non-negative, non-infinite, safe integer.\n\t *\n\t * @param length The number to validate\n\t * @return A proper length\n\t */\n\tconst toLength = function toLength(length: number): number {\n\t\tlength = Number(length);\n\t\tif (isNaN(length)) {\n\t\t\treturn 0;\n\t\t}\n\t\tif (isFinite(length)) {\n\t\t\tlength = Math.floor(length);\n\t\t}\n\t\t// Ensure a non-negative, real, safe integer\n\t\treturn Math.min(Math.max(length, 0), MAX_SAFE_INTEGER);\n\t};\n\n\tincludes = function includes<T>(target: ArrayLike<T>, searchElement: T, fromIndex: number = 0): boolean {\n\t\tlet len = toLength(target.length);\n\n\t\tfor (let i = fromIndex; i < len; ++i) {\n\t\t\tconst currentElement = target[i];\n\t\t\tif (\n\t\t\t\tsearchElement === currentElement ||\n\t\t\t\t(searchElement !== searchElement && currentElement !== currentElement)\n\t\t\t) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t};\n}\n\n\n\n// WEBPACK FOOTER //\n// array.ts","const globalObject: any = (function(): any {\n\tif (typeof global !== 'undefined') {\n\t\t// global spec defines a reference to the global object called 'global'\n\t\t// https://github.com/tc39/proposal-global\n\t\t// `global` is also defined in NodeJS\n\t\treturn global;\n\t} else if (typeof window !== 'undefined') {\n\t\t// window is defined in browsers\n\t\treturn window;\n\t} else if (typeof self !== 'undefined') {\n\t\t// self is defined in WebWorkers\n\t\treturn self;\n\t}\n})();\n\nexport default globalObject;\n\n\n\n// WEBPACK FOOTER //\n// global.ts","import './Symbol';\nimport { HIGH_SURROGATE_MAX, HIGH_SURROGATE_MIN } from './string';\n\nexport interface IteratorResult<T> {\n\treadonly done: boolean;\n\treadonly value: T;\n}\n\nexport interface Iterator<T> {\n\tnext(value?: any): IteratorResult<T>;\n\n\treturn?(value?: any): IteratorResult<T>;\n\n\tthrow?(e?: any): IteratorResult<T>;\n}\n\nexport interface Iterable<T> {\n\t[Symbol.iterator](): Iterator<T>;\n}\n\nexport interface IterableIterator<T> extends Iterator<T> {\n\t[Symbol.iterator](): IterableIterator<T>;\n}\n\nconst staticDone: IteratorResult<any> = { done: true, value: undefined };\n\n/**\n * A class that _shims_ an iterator interface on array like objects.\n */\nexport class ShimIterator<T> {\n\tprivate _list: ArrayLike<T>;\n\tprivate _nextIndex = -1;\n\tprivate _nativeIterator: Iterator<T>;\n\n\tconstructor(list: ArrayLike<T> | Iterable<T>) {\n\t\tif (isIterable(list)) {\n\t\t\tthis._nativeIterator = list[Symbol.iterator]();\n\t\t} else {\n\t\t\tthis._list = list;\n\t\t}\n\t}\n\n\t/**\n\t * Return the next iteration result for the Iterator\n\t */\n\tnext(): IteratorResult<T> {\n\t\tif (this._nativeIterator) {\n\t\t\treturn this._nativeIterator.next();\n\t\t}\n\t\tif (!this._list) {\n\t\t\treturn staticDone;\n\t\t}\n\t\tif (++this._nextIndex < this._list.length) {\n\t\t\treturn {\n\t\t\t\tdone: false,\n\t\t\t\tvalue: this._list[this._nextIndex]\n\t\t\t};\n\t\t}\n\t\treturn staticDone;\n\t}\n\n\t[Symbol.iterator](): IterableIterator<T> {\n\t\treturn this;\n\t}\n}\n\n/**\n * A type guard for checking if something has an Iterable interface\n *\n * @param value The value to type guard against\n */\nexport function isIterable(value: any): value is Iterable<any> {\n\treturn value && typeof value[Symbol.iterator] === 'function';\n}\n\n/**\n * A type guard for checking if something is ArrayLike\n *\n * @param value The value to type guard against\n */\nexport function isArrayLike(value: any): value is ArrayLike<any> {\n\treturn value && typeof value.length === 'number';\n}\n\n/**\n * Returns the iterator for an object\n *\n * @param iterable The iterable object to return the iterator for\n */\nexport function get<T>(iterable: Iterable<T> | ArrayLike<T>): Iterator<T> | undefined {\n\tif (isIterable(iterable)) {\n\t\treturn iterable[Symbol.iterator]();\n\t} else if (isArrayLike(iterable)) {\n\t\treturn new ShimIterator(iterable);\n\t}\n}\n\nexport interface ForOfCallback<T> {\n\t/**\n\t * A callback function for a forOf() iteration\n\t *\n\t * @param value The current value\n\t * @param object The object being iterated over\n\t * @param doBreak A function, if called, will stop the iteration\n\t */\n\t(value: T, object: Iterable<T> | ArrayLike<T> | string, doBreak: () => void): void;\n}\n\n/**\n * Shims the functionality of `for ... of` blocks\n *\n * @param iterable The object the provides an interator interface\n * @param callback The callback which will be called for each item of the iterable\n * @param thisArg Optional scope to pass the callback\n */\nexport function forOf<T>(\n\titerable: Iterable<T> | ArrayLike<T> | string,\n\tcallback: ForOfCallback<T>,\n\tthisArg?: any\n): void {\n\tlet broken = false;\n\n\tfunction doBreak() {\n\t\tbroken = true;\n\t}\n\n\t/* We need to handle iteration of double byte strings properly */\n\tif (isArrayLike(iterable) && typeof iterable === 'string') {\n\t\tconst l = iterable.length;\n\t\tfor (let i = 0; i < l; ++i) {\n\t\t\tlet char = iterable[i];\n\t\t\tif (i + 1 < l) {\n\t\t\t\tconst code = char.charCodeAt(0);\n\t\t\t\tif (code >= HIGH_SURROGATE_MIN && code <= HIGH_SURROGATE_MAX) {\n\t\t\t\t\tchar += iterable[++i];\n\t\t\t\t}\n\t\t\t}\n\t\t\tcallback.call(thisArg, char, iterable, doBreak);\n\t\t\tif (broken) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t} else {\n\t\tconst iterator = get(iterable);\n\t\tif (iterator) {\n\t\t\tlet result = iterator.next();\n\n\t\t\twhile (!result.done) {\n\t\t\t\tcallback.call(thisArg, result.value, iterable, doBreak);\n\t\t\t\tif (broken) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tresult = iterator.next();\n\t\t\t}\n\t\t}\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// iterator.ts","import global from './global';\n\n/**\n * The smallest interval between two representable numbers.\n */\nexport const EPSILON = 1;\n\n/**\n * The maximum safe integer in JavaScript\n */\nexport const MAX_SAFE_INTEGER = Math.pow(2, 53) - 1;\n\n/**\n * The minimum safe integer in JavaScript\n */\nexport const MIN_SAFE_INTEGER = -MAX_SAFE_INTEGER;\n\n/**\n * Determines whether the passed value is NaN without coersion.\n *\n * @param value The value to test\n * @return true if the value is NaN, false if it is not\n */\nexport function isNaN(value: any): boolean {\n\treturn typeof value === 'number' && global.isNaN(value);\n}\n\n/**\n * Determines whether the passed value is a finite number without coersion.\n *\n * @param value The value to test\n * @return true if the value is finite, false if it is not\n */\nexport function isFinite(value: any): value is number {\n\treturn typeof value === 'number' && global.isFinite(value);\n}\n\n/**\n * Determines whether the passed value is an integer.\n *\n * @param value The value to test\n * @return true if the value is an integer, false if it is not\n */\nexport function isInteger(value: any): value is number {\n\treturn isFinite(value) && Math.floor(value) === value;\n}\n\n/**\n * Determines whether the passed value is an integer that is 'safe,' meaning:\n *   1. it can be expressed as an IEEE-754 double precision number\n *   2. it has a one-to-one mapping to a mathematical integer, meaning its\n *      IEEE-754 representation cannot be the result of rounding any other\n *      integer to fit the IEEE-754 representation\n *\n * @param value The value to test\n * @return true if the value is an integer, false if it is not\n */\nexport function isSafeInteger(value: any): value is number {\n\treturn isInteger(value) && Math.abs(value) <= MAX_SAFE_INTEGER;\n}\n\n\n\n// WEBPACK FOOTER //\n// number.ts","import global from './global';\nimport has from './support/has';\nimport { isSymbol } from './Symbol';\n\nexport interface ObjectAssign {\n\t/**\n\t * Copy the values of all of the enumerable own properties from one or more source objects to a\n\t * target object. Returns the target object.\n\t * @param target The target object to copy to.\n\t * @param source The source object from which to copy properties.\n\t */\n\t<T, U>(target: T, source: U): T & U;\n\n\t/**\n\t * Copy the values of all of the enumerable own properties from one or more source objects to a\n\t * target object. Returns the target object.\n\t * @param target The target object to copy to.\n\t * @param source1 The first source object from which to copy properties.\n\t * @param source2 The second source object from which to copy properties.\n\t */\n\t<T, U, V>(target: T, source1: U, source2: V): T & U & V;\n\n\t/**\n\t * Copy the values of all of the enumerable own properties from one or more source objects to a\n\t * target object. Returns the target object.\n\t * @param target The target object to copy to.\n\t * @param source1 The first source object from which to copy properties.\n\t * @param source2 The second source object from which to copy properties.\n\t * @param source3 The third source object from which to copy properties.\n\t */\n\t<T, U, V, W>(target: T, source1: U, source2: V, source3: W): T & U & V & W;\n\n\t/**\n\t * Copy the values of all of the enumerable own properties from one or more source objects to a\n\t * target object. Returns the target object.\n\t * @param target The target object to copy to.\n\t * @param sources One or more source objects from which to copy properties\n\t */\n\t(target: object, ...sources: any[]): any;\n}\n\nexport interface ObjectEnteries {\n\t/**\n\t * Returns an array of key/values of the enumerable properties of an object\n\t * @param o Object that contains the properties and methods. This can be an object that you created or an existing Document Object Model (DOM) object.\n\t */\n\t<T extends { [key: string]: any }, K extends keyof T>(o: T): [keyof T, T[K]][];\n\n\t/**\n\t * Returns an array of key/values of the enumerable properties of an object\n\t * @param o Object that contains the properties and methods. This can be an object that you created or an existing Document Object Model (DOM) object.\n\t */\n\t(o: object): [string, any][];\n}\n\nexport interface ObjectGetOwnPropertyDescriptors {\n\t<T>(o: T): { [K in keyof T]: PropertyDescriptor };\n\t(o: any): { [key: string]: PropertyDescriptor };\n}\n\nexport interface ObjectValues {\n\t/**\n\t * Returns an array of values of the enumerable properties of an object\n\t * @param o Object that contains the properties and methods. This can be an object that you created or an existing Document Object Model (DOM) object.\n\t */\n\t<T>(o: { [s: string]: T }): T[];\n\n\t/**\n\t * Returns an array of values of the enumerable properties of an object\n\t * @param o Object that contains the properties and methods. This can be an object that you created or an existing Document Object Model (DOM) object.\n\t */\n\t(o: object): any[];\n}\n\nexport let assign: ObjectAssign;\n\n/**\n * Gets the own property descriptor of the specified object.\n * An own property descriptor is one that is defined directly on the object and is not\n * inherited from the object's prototype.\n * @param o Object that contains the property.\n * @param p Name of the property.\n */\nexport let getOwnPropertyDescriptor: <T, K extends keyof T>(o: T, propertyKey: K) => PropertyDescriptor | undefined;\n\n/**\n * Returns the names of the own properties of an object. The own properties of an object are those that are defined directly\n * on that object, and are not inherited from the object's prototype. The properties of an object include both fields (objects) and functions.\n * @param o Object that contains the own properties.\n */\nexport let getOwnPropertyNames: (o: any) => string[];\n\n/**\n * Returns an array of all symbol properties found directly on object o.\n * @param o Object to retrieve the symbols from.\n */\nexport let getOwnPropertySymbols: (o: any) => symbol[];\n\n/**\n * Returns true if the values are the same value, false otherwise.\n * @param value1 The first value.\n * @param value2 The second value.\n */\nexport let is: (value1: any, value2: any) => boolean;\n\n/**\n * Returns the names of the enumerable properties and methods of an object.\n * @param o Object that contains the properties and methods. This can be an object that you created or an existing Document Object Model (DOM) object.\n */\nexport let keys: (o: object) => string[];\n\n/* ES7 Object static methods */\n\nexport let getOwnPropertyDescriptors: ObjectGetOwnPropertyDescriptors;\n\nexport let entries: ObjectEnteries;\n\nexport let values: ObjectValues;\n\nif (has('es6-object')) {\n\tconst globalObject = global.Object;\n\tassign = globalObject.assign;\n\tgetOwnPropertyDescriptor = globalObject.getOwnPropertyDescriptor;\n\tgetOwnPropertyNames = globalObject.getOwnPropertyNames;\n\tgetOwnPropertySymbols = globalObject.getOwnPropertySymbols;\n\tis = globalObject.is;\n\tkeys = globalObject.keys;\n} else {\n\tkeys = function symbolAwareKeys(o: object): string[] {\n\t\treturn Object.keys(o).filter((key) => !Boolean(key.match(/^@@.+/)));\n\t};\n\n\tassign = function assign(target: any, ...sources: any[]) {\n\t\tif (target == null) {\n\t\t\t// TypeError if undefined or null\n\t\t\tthrow new TypeError('Cannot convert undefined or null to object');\n\t\t}\n\n\t\tconst to = Object(target);\n\t\tsources.forEach((nextSource) => {\n\t\t\tif (nextSource) {\n\t\t\t\t// Skip over if undefined or null\n\t\t\t\tkeys(nextSource).forEach((nextKey) => {\n\t\t\t\t\tto[nextKey] = nextSource[nextKey];\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\n\t\treturn to;\n\t};\n\n\tgetOwnPropertyDescriptor = function getOwnPropertyDescriptor(\n\t\to: any,\n\t\tprop: string | symbol\n\t): PropertyDescriptor | undefined {\n\t\tif (isSymbol(prop)) {\n\t\t\treturn (<any>Object).getOwnPropertyDescriptor(o, prop);\n\t\t} else {\n\t\t\treturn Object.getOwnPropertyDescriptor(o, prop);\n\t\t}\n\t};\n\n\tgetOwnPropertyNames = function getOwnPropertyNames(o: any): string[] {\n\t\treturn Object.getOwnPropertyNames(o).filter((key) => !Boolean(key.match(/^@@.+/)));\n\t};\n\n\tgetOwnPropertySymbols = function getOwnPropertySymbols(o: any): symbol[] {\n\t\treturn Object.getOwnPropertyNames(o)\n\t\t\t.filter((key) => Boolean(key.match(/^@@.+/)))\n\t\t\t.map((key) => Symbol.for(key.substring(2)));\n\t};\n\n\tis = function is(value1: any, value2: any): boolean {\n\t\tif (value1 === value2) {\n\t\t\treturn value1 !== 0 || 1 / value1 === 1 / value2; // -0\n\t\t}\n\t\treturn value1 !== value1 && value2 !== value2; // NaN\n\t};\n}\n\nif (has('es2017-object')) {\n\tconst globalObject = global.Object;\n\tgetOwnPropertyDescriptors = globalObject.getOwnPropertyDescriptors;\n\tentries = globalObject.entries;\n\tvalues = globalObject.values;\n} else {\n\tgetOwnPropertyDescriptors = function getOwnPropertyDescriptors(o: any) {\n\t\treturn getOwnPropertyNames(o).reduce(\n\t\t\t(previous, key) => {\n\t\t\t\tprevious[key] = getOwnPropertyDescriptor(o, key)!;\n\t\t\t\treturn previous;\n\t\t\t},\n\t\t\t{} as { [key: string]: PropertyDescriptor }\n\t\t);\n\t};\n\n\tentries = function entries(o: any): [string, any][] {\n\t\treturn keys(o).map((key) => [key, o[key]] as [string, any]);\n\t};\n\n\tvalues = function values(o: any): any[] {\n\t\treturn keys(o).map((key) => o[key]);\n\t};\n}\n\n\n\n// WEBPACK FOOTER //\n// object.ts","import global from './global';\nimport has from './support/has';\nimport { wrapNative } from './support/util';\n\nexport interface StringNormalize {\n\t/**\n\t * Returns the String value result of normalizing the string into the normalization form\n\t * named by form as specified in Unicode Standard Annex #15, Unicode Normalization Forms.\n\t * @param target The target string\n\t * @param form Applicable values: \"NFC\", \"NFD\", \"NFKC\", or \"NFKD\", If not specified default\n\t * is \"NFC\"\n\t */\n\t(target: string, form: 'NFC' | 'NFD' | 'NFKC' | 'NFKD'): string;\n\n\t/**\n\t * Returns the String value result of normalizing the string into the normalization form\n\t * named by form as specified in Unicode Standard Annex #15, Unicode Normalization Forms.\n\t * @param target The target string\n\t * @param form Applicable values: \"NFC\", \"NFD\", \"NFKC\", or \"NFKD\", If not specified default\n\t * is \"NFC\"\n\t */\n\t(target: string, form?: string): string;\n}\n\n/**\n * The minimum location of high surrogates\n */\nexport const HIGH_SURROGATE_MIN = 0xd800;\n\n/**\n * The maximum location of high surrogates\n */\nexport const HIGH_SURROGATE_MAX = 0xdbff;\n\n/**\n * The minimum location of low surrogates\n */\nexport const LOW_SURROGATE_MIN = 0xdc00;\n\n/**\n * The maximum location of low surrogates\n */\nexport const LOW_SURROGATE_MAX = 0xdfff;\n\n/* ES6 static methods */\n\n/**\n * Return the String value whose elements are, in order, the elements in the List elements.\n * If length is 0, the empty string is returned.\n * @param codePoints The code points to generate the string\n */\nexport let fromCodePoint: (...codePoints: number[]) => string;\n\n/**\n * `raw` is intended for use as a tag function of a Tagged Template String. When called\n * as such the first argument will be a well formed template call site object and the rest\n * parameter will contain the substitution values.\n * @param template A well-formed template string call site representation.\n * @param substitutions A set of substitution values.\n */\nexport let raw: (template: TemplateStringsArray, ...substitutions: any[]) => string;\n\n/* ES6 instance methods */\n\n/**\n * Returns a nonnegative integer Number less than 1114112 (0x110000) that is the code point\n * value of the UTF-16 encoded code point starting at the string element at position pos in\n * the String resulting from converting this object to a String.\n * If there is no element at that position, the result is undefined.\n * If a valid UTF-16 surrogate pair does not begin at pos, the result is the code unit at pos.\n */\nexport let codePointAt: (target: string, pos?: number) => number | undefined;\n\n/**\n * Returns true if the sequence of elements of searchString converted to a String is the\n * same as the corresponding elements of this object (converted to a String) starting at\n * endPosition – length(this). Otherwise returns false.\n */\nexport let endsWith: (target: string, searchString: string, endPosition?: number) => boolean;\n\n/**\n * Returns true if searchString appears as a substring of the result of converting this\n * object to a String, at one or more positions that are\n * greater than or equal to position; otherwise, returns false.\n * @param target The target string\n * @param searchString search string\n * @param position If position is undefined, 0 is assumed, so as to search all of the String.\n */\nexport let includes: (target: string, searchString: string, position?: number) => boolean;\n\n/**\n * Returns the String value result of normalizing the string into the normalization form\n * named by form as specified in Unicode Standard Annex #15, Unicode Normalization Forms.\n * @param target The target string\n * @param form Applicable values: \"NFC\", \"NFD\", \"NFKC\", or \"NFKD\", If not specified default\n * is \"NFC\"\n */\nexport let normalize: StringNormalize;\n\n/**\n * Returns a String value that is made from count copies appended together. If count is 0,\n * T is the empty String is returned.\n * @param count number of copies to append\n */\nexport let repeat: (target: string, count?: number) => string;\n\n/**\n * Returns true if the sequence of elements of searchString converted to a String is the\n * same as the corresponding elements of this object (converted to a String) starting at\n * position. Otherwise returns false.\n */\nexport let startsWith: (target: string, searchString: string, position?: number) => boolean;\n\n/* ES7 instance methods */\n\n/**\n * Pads the current string with a given string (possibly repeated) so that the resulting string reaches a given length.\n * The padding is applied from the end (right) of the current string.\n *\n * @param target The target string\n * @param maxLength The length of the resulting string once the current string has been padded.\n *        If this parameter is smaller than the current string's length, the current string will be returned as it is.\n *\n * @param fillString The string to pad the current string with.\n *        If this string is too long, it will be truncated and the left-most part will be applied.\n *        The default value for this parameter is \" \" (U+0020).\n */\nexport let padEnd: (target: string, maxLength: number, fillString?: string) => string;\n\n/**\n * Pads the current string with a given string (possibly repeated) so that the resulting string reaches a given length.\n * The padding is applied from the start (left) of the current string.\n *\n * @param target The target string\n * @param maxLength The length of the resulting string once the current string has been padded.\n *        If this parameter is smaller than the current string's length, the current string will be returned as it is.\n *\n * @param fillString The string to pad the current string with.\n *        If this string is too long, it will be truncated and the left-most part will be applied.\n *        The default value for this parameter is \" \" (U+0020).\n */\nexport let padStart: (target: string, maxLength: number, fillString?: string) => string;\n\nif (has('es6-string') && has('es6-string-raw')) {\n\tfromCodePoint = global.String.fromCodePoint;\n\traw = global.String.raw;\n\n\tcodePointAt = wrapNative(global.String.prototype.codePointAt);\n\tendsWith = wrapNative(global.String.prototype.endsWith);\n\tincludes = wrapNative(global.String.prototype.includes);\n\tnormalize = wrapNative(global.String.prototype.normalize);\n\trepeat = wrapNative(global.String.prototype.repeat);\n\tstartsWith = wrapNative(global.String.prototype.startsWith);\n} else {\n\t/**\n\t * Validates that text is defined, and normalizes position (based on the given default if the input is NaN).\n\t * Used by startsWith, includes, and endsWith.\n\t *\n\t * @return Normalized position.\n\t */\n\tconst normalizeSubstringArgs = function(\n\t\tname: string,\n\t\ttext: string,\n\t\tsearch: string,\n\t\tposition: number,\n\t\tisEnd: boolean = false\n\t): [string, string, number] {\n\t\tif (text == null) {\n\t\t\tthrow new TypeError('string.' + name + ' requires a valid string to search against.');\n\t\t}\n\n\t\tconst length = text.length;\n\t\tposition = position !== position ? (isEnd ? length : 0) : position;\n\t\treturn [text, String(search), Math.min(Math.max(position, 0), length)];\n\t};\n\n\tfromCodePoint = function fromCodePoint(...codePoints: number[]): string {\n\t\t// Adapted from https://github.com/mathiasbynens/String.fromCodePoint\n\t\tconst length = arguments.length;\n\t\tif (!length) {\n\t\t\treturn '';\n\t\t}\n\n\t\tconst fromCharCode = String.fromCharCode;\n\t\tconst MAX_SIZE = 0x4000;\n\t\tlet codeUnits: number[] = [];\n\t\tlet index = -1;\n\t\tlet result = '';\n\n\t\twhile (++index < length) {\n\t\t\tlet codePoint = Number(arguments[index]);\n\n\t\t\t// Code points must be finite integers within the valid range\n\t\t\tlet isValid =\n\t\t\t\tisFinite(codePoint) && Math.floor(codePoint) === codePoint && codePoint >= 0 && codePoint <= 0x10ffff;\n\t\t\tif (!isValid) {\n\t\t\t\tthrow RangeError('string.fromCodePoint: Invalid code point ' + codePoint);\n\t\t\t}\n\n\t\t\tif (codePoint <= 0xffff) {\n\t\t\t\t// BMP code point\n\t\t\t\tcodeUnits.push(codePoint);\n\t\t\t} else {\n\t\t\t\t// Astral code point; split in surrogate halves\n\t\t\t\t// https://mathiasbynens.be/notes/javascript-encoding#surrogate-formulae\n\t\t\t\tcodePoint -= 0x10000;\n\t\t\t\tlet highSurrogate = (codePoint >> 10) + HIGH_SURROGATE_MIN;\n\t\t\t\tlet lowSurrogate = codePoint % 0x400 + LOW_SURROGATE_MIN;\n\t\t\t\tcodeUnits.push(highSurrogate, lowSurrogate);\n\t\t\t}\n\n\t\t\tif (index + 1 === length || codeUnits.length > MAX_SIZE) {\n\t\t\t\tresult += fromCharCode.apply(null, codeUnits);\n\t\t\t\tcodeUnits.length = 0;\n\t\t\t}\n\t\t}\n\t\treturn result;\n\t};\n\n\traw = function raw(callSite: TemplateStringsArray, ...substitutions: any[]): string {\n\t\tlet rawStrings = callSite.raw;\n\t\tlet result = '';\n\t\tlet numSubstitutions = substitutions.length;\n\n\t\tif (callSite == null || callSite.raw == null) {\n\t\t\tthrow new TypeError('string.raw requires a valid callSite object with a raw value');\n\t\t}\n\n\t\tfor (let i = 0, length = rawStrings.length; i < length; i++) {\n\t\t\tresult += rawStrings[i] + (i < numSubstitutions && i < length - 1 ? substitutions[i] : '');\n\t\t}\n\n\t\treturn result;\n\t};\n\n\tcodePointAt = function codePointAt(text: string, position: number = 0): number | undefined {\n\t\t// Adapted from https://github.com/mathiasbynens/String.prototype.codePointAt\n\t\tif (text == null) {\n\t\t\tthrow new TypeError('string.codePointAt requries a valid string.');\n\t\t}\n\t\tconst length = text.length;\n\n\t\tif (position !== position) {\n\t\t\tposition = 0;\n\t\t}\n\t\tif (position < 0 || position >= length) {\n\t\t\treturn undefined;\n\t\t}\n\n\t\t// Get the first code unit\n\t\tconst first = text.charCodeAt(position);\n\t\tif (first >= HIGH_SURROGATE_MIN && first <= HIGH_SURROGATE_MAX && length > position + 1) {\n\t\t\t// Start of a surrogate pair (high surrogate and there is a next code unit); check for low surrogate\n\t\t\t// https://mathiasbynens.be/notes/javascript-encoding#surrogate-formulae\n\t\t\tconst second = text.charCodeAt(position + 1);\n\t\t\tif (second >= LOW_SURROGATE_MIN && second <= LOW_SURROGATE_MAX) {\n\t\t\t\treturn (first - HIGH_SURROGATE_MIN) * 0x400 + second - LOW_SURROGATE_MIN + 0x10000;\n\t\t\t}\n\t\t}\n\t\treturn first;\n\t};\n\n\tendsWith = function endsWith(text: string, search: string, endPosition?: number): boolean {\n\t\tif (endPosition == null) {\n\t\t\tendPosition = text.length;\n\t\t}\n\n\t\t[text, search, endPosition] = normalizeSubstringArgs('endsWith', text, search, endPosition, true);\n\n\t\tconst start = endPosition - search.length;\n\t\tif (start < 0) {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn text.slice(start, endPosition) === search;\n\t};\n\n\tincludes = function includes(text: string, search: string, position: number = 0): boolean {\n\t\t[text, search, position] = normalizeSubstringArgs('includes', text, search, position);\n\t\treturn text.indexOf(search, position) !== -1;\n\t};\n\n\trepeat = function repeat(text: string, count: number = 0): string {\n\t\t// Adapted from https://github.com/mathiasbynens/String.prototype.repeat\n\t\tif (text == null) {\n\t\t\tthrow new TypeError('string.repeat requires a valid string.');\n\t\t}\n\t\tif (count !== count) {\n\t\t\tcount = 0;\n\t\t}\n\t\tif (count < 0 || count === Infinity) {\n\t\t\tthrow new RangeError('string.repeat requires a non-negative finite count.');\n\t\t}\n\n\t\tlet result = '';\n\t\twhile (count) {\n\t\t\tif (count % 2) {\n\t\t\t\tresult += text;\n\t\t\t}\n\t\t\tif (count > 1) {\n\t\t\t\ttext += text;\n\t\t\t}\n\t\t\tcount >>= 1;\n\t\t}\n\t\treturn result;\n\t};\n\n\tstartsWith = function startsWith(text: string, search: string, position: number = 0): boolean {\n\t\tsearch = String(search);\n\t\t[text, search, position] = normalizeSubstringArgs('startsWith', text, search, position);\n\n\t\tconst end = position + search.length;\n\t\tif (end > text.length) {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn text.slice(position, end) === search;\n\t};\n}\n\nif (has('es2017-string')) {\n\tpadEnd = wrapNative(global.String.prototype.padEnd);\n\tpadStart = wrapNative(global.String.prototype.padStart);\n} else {\n\tpadEnd = function padEnd(text: string, maxLength: number, fillString: string = ' '): string {\n\t\tif (text === null || text === undefined) {\n\t\t\tthrow new TypeError('string.repeat requires a valid string.');\n\t\t}\n\n\t\tif (maxLength === Infinity) {\n\t\t\tthrow new RangeError('string.padEnd requires a non-negative finite count.');\n\t\t}\n\n\t\tif (maxLength === null || maxLength === undefined || maxLength < 0) {\n\t\t\tmaxLength = 0;\n\t\t}\n\n\t\tlet strText = String(text);\n\t\tconst padding = maxLength - strText.length;\n\n\t\tif (padding > 0) {\n\t\t\tstrText +=\n\t\t\t\trepeat(fillString, Math.floor(padding / fillString.length)) +\n\t\t\t\tfillString.slice(0, padding % fillString.length);\n\t\t}\n\n\t\treturn strText;\n\t};\n\n\tpadStart = function padStart(text: string, maxLength: number, fillString: string = ' '): string {\n\t\tif (text === null || text === undefined) {\n\t\t\tthrow new TypeError('string.repeat requires a valid string.');\n\t\t}\n\n\t\tif (maxLength === Infinity) {\n\t\t\tthrow new RangeError('string.padStart requires a non-negative finite count.');\n\t\t}\n\n\t\tif (maxLength === null || maxLength === undefined || maxLength < 0) {\n\t\t\tmaxLength = 0;\n\t\t}\n\n\t\tlet strText = String(text);\n\t\tconst padding = maxLength - strText.length;\n\n\t\tif (padding > 0) {\n\t\t\tstrText =\n\t\t\t\trepeat(fillString, Math.floor(padding / fillString.length)) +\n\t\t\t\tfillString.slice(0, padding % fillString.length) +\n\t\t\t\tstrText;\n\t\t}\n\n\t\treturn strText;\n\t};\n}\n\n\n\n// WEBPACK FOOTER //\n// string.ts","import global from '../global';\nimport has from './has';\nimport { Handle } from '../interfaces';\n\nfunction executeTask(item: QueueItem | undefined): void {\n\tif (item && item.isActive && item.callback) {\n\t\titem.callback();\n\t}\n}\n\nfunction getQueueHandle(item: QueueItem, destructor?: (...args: any[]) => any): Handle {\n\treturn {\n\t\tdestroy: function(this: Handle) {\n\t\t\tthis.destroy = function() {};\n\t\t\titem.isActive = false;\n\t\t\titem.callback = null;\n\n\t\t\tif (destructor) {\n\t\t\t\tdestructor();\n\t\t\t}\n\t\t}\n\t};\n}\n\ninterface PostMessageEvent extends Event {\n\tsource: any;\n\tdata: string;\n}\n\nexport interface QueueItem {\n\tisActive: boolean;\n\tcallback: null | ((...args: any[]) => any);\n}\n\nlet checkMicroTaskQueue: () => void;\nlet microTasks: QueueItem[];\n\n/**\n * Schedules a callback to the macrotask queue.\n *\n * @param callback the function to be queued and later executed.\n * @returns An object with a `destroy` method that, when called, prevents the registered callback from executing.\n */\nexport const queueTask = (function() {\n\tlet destructor: (...args: any[]) => any;\n\tlet enqueue: (item: QueueItem) => void;\n\n\t// Since the IE implementation of `setImmediate` is not flawless, we will test for `postMessage` first.\n\tif (has('postmessage')) {\n\t\tconst queue: QueueItem[] = [];\n\n\t\tglobal.addEventListener('message', function(event: PostMessageEvent): void {\n\t\t\t// Confirm that the event was triggered by the current window and by this particular implementation.\n\t\t\tif (event.source === global && event.data === 'dojo-queue-message') {\n\t\t\t\tevent.stopPropagation();\n\n\t\t\t\tif (queue.length) {\n\t\t\t\t\texecuteTask(queue.shift());\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tenqueue = function(item: QueueItem): void {\n\t\t\tqueue.push(item);\n\t\t\tglobal.postMessage('dojo-queue-message', '*');\n\t\t};\n\t} else if (has('setimmediate')) {\n\t\tdestructor = global.clearImmediate;\n\t\tenqueue = function(item: QueueItem): any {\n\t\t\treturn setImmediate(executeTask.bind(null, item));\n\t\t};\n\t} else {\n\t\tdestructor = global.clearTimeout;\n\t\tenqueue = function(item: QueueItem): any {\n\t\t\treturn setTimeout(executeTask.bind(null, item), 0);\n\t\t};\n\t}\n\n\tfunction queueTask(callback: (...args: any[]) => any): Handle {\n\t\tconst item: QueueItem = {\n\t\t\tisActive: true,\n\t\t\tcallback: callback\n\t\t};\n\t\tconst id: any = enqueue(item);\n\n\t\treturn getQueueHandle(\n\t\t\titem,\n\t\t\tdestructor &&\n\t\t\t\tfunction() {\n\t\t\t\t\tdestructor(id);\n\t\t\t\t}\n\t\t);\n\t}\n\n\t// TODO: Use aspect.before when it is available.\n\treturn has('microtasks')\n\t\t? queueTask\n\t\t: function(callback: (...args: any[]) => any): Handle {\n\t\t\t\tcheckMicroTaskQueue();\n\t\t\t\treturn queueTask(callback);\n\t\t\t};\n})();\n\n// When no mechanism for registering microtasks is exposed by the environment, microtasks will\n// be queued and then executed in a single macrotask before the other macrotasks are executed.\nif (!has('microtasks')) {\n\tlet isMicroTaskQueued = false;\n\n\tmicroTasks = [];\n\tcheckMicroTaskQueue = function(): void {\n\t\tif (!isMicroTaskQueued) {\n\t\t\tisMicroTaskQueued = true;\n\t\t\tqueueTask(function() {\n\t\t\t\tisMicroTaskQueued = false;\n\n\t\t\t\tif (microTasks.length) {\n\t\t\t\t\tlet item: QueueItem | undefined;\n\t\t\t\t\twhile ((item = microTasks.shift())) {\n\t\t\t\t\t\texecuteTask(item);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t};\n}\n\n/**\n * Schedules an animation task with `window.requestAnimationFrame` if it exists, or with `queueTask` otherwise.\n *\n * Since requestAnimationFrame's behavior does not match that expected from `queueTask`, it is not used there.\n * However, at times it makes more sense to delegate to requestAnimationFrame; hence the following method.\n *\n * @param callback the function to be queued and later executed.\n * @returns An object with a `destroy` method that, when called, prevents the registered callback from executing.\n */\nexport const queueAnimationTask = (function() {\n\tif (!has('raf')) {\n\t\treturn queueTask;\n\t}\n\n\tfunction queueAnimationTask(callback: (...args: any[]) => any): Handle {\n\t\tconst item: QueueItem = {\n\t\t\tisActive: true,\n\t\t\tcallback: callback\n\t\t};\n\t\tconst rafId: number = requestAnimationFrame(executeTask.bind(null, item));\n\n\t\treturn getQueueHandle(item, function() {\n\t\t\tcancelAnimationFrame(rafId);\n\t\t});\n\t}\n\n\t// TODO: Use aspect.before when it is available.\n\treturn has('microtasks')\n\t\t? queueAnimationTask\n\t\t: function(callback: (...args: any[]) => any): Handle {\n\t\t\t\tcheckMicroTaskQueue();\n\t\t\t\treturn queueAnimationTask(callback);\n\t\t\t};\n})();\n\n/**\n * Schedules a callback to the microtask queue.\n *\n * Any callbacks registered with `queueMicroTask` will be executed before the next macrotask. If no native\n * mechanism for scheduling macrotasks is exposed, then any callbacks will be fired before any macrotask\n * registered with `queueTask` or `queueAnimationTask`.\n *\n * @param callback the function to be queued and later executed.\n * @returns An object with a `destroy` method that, when called, prevents the registered callback from executing.\n */\nexport let queueMicroTask = (function() {\n\tlet enqueue: (item: QueueItem) => void;\n\n\tif (has('host-node')) {\n\t\tenqueue = function(item: QueueItem): void {\n\t\t\tglobal.process.nextTick(executeTask.bind(null, item));\n\t\t};\n\t} else if (has('es6-promise')) {\n\t\tenqueue = function(item: QueueItem): void {\n\t\t\tglobal.Promise.resolve(item).then(executeTask);\n\t\t};\n\t} else if (has('dom-mutationobserver')) {\n\t\t/* tslint:disable-next-line:variable-name */\n\t\tconst HostMutationObserver = global.MutationObserver || global.WebKitMutationObserver;\n\t\tconst node = document.createElement('div');\n\t\tconst queue: QueueItem[] = [];\n\t\tconst observer = new HostMutationObserver(function(): void {\n\t\t\twhile (queue.length > 0) {\n\t\t\t\tconst item = queue.shift();\n\t\t\t\tif (item && item.isActive && item.callback) {\n\t\t\t\t\titem.callback();\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tobserver.observe(node, { attributes: true });\n\n\t\tenqueue = function(item: QueueItem): void {\n\t\t\tqueue.push(item);\n\t\t\tnode.setAttribute('queueStatus', '1');\n\t\t};\n\t} else {\n\t\tenqueue = function(item: QueueItem): void {\n\t\t\tcheckMicroTaskQueue();\n\t\t\tmicroTasks.push(item);\n\t\t};\n\t}\n\n\treturn function(callback: (...args: any[]) => any): Handle {\n\t\tconst item: QueueItem = {\n\t\t\tisActive: true,\n\t\t\tcallback: callback\n\t\t};\n\n\t\tenqueue(item);\n\n\t\treturn getQueueHandle(item);\n\t};\n})();\n\n\n\n// WEBPACK FOOTER //\n// queue.ts","/**\n * Helper function to generate a value property descriptor\n *\n * @param value        The value the property descriptor should be set to\n * @param enumerable   If the property should be enumberable, defaults to false\n * @param writable     If the property should be writable, defaults to true\n * @param configurable If the property should be configurable, defaults to true\n * @return             The property descriptor object\n */\nexport function getValueDescriptor<T>(\n\tvalue: T,\n\tenumerable: boolean = false,\n\twritable: boolean = true,\n\tconfigurable: boolean = true\n): TypedPropertyDescriptor<T> {\n\treturn {\n\t\tvalue: value,\n\t\tenumerable: enumerable,\n\t\twritable: writable,\n\t\tconfigurable: configurable\n\t};\n}\n\n/**\n * A helper function which wraps a function where the first argument becomes the scope\n * of the call\n *\n * @param nativeFunction The source function to be wrapped\n */\nexport function wrapNative<T, U, R>(nativeFunction: (arg1: U) => R): (target: T, arg1: U) => R;\nexport function wrapNative<T, U, V, R>(nativeFunction: (arg1: U, arg2: V) => R): (target: T, arg1: U, arg2: V) => R;\nexport function wrapNative<T, U, V, W, R>(\n\tnativeFunction: (arg1: U, arg2: V, arg3: W) => R\n): (target: T, arg1: U, arg2: V, arg3: W) => R;\nexport function wrapNative<T, U, V, W, X, R>(\n\tnativeFunction: (arg1: U, arg2: V, arg3: W) => R\n): (target: T, arg1: U, arg2: V, arg3: W) => R;\nexport function wrapNative<T, U, V, W, X, Y, R>(\n\tnativeFunction: (arg1: U, arg2: V, arg3: W, arg4: Y) => R\n): (target: T, arg1: U, arg2: V, arg3: W, arg4: Y) => R;\nexport function wrapNative(nativeFunction: (...args: any[]) => any): (target: any, ...args: any[]) => any {\n\treturn function(target: any, ...args: any[]): any {\n\t\treturn nativeFunction.apply(target, args);\n\t};\n}\n\n\n\n// WEBPACK FOOTER //\n// util.ts","import { Evented } from '@dojo/core/Evented';\nimport { Patch, PatchOperation } from './state/Patch';\nimport { Pointer } from './state/Pointer';\nimport Map from '@dojo/shim/Map';\n\n/**\n * The \"path\" to a value of type T on and object of type M. The path string is a JSON Pointer to the location of\n * `value` within `state`.\n *\n */\nexport interface Path<M, T> {\n\tpath: string;\n\tstate: M;\n\tvalue: T;\n}\n\n/**\n * An interface that enables typed traversal of an arbitrary type M. `path` and `at` can be used to generate\n * `Path`s that allow access to properties within M via the `get` method. The returned `Path`s can also be passed to the\n * utility methods `add`, `replace`, and `delete` in order to generate typed operations for modifying the state of a store.\n */\nexport interface State<M> {\n\tget<S>(path: Path<M, S>): S;\n\tpath<T, P0 extends keyof T>(path: Path<M, T>, a: P0): Path<M, T[P0]>;\n\tpath<T, P0 extends keyof T, P1 extends keyof T[P0]>(path: Path<M, T>, a: P0, b: P1): Path<M, T[P0][P1]>;\n\tpath<T, P0 extends keyof T, P1 extends keyof T[P0], P2 extends keyof T[P0][P1]>(\n\t\tpath: Path<M, T>,\n\t\ta: P0,\n\t\tb: P1,\n\t\tc: P2\n\t): Path<M, T[P0][P1][P2]>;\n\tpath<T, P0 extends keyof T, P1 extends keyof T[P0], P2 extends keyof T[P0][P1], P3 extends keyof T[P0][P1][P2]>(\n\t\tpath: Path<M, T>,\n\t\ta: P0,\n\t\tb: P1,\n\t\tc: P2,\n\t\td: P3\n\t): Path<M, T[P0][P1][P2][P3]>;\n\tpath<\n\t\tT,\n\t\tP0 extends keyof T,\n\t\tP1 extends keyof T[P0],\n\t\tP2 extends keyof T[P0][P1],\n\t\tP3 extends keyof T[P0][P1][P2],\n\t\tP4 extends keyof T[P0][P1][P2][P3]\n\t>(\n\t\tpath: Path<M, T>,\n\t\ta: P0,\n\t\tb: P1,\n\t\tc: P2,\n\t\td: P3,\n\t\te: P4\n\t): Path<M, T[P0][P1][P2][P3][P4]>;\n\tpath<P0 extends keyof M>(a: P0): Path<M, M[P0]>;\n\tpath<P0 extends keyof M, P1 extends keyof M[P0]>(a: P0, b: P1): Path<M, M[P0][P1]>;\n\tpath<P0 extends keyof M, P1 extends keyof M[P0], P2 extends keyof M[P0][P1]>(\n\t\ta: P0,\n\t\tb: P1,\n\t\tc: P2\n\t): Path<M, M[P0][P1][P2]>;\n\tpath<P0 extends keyof M, P1 extends keyof M[P0], P2 extends keyof M[P0][P1], P3 extends keyof M[P0][P1][P2]>(\n\t\ta: P0,\n\t\tb: P1,\n\t\tc: P2,\n\t\td: P3\n\t): Path<M, M[P0][P1][P2][P3]>;\n\tpath<\n\t\tP0 extends keyof M,\n\t\tP1 extends keyof M[P0],\n\t\tP2 extends keyof M[P0][P1],\n\t\tP3 extends keyof M[P0][P1][P2],\n\t\tP4 extends keyof M[P0][P1][P2][P3]\n\t>(\n\t\ta: P0,\n\t\tb: P1,\n\t\tc: P2,\n\t\td: P3,\n\t\te: P4\n\t): Path<M, M[P0][P1][P2][P3][P4]>;\n\tat<S extends Path<M, Array<any>>>(path: S, index: number): Path<M, S['value'][0]>;\n}\n\ninterface OnChangeCallback {\n\tcallbackId: number;\n\tcallback: () => void;\n}\n\ninterface OnChangeValue {\n\tcallbacks: OnChangeCallback[];\n\tpreviousValue: any;\n}\n\nfunction isString(segment?: string): segment is string {\n\treturn typeof segment === 'string';\n}\n\n/**\n * Application state store\n */\nexport class Store<T = any> extends Evented implements State<T> {\n\t/**\n\t * The private state object\n\t */\n\tprivate _state = {} as T;\n\n\tprivate _changePaths = new Map<string, OnChangeValue>();\n\n\tprivate _callbackId = 0;\n\n\t/**\n\t * Returns the state at a specific pointer path location.\n\t */\n\tpublic get = <U = any>(path: Path<T, U>): U => {\n\t\treturn path.value;\n\t};\n\n\t/**\n\t * Applies store operations to state and returns the undo operations\n\t */\n\tpublic apply = (operations: PatchOperation<T>[], invalidate: boolean = false): PatchOperation<T>[] => {\n\t\tconst patch = new Patch(operations);\n\t\tconst patchResult = patch.apply(this._state);\n\t\tthis._state = patchResult.object;\n\t\tif (invalidate) {\n\t\t\tthis.invalidate();\n\t\t}\n\t\treturn patchResult.undoOperations;\n\t};\n\n\tpublic at = <U = any>(path: Path<T, Array<U>>, index: number): Path<T, U> => {\n\t\tconst array = this.get(path);\n\t\tconst value = array && array[index];\n\n\t\treturn {\n\t\t\tpath: `${path.path}/${index}`,\n\t\t\tstate: path.state,\n\t\t\tvalue\n\t\t};\n\t};\n\n\tpublic onChange = <U = any>(paths: Path<T, U> | Path<T, U>[], callback: () => void) => {\n\t\tconst callbackId = this._callbackId;\n\t\tif (!Array.isArray(paths)) {\n\t\t\tpaths = [paths];\n\t\t}\n\t\tpaths.forEach((path) => this._addOnChange(path, callback, callbackId));\n\t\tthis._callbackId += 1;\n\t\treturn {\n\t\t\tremove: () => {\n\t\t\t\t(paths as Path<T, U>[]).forEach((path) => {\n\t\t\t\t\tconst onChange = this._changePaths.get(path.path);\n\t\t\t\t\tif (onChange) {\n\t\t\t\t\t\tonChange.callbacks = onChange.callbacks.filter((callback) => {\n\t\t\t\t\t\t\treturn callback.callbackId !== callbackId;\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t};\n\t};\n\n\tprivate _addOnChange = <U = any>(path: Path<T, U>, callback: () => void, callbackId: number): void => {\n\t\tlet changePaths = this._changePaths.get(path.path);\n\t\tif (!changePaths) {\n\t\t\tchangePaths = { callbacks: [], previousValue: this.get(path) };\n\t\t}\n\t\tchangePaths.callbacks.push({ callbackId, callback });\n\t\tthis._changePaths.set(path.path, changePaths);\n\t};\n\n\tprivate _runOnChanges() {\n\t\tconst callbackIdsCalled: number[] = [];\n\t\tthis._changePaths.forEach((value: OnChangeValue, path: string) => {\n\t\t\tconst { previousValue, callbacks } = value;\n\t\t\tconst newValue = new Pointer(path).get(this._state);\n\t\t\tif (previousValue !== newValue) {\n\t\t\t\tthis._changePaths.set(path, { callbacks, previousValue: newValue });\n\t\t\t\tcallbacks.forEach((callbackItem) => {\n\t\t\t\t\tconst { callback, callbackId } = callbackItem;\n\t\t\t\t\tif (callbackIdsCalled.indexOf(callbackId) === -1) {\n\t\t\t\t\t\tcallbackIdsCalled.push(callbackId);\n\t\t\t\t\t\tcallback();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t}\n\n\t/**\n\t * Emits an invalidation event\n\t */\n\tpublic invalidate(): any {\n\t\tthis._runOnChanges();\n\t\tthis.emit({ type: 'invalidate' });\n\t}\n\n\tpublic path: State<T>['path'] = (path: string | Path<T, any>, ...segments: (string | undefined)[]) => {\n\t\tif (typeof path === 'string') {\n\t\t\tsegments = [path, ...segments];\n\t\t} else {\n\t\t\tsegments = [...new Pointer(path.path).segments, ...segments];\n\t\t}\n\n\t\tconst stringSegments = segments.filter<string>(isString);\n\t\tconst hasMultipleSegments = stringSegments.length > 1;\n\t\tconst pointer = new Pointer(hasMultipleSegments ? stringSegments : stringSegments[0] || '');\n\n\t\treturn {\n\t\t\tpath: pointer.path,\n\t\t\tstate: this._state,\n\t\t\tvalue: pointer.get(this._state)\n\t\t};\n\t};\n}\n\nexport default Store;\n\n\n\n// WEBPACK FOOTER //\n// Store.ts","import { isThenable } from '@dojo/shim/Promise';\nimport { PatchOperation } from './state/Patch';\nimport { State, Store } from './Store';\n\n/**\n * Default Payload interface\n */\nexport interface DefaultPayload {\n\t[index: string]: any;\n}\n\n/**\n * The arguments passed to a `Command`\n */\nexport interface CommandRequest<T = any, P extends object = DefaultPayload> extends State<T> {\n\tpayload: P;\n}\n\n/**\n * A command factory interface. Returns the passed command. This provides a way to automatically infer and/or\n * verify the type of multiple commands without explicitly specifying the generic for each command\n */\nexport interface CommandFactory<T = any, P extends object = DefaultPayload> {\n\t<R extends object = P>(command: Command<T, R>): Command<T, R>;\n}\n\n/**\n * Command that returns patch operations based on the command request\n */\nexport interface Command<T = any, P extends object = DefaultPayload> {\n\t(request: CommandRequest<T, P>): Promise<PatchOperation<T>[]> | PatchOperation<T>[];\n}\n\n/**\n * Transformer function\n */\nexport interface Transformer<P extends object = DefaultPayload, R extends object = DefaultPayload> {\n\t(payload: R): P;\n}\n\n/**\n * A process that returns an executor using a Store and Transformer\n */\nexport interface Process<T = any, P extends object = DefaultPayload> {\n\t<R extends object = DefaultPayload>(store: Store<T>, transformer: Transformer<P, R>): ProcessExecutor<T, P, R>;\n\t(store: Store<T>): ProcessExecutor<T, P, P>;\n}\n\n/**\n * Represents an error from a ProcessExecutor\n */\nexport interface ProcessError<T = any> {\n\terror: Error | null;\n\tcommand?: Command<T, any>[] | Command<T, any>;\n}\n\nexport interface ProcessResultExecutor<T = any> {\n\t<P extends object = DefaultPayload, R extends object = DefaultPayload>(\n\t\tprocess: Process<T, P>,\n\t\tpayload: R,\n\t\ttransformer: Transformer<P, R>\n\t): Promise<ProcessResult<T, P> | ProcessError<T>>;\n\t<P extends object = object>(process: Process<T, P>, payload: P): Promise<ProcessResult<T, P> | ProcessError<T>>;\n}\n\n/**\n * Represents a successful result from a ProcessExecutor\n */\nexport interface ProcessResult<T = any, P extends object = DefaultPayload> extends State<T> {\n\texecutor: ProcessResultExecutor<T>;\n\tundo: Undo;\n\toperations: PatchOperation<T>[];\n\tapply: (operations: PatchOperation<T>[], invalidate?: boolean) => PatchOperation<T>[];\n\tpayload: P;\n\terror?: ProcessError<T> | null;\n}\n\n/**\n * Runs a process for the given arguments.\n */\nexport interface ProcessExecutor<T = any, P extends object = DefaultPayload, R extends object = DefaultPayload> {\n\t(payload: R): Promise<ProcessResult<T, P>>;\n}\n\n/**\n * Callback for a process, returns an error as the first argument\n */\nexport interface ProcessCallback<T = any> {\n\t(error: ProcessError<T> | null, result: ProcessResult<T>): void;\n}\n\n/**\n * Function for undoing operations\n */\nexport interface Undo {\n\t(): void;\n}\n\n/**\n * ProcessCallbackDecorator callback\n */\nexport interface ProcessCallbackDecorator {\n\t(callback?: ProcessCallback): ProcessCallback;\n}\n\n/**\n * CreateProcess factory interface\n */\nexport interface CreateProcess<T = any, P extends object = DefaultPayload> {\n\t(commands: (Command<T, P>[] | Command<T, P>)[], callback?: ProcessCallback<T>): Process<T, P>;\n}\n\n/**\n * Creates a command factory with the specified type\n */\nexport function createCommandFactory<T, P extends object = DefaultPayload>(): CommandFactory<T, P> {\n\treturn <R extends object = P>(command: Command<T, R>) => command;\n}\n\n/**\n * Commands that can be passed to a process\n */\nexport type Commands<T = any, P extends object = DefaultPayload> = (Command<T, P>[] | Command<T, P>)[];\n\nexport interface ProcessOptions {\n\tcallback?: ProcessCallback;\n}\n\n/**\n * Factories a process using the provided commands and an optional callback. Returns an executor used to run the process.\n *\n * @param commands The commands for the process\n * @param callback Callback called after the process is completed\n */\nexport function createProcess<T = any, P extends object = DefaultPayload>(\n\tcommands: Commands<T, P>,\n\t{ callback }: ProcessOptions = {}\n): Process<T, P> {\n\tfunction processExecutor(store: Store<T>, transformer?: Transformer<P>): ProcessExecutor<T, any, any> {\n\t\tconst { apply, get, path, at } = store;\n\t\tfunction executor(\n\t\t\tprocess: Process,\n\t\t\tpayload: any,\n\t\t\ttransformer?: Transformer\n\t\t): Promise<ProcessResult | ProcessError> {\n\t\t\treturn process(store)(payload);\n\t\t}\n\n\t\treturn async (executorPayload: P): Promise<ProcessResult<T, P>> => {\n\t\t\tconst undoOperations: PatchOperation[] = [];\n\t\t\tconst operations: PatchOperation[] = [];\n\t\t\tconst commandsCopy = [...commands];\n\t\t\tconst undo = () => {\n\t\t\t\tstore.apply(undoOperations, true);\n\t\t\t};\n\n\t\t\tlet command = commandsCopy.shift();\n\t\t\tlet error: ProcessError | null = null;\n\t\t\tconst payload = transformer ? transformer(executorPayload) : executorPayload;\n\t\t\ttry {\n\t\t\t\twhile (command) {\n\t\t\t\t\tlet results = [];\n\t\t\t\t\tif (Array.isArray(command)) {\n\t\t\t\t\t\tresults = command.map((commandFunction) => commandFunction({ at, get, path, payload }));\n\t\t\t\t\t\tresults = await Promise.all(results);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tlet result = command({ at, get, path, payload });\n\t\t\t\t\t\tif (isThenable(result)) {\n\t\t\t\t\t\t\tresult = await result;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tresults = [result];\n\t\t\t\t\t}\n\n\t\t\t\t\tfor (let i = 0; i < results.length; i++) {\n\t\t\t\t\t\toperations.push(...results[i]);\n\t\t\t\t\t\tundoOperations.push(...apply(results[i]));\n\t\t\t\t\t}\n\n\t\t\t\t\tstore.invalidate();\n\t\t\t\t\tcommand = commandsCopy.shift();\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\terror = { error: e, command };\n\t\t\t}\n\n\t\t\tcallback && callback(error, { operations, undo, apply, at, get, path, executor, payload });\n\t\t\treturn Promise.resolve({ error, operations, undo, apply, at, get, path, executor, payload });\n\t\t};\n\t}\n\treturn processExecutor;\n}\n\n/**\n * Creates a process factory that will create processes with the specified callback decorators applied.\n * @param callbackDecorators array of process callback decorators to be used by the return factory.\n */\nexport function createProcessFactoryWith(callbackDecorators: ProcessCallbackDecorator[]): CreateProcess {\n\treturn (commands: (Command[] | Command)[], callback?: ProcessCallback): Process => {\n\t\tconst decoratedCallback = callbackDecorators.reduce((callback, callbackDecorator) => {\n\t\t\treturn callbackDecorator(callback);\n\t\t}, callback);\n\t\treturn createProcess(commands, { callback: decoratedCallback });\n\t};\n}\n\n/**\n * Creates a `ProcessCallbackDecorator` from a `ProcessCallback`.\n * @param processCallback the process callback to convert to a decorator.\n */\nexport function createCallbackDecorator(processCallback: ProcessCallback): ProcessCallbackDecorator {\n\treturn (previousCallback?: ProcessCallback): ProcessCallback => {\n\t\treturn (error: ProcessError | null, result: ProcessResult): void => {\n\t\t\tprocessCallback(error, result);\n\t\t\tpreviousCallback && previousCallback(error, result);\n\t\t};\n\t};\n}\n\n\n\n// WEBPACK FOOTER //\n// process.ts","import { Pointer, walk, PointerTarget } from './Pointer';\n\nexport enum OperationType {\n\tADD = 'add',\n\tREMOVE = 'remove',\n\tREPLACE = 'replace',\n\tTEST = 'test'\n}\n\nexport interface BaseOperation<T = any, U = any> {\n\top: OperationType;\n\tpath: Pointer<T, U>;\n}\n\nexport interface AddPatchOperation<T = any, U = any> extends BaseOperation<T, U> {\n\top: OperationType.ADD;\n\tvalue: U;\n}\n\nexport interface RemovePatchOperation<T = any, U = any> extends BaseOperation<T, U> {\n\top: OperationType.REMOVE;\n}\n\nexport interface ReplacePatchOperation<T = any, U = any> extends BaseOperation<T, U> {\n\top: OperationType.REPLACE;\n\tvalue: U;\n}\n\nexport interface TestPatchOperation<T = any, U = any> extends BaseOperation<T, U> {\n\top: OperationType.TEST;\n\tvalue: U;\n}\n\nexport type PatchOperation<T = any, U = any> =\n\t| AddPatchOperation<T, U>\n\t| RemovePatchOperation<T, U>\n\t| ReplacePatchOperation<T, U>\n\t| TestPatchOperation<T, U>;\n\nexport interface PatchResult<T = any, U = any> {\n\tobject: T;\n\tundoOperations: PatchOperation<T, U>[];\n}\n\nfunction add(pointerTarget: PointerTarget, value: any): any {\n\tif (Array.isArray(pointerTarget.target)) {\n\t\tpointerTarget.target.splice(parseInt(pointerTarget.segment, 10), 0, value);\n\t} else {\n\t\tpointerTarget.target[pointerTarget.segment] = value;\n\t}\n\treturn pointerTarget.object;\n}\n\nfunction replace(pointerTarget: PointerTarget, value: any): any {\n\tif (Array.isArray(pointerTarget.target)) {\n\t\tpointerTarget.target.splice(parseInt(pointerTarget.segment, 10), 1, value);\n\t} else {\n\t\tpointerTarget.target[pointerTarget.segment] = value;\n\t}\n\treturn pointerTarget.object;\n}\n\nfunction remove(pointerTarget: PointerTarget): any {\n\tif (Array.isArray(pointerTarget.target)) {\n\t\tpointerTarget.target.splice(parseInt(pointerTarget.segment, 10), 1);\n\t} else {\n\t\tdelete pointerTarget.target[pointerTarget.segment];\n\t}\n\treturn pointerTarget.object;\n}\n\nfunction test(pointerTarget: PointerTarget, value: any) {\n\treturn isEqual(pointerTarget.target[pointerTarget.segment], value);\n}\n\nexport function isObject(value: any): value is Object {\n\treturn Object.prototype.toString.call(value) === '[object Object]';\n}\n\nexport function isEqual(a: any, b: any): boolean {\n\tif (Array.isArray(a) && Array.isArray(b)) {\n\t\treturn a.length === b.length && a.every((element: any, i: number) => isEqual(element, b[i]));\n\t} else if (isObject(a) && isObject(b)) {\n\t\tconst keysForA = Object.keys(a).sort();\n\t\tconst keysForB = Object.keys(b).sort();\n\t\treturn isEqual(keysForA, keysForB) && keysForA.every((key) => isEqual(a[key], b[key]));\n\t} else {\n\t\treturn a === b;\n\t}\n}\n\nfunction inverse(operation: PatchOperation, state: any): any[] {\n\tif (operation.op === OperationType.ADD) {\n\t\tconst op = {\n\t\t\top: OperationType.REMOVE,\n\t\t\tpath: operation.path\n\t\t};\n\t\tconst test = {\n\t\t\top: OperationType.TEST,\n\t\t\tpath: operation.path,\n\t\t\tvalue: operation.value\n\t\t};\n\t\treturn [test, op];\n\t} else if (operation.op === OperationType.REPLACE) {\n\t\tconst op = {\n\t\t\top: OperationType.REPLACE,\n\t\t\tpath: operation.path,\n\t\t\tvalue: operation.path.get(state)\n\t\t};\n\t\tconst test = {\n\t\t\top: OperationType.TEST,\n\t\t\tpath: operation.path,\n\t\t\tvalue: operation.value\n\t\t};\n\t\treturn [test, op];\n\t} else {\n\t\treturn [\n\t\t\t{\n\t\t\t\top: OperationType.ADD,\n\t\t\t\tpath: operation.path,\n\t\t\t\tvalue: operation.path.get(state)\n\t\t\t}\n\t\t];\n\t}\n}\n\nexport class Patch<T = any> {\n\tprivate _operations: PatchOperation<T>[];\n\n\tconstructor(operations: PatchOperation<T> | PatchOperation<T>[]) {\n\t\tthis._operations = Array.isArray(operations) ? operations : [operations];\n\t}\n\n\tpublic apply(object: any): PatchResult<T> {\n\t\tlet undoOperations: PatchOperation<T>[] = [];\n\t\tconst patchedObject = this._operations.reduce((patchedObject, next) => {\n\t\t\tlet object;\n\t\t\tconst pointerTarget = walk(next.path.segments, patchedObject);\n\t\t\tswitch (next.op) {\n\t\t\t\tcase OperationType.ADD:\n\t\t\t\t\tobject = add(pointerTarget, next.value);\n\t\t\t\t\tbreak;\n\t\t\t\tcase OperationType.REPLACE:\n\t\t\t\t\tobject = replace(pointerTarget, next.value);\n\t\t\t\t\tbreak;\n\t\t\t\tcase OperationType.REMOVE:\n\t\t\t\t\tobject = remove(pointerTarget);\n\t\t\t\t\tbreak;\n\t\t\t\tcase OperationType.TEST:\n\t\t\t\t\tconst result = test(pointerTarget, next.value);\n\t\t\t\t\tif (!result) {\n\t\t\t\t\t\tthrow new Error('Test operation failure. Unable to apply any operations.');\n\t\t\t\t\t}\n\t\t\t\t\treturn patchedObject;\n\t\t\t\tdefault:\n\t\t\t\t\tthrow new Error('Unknown operation');\n\t\t\t}\n\t\t\tundoOperations = [...undoOperations, ...inverse(next, patchedObject)];\n\t\t\treturn object;\n\t\t}, object);\n\t\treturn { object: patchedObject, undoOperations };\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// Patch.ts","export function decode(segment: string) {\n\treturn segment.replace(/~1/g, '/').replace(/~0/g, '~');\n}\n\nfunction encode(segment: string) {\n\treturn segment.replace(/~/g, '~0').replace(/\\//g, '~1');\n}\n\nexport interface PointerTarget {\n\tobject: any;\n\ttarget: any;\n\tsegment: string;\n}\n\nexport function walk(segments: string[], object: any, clone = true): PointerTarget {\n\tif (clone) {\n\t\tobject = { ...object };\n\t}\n\tconst pointerTarget: PointerTarget = {\n\t\tobject,\n\t\ttarget: object,\n\t\tsegment: ''\n\t};\n\n\treturn segments.reduce((pointerTarget, segment, index) => {\n\t\tif (Array.isArray(pointerTarget.target) && segment === '-') {\n\t\t\tsegment = String(pointerTarget.target.length - 1);\n\t\t}\n\t\tif (index + 1 < segments.length) {\n\t\t\tconst nextSegment = segments[index + 1];\n\t\t\tlet target = pointerTarget.target[segment];\n\n\t\t\tif (clone || target === undefined) {\n\t\t\t\tif (Array.isArray(target)) {\n\t\t\t\t\ttarget = [...target];\n\t\t\t\t} else if (typeof target === 'object') {\n\t\t\t\t\ttarget = { ...target };\n\t\t\t\t} else if (isNaN(parseInt(nextSegment, 0))) {\n\t\t\t\t\ttarget = {};\n\t\t\t\t} else {\n\t\t\t\t\ttarget = [];\n\t\t\t\t}\n\t\t\t\tpointerTarget.target[segment] = target;\n\t\t\t\tpointerTarget.target = target;\n\t\t\t} else {\n\t\t\t\tpointerTarget.target = target;\n\t\t\t}\n\t\t} else {\n\t\t\tpointerTarget.segment = segment;\n\t\t}\n\t\treturn pointerTarget;\n\t}, pointerTarget);\n}\n\nexport class Pointer<T = any, U = any> {\n\tprivate readonly _segments: string[];\n\n\tconstructor(segments: string | string[]) {\n\t\tif (Array.isArray(segments)) {\n\t\t\tthis._segments = segments;\n\t\t} else {\n\t\t\tthis._segments = (segments[0] === '/' ? segments : `/${segments}`).split('/');\n\t\t\tthis._segments.shift();\n\t\t}\n\t\tif (segments.length === 0 || ((segments.length === 1 && segments[0] === '/') || segments[0] === '')) {\n\t\t\tthrow new Error('Access to the root is not supported.');\n\t\t}\n\t\tthis._segments = this._segments.map(decode);\n\t}\n\n\tpublic get segments(): string[] {\n\t\treturn this._segments;\n\t}\n\n\tpublic get path(): string {\n\t\treturn `/${this._segments.map(encode).join('/')}`;\n\t}\n\n\tget(object: T): U {\n\t\tconst pointerTarget: PointerTarget = walk(this.segments, object, false);\n\t\treturn pointerTarget.target[pointerTarget.segment];\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// Pointer.ts","import {\n\tRemovePatchOperation,\n\tReplacePatchOperation,\n\tAddPatchOperation,\n\tTestPatchOperation,\n\tOperationType\n} from './Patch';\nimport { Pointer } from './Pointer';\nimport { Path } from '../Store';\n\nexport function add<T = any, U = any>(path: Path<T, U>, value: U): AddPatchOperation<T, U> {\n\treturn {\n\t\top: OperationType.ADD,\n\t\tpath: new Pointer(path.path),\n\t\tvalue\n\t};\n}\n\nexport function replace<T = any, U = any>(path: Path<T, U>, value: U): ReplacePatchOperation<T, U> {\n\treturn {\n\t\top: OperationType.REPLACE,\n\t\tpath: new Pointer(path.path),\n\t\tvalue\n\t};\n}\n\nexport function remove<T = any, U = any>(path: Path<T, U>): RemovePatchOperation<T, U> {\n\treturn {\n\t\top: OperationType.REMOVE,\n\t\tpath: new Pointer(path.path)\n\t};\n}\n\nexport function test<T = any, U = any>(path: Path<T, U>, value: U): TestPatchOperation<T, U> {\n\treturn {\n\t\top: OperationType.TEST,\n\t\tpath: new Pointer(path.path),\n\t\tvalue\n\t};\n}\n\n\n\n// WEBPACK FOOTER //\n// operations.ts","\nmodule.exports = function () {\n\treturn new Promise(function (resolve) {\n\trequire.ensure([], function (require) {\n\t\tresolve(require(\"!!../../node_modules/umd-compat-loader/index.js??ref--4-0!../../node_modules/ts-loader/index.js??ref--4-1!../../node_modules/tslint-loader/index.js??ref--0!../../node_modules/@dojo/webpack-contrib/css-module-dts-loader/index.js?type=ts&instanceName=0_dojo!./ArticleContainer.ts\"));\n\t}, \"src/containers/ArticleContainer\");\n\t});\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@dojo/webpack-contrib/promise-loader?global,src/containers/ArticleContainer!./src/containers/ArticleContainer.ts\n// module id = ./node_modules/@dojo/webpack-contrib/promise-loader/index.js?global,src/containers/ArticleContainer!./src/containers/ArticleContainer.ts\n// module chunks = main","\nmodule.exports = function () {\n\treturn new Promise(function (resolve) {\n\trequire.ensure([], function (require) {\n\t\tresolve(require(\"!!../../node_modules/umd-compat-loader/index.js??ref--4-0!../../node_modules/ts-loader/index.js??ref--4-1!../../node_modules/tslint-loader/index.js??ref--0!../../node_modules/@dojo/webpack-contrib/css-module-dts-loader/index.js?type=ts&instanceName=0_dojo!./EditorContainer.ts\"));\n\t}, \"src/containers/EditorContainer\");\n\t});\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@dojo/webpack-contrib/promise-loader?global,src/containers/EditorContainer!./src/containers/EditorContainer.ts\n// module id = ./node_modules/@dojo/webpack-contrib/promise-loader/index.js?global,src/containers/EditorContainer!./src/containers/EditorContainer.ts\n// module chunks = main","\nmodule.exports = function () {\n\treturn new Promise(function (resolve) {\n\trequire.ensure([], function (require) {\n\t\tresolve(require(\"!!../../node_modules/umd-compat-loader/index.js??ref--4-0!../../node_modules/ts-loader/index.js??ref--4-1!../../node_modules/tslint-loader/index.js??ref--0!../../node_modules/@dojo/webpack-contrib/css-module-dts-loader/index.js?type=ts&instanceName=0_dojo!./LoginContainer.ts\"));\n\t}, \"src/containers/LoginContainer\");\n\t});\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@dojo/webpack-contrib/promise-loader?global,src/containers/LoginContainer!./src/containers/LoginContainer.ts\n// module id = ./node_modules/@dojo/webpack-contrib/promise-loader/index.js?global,src/containers/LoginContainer!./src/containers/LoginContainer.ts\n// module chunks = main","\nmodule.exports = function () {\n\treturn new Promise(function (resolve) {\n\trequire.ensure([], function (require) {\n\t\tresolve(require(\"!!../../node_modules/umd-compat-loader/index.js??ref--4-0!../../node_modules/ts-loader/index.js??ref--4-1!../../node_modules/tslint-loader/index.js??ref--0!../../node_modules/@dojo/webpack-contrib/css-module-dts-loader/index.js?type=ts&instanceName=0_dojo!./ProfileContainer.ts\"));\n\t}, \"src/containers/ProfileContainer\");\n\t});\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@dojo/webpack-contrib/promise-loader?global,src/containers/ProfileContainer!./src/containers/ProfileContainer.ts\n// module id = ./node_modules/@dojo/webpack-contrib/promise-loader/index.js?global,src/containers/ProfileContainer!./src/containers/ProfileContainer.ts\n// module chunks = main","\nmodule.exports = function () {\n\treturn new Promise(function (resolve) {\n\trequire.ensure([], function (require) {\n\t\tresolve(require(\"!!../../node_modules/umd-compat-loader/index.js??ref--4-0!../../node_modules/ts-loader/index.js??ref--4-1!../../node_modules/tslint-loader/index.js??ref--0!../../node_modules/@dojo/webpack-contrib/css-module-dts-loader/index.js?type=ts&instanceName=0_dojo!./RegisterContainer.ts\"));\n\t}, \"src/containers/RegisterContainer\");\n\t});\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@dojo/webpack-contrib/promise-loader?global,src/containers/RegisterContainer!./src/containers/RegisterContainer.ts\n// module id = ./node_modules/@dojo/webpack-contrib/promise-loader/index.js?global,src/containers/RegisterContainer!./src/containers/RegisterContainer.ts\n// module chunks = main","\nmodule.exports = function () {\n\treturn new Promise(function (resolve) {\n\trequire.ensure([], function (require) {\n\t\tresolve(require(\"!!../../node_modules/umd-compat-loader/index.js??ref--4-0!../../node_modules/ts-loader/index.js??ref--4-1!../../node_modules/tslint-loader/index.js??ref--0!../../node_modules/@dojo/webpack-contrib/css-module-dts-loader/index.js?type=ts&instanceName=0_dojo!./SettingsContainer.ts\"));\n\t}, \"src/containers/SettingsContainer\");\n\t});\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@dojo/webpack-contrib/promise-loader?global,src/containers/SettingsContainer!./src/containers/SettingsContainer.ts\n// module id = ./node_modules/@dojo/webpack-contrib/promise-loader/index.js?global,src/containers/SettingsContainer!./src/containers/SettingsContainer.ts\n// module chunks = main","import { WidgetBase } from './WidgetBase';\nimport { inject, GetProperties } from './decorators/inject';\nimport { Constructor, DNode, RegistryLabel } from './interfaces';\nimport { w } from './d';\nimport { alwaysRender } from './decorators/alwaysRender';\n\nexport type Container<T extends WidgetBase> = Constructor<WidgetBase<Partial<T['properties']>>>;\n\nexport function Container<W extends WidgetBase>(\n\tcomponent: Constructor<W> | RegistryLabel,\n\tname: RegistryLabel,\n\t{ getProperties }: { getProperties: GetProperties }\n): Container<W> {\n\t@alwaysRender()\n\t@inject({ name, getProperties })\n\tclass WidgetContainer extends WidgetBase<Partial<W['properties']>> {\n\t\tprotected render(): DNode {\n\t\t\treturn w(component, this.properties, this.children);\n\t\t}\n\t}\n\treturn WidgetContainer;\n}\n\nexport default Container;\n\n\n\n// WEBPACK FOOTER //\n// Container.ts","import { Evented } from '@dojo/core/Evented';\nimport { EventObject } from '@dojo/core/interfaces';\n\nexport interface InjectorEventMap {\n\tinvalidate: EventObject<'invalidate'>;\n}\n\nexport class Injector<T = any> extends Evented<InjectorEventMap> {\n\tprivate _payload: T;\n\n\tconstructor(payload: T) {\n\t\tsuper();\n\t\tthis._payload = payload;\n\t}\n\n\tpublic get(): T {\n\t\treturn this._payload;\n\t}\n\n\tpublic set(payload: T): void {\n\t\tthis._payload = payload;\n\t\tthis.emit({ type: 'invalidate' });\n\t}\n}\n\nexport default Injector;\n\n\n\n// WEBPACK FOOTER //\n// Injector.ts","import { Evented } from '@dojo/core/Evented';\nimport { EventObject } from '@dojo/core/interfaces';\nimport Map from '@dojo/shim/Map';\nimport { NodeHandlerInterface } from './interfaces';\n\n/**\n * Enum to identify the type of event.\n * Listening to 'Projector' will notify when projector is created or updated\n * Listening to 'Widget' will notify when widget root is created or updated\n */\nexport enum NodeEventType {\n\tProjector = 'Projector',\n\tWidget = 'Widget'\n}\n\nexport interface NodeHandlerEventMap {\n\tProjector: EventObject<NodeEventType.Projector>;\n\tWidget: EventObject<NodeEventType.Widget>;\n}\n\nexport class NodeHandler extends Evented<NodeHandlerEventMap> implements NodeHandlerInterface {\n\tprivate _nodeMap = new Map<string, Element>();\n\n\tpublic get(key: string): Element | undefined {\n\t\treturn this._nodeMap.get(key);\n\t}\n\n\tpublic has(key: string): boolean {\n\t\treturn this._nodeMap.has(key);\n\t}\n\n\tpublic add(element: Element, key: string): void {\n\t\tthis._nodeMap.set(key, element);\n\t\tthis.emit({ type: key });\n\t}\n\n\tpublic addRoot(): void {\n\t\tthis.emit({ type: NodeEventType.Widget });\n\t}\n\n\tpublic addProjector(): void {\n\t\tthis.emit({ type: NodeEventType.Projector });\n\t}\n\n\tpublic clear(): void {\n\t\tthis._nodeMap.clear();\n\t}\n}\n\nexport default NodeHandler;\n\n\n\n// WEBPACK FOOTER //\n// NodeHandler.ts","import Promise from '@dojo/shim/Promise';\nimport Map from '@dojo/shim/Map';\nimport Symbol from '@dojo/shim/Symbol';\nimport { EventObject } from '@dojo/core/interfaces';\nimport { Evented } from '@dojo/core/Evented';\nimport { Constructor, RegistryLabel, WidgetBaseConstructor, WidgetBaseInterface } from './interfaces';\nimport { Injector } from './Injector';\n\nexport type WidgetBaseConstructorFunction = () => Promise<WidgetBaseConstructor>;\n\nexport type ESMDefaultWidgetBaseFunction = () => Promise<ESMDefaultWidgetBase<WidgetBaseInterface>>;\n\nexport type RegistryItem =\n\t| WidgetBaseConstructor\n\t| Promise<WidgetBaseConstructor>\n\t| WidgetBaseConstructorFunction\n\t| ESMDefaultWidgetBaseFunction;\n\n/**\n * Widget base symbol type\n */\nexport const WIDGET_BASE_TYPE = Symbol('Widget Base');\n\nexport interface RegistryEventObject extends EventObject<RegistryLabel> {\n\taction: string;\n\titem: WidgetBaseConstructor | Injector;\n}\n\n/**\n * Widget Registry Interface\n */\nexport interface RegistryInterface {\n\t/**\n\t * Define a WidgetRegistryItem against a label\n\t *\n\t * @param label The label of the widget to register\n\t * @param registryItem The registry item to define\n\t */\n\tdefine(label: RegistryLabel, registryItem: RegistryItem): void;\n\n\t/**\n\t * Return a RegistryItem for the given label, null if an entry doesn't exist\n\t *\n\t * @param widgetLabel The label of the widget to return\n\t * @returns The RegistryItem for the widgetLabel, `null` if no entry exists\n\t */\n\tget<T extends WidgetBaseInterface = WidgetBaseInterface>(label: RegistryLabel): Constructor<T> | null;\n\n\t/**\n\t * Returns a boolean if an entry for the label exists\n\t *\n\t * @param widgetLabel The label to search for\n\t * @returns boolean indicating if a widget registry item exists\n\t */\n\thas(label: RegistryLabel): boolean;\n\n\t/**\n\t * Define an Injector against a label\n\t *\n\t * @param label The label of the injector to register\n\t * @param registryItem The injector to define\n\t */\n\tdefineInjector(label: RegistryLabel, registryItem: Injector): void;\n\n\t/**\n\t * Return an Injector registry item for the given label, null if an entry doesn't exist\n\t *\n\t * @param label The label of the injector to return\n\t * @returns The RegistryItem for the widgetLabel, `null` if no entry exists\n\t */\n\tgetInjector<T extends Injector>(label: RegistryLabel): T | null;\n\n\t/**\n\t * Returns a boolean if an injector for the label exists\n\t *\n\t * @param widgetLabel The label to search for\n\t * @returns boolean indicating if a injector registry item exists\n\t */\n\thasInjector(label: RegistryLabel): boolean;\n}\n\n/**\n * Checks is the item is a subclass of WidgetBase (or a WidgetBase)\n *\n * @param item the item to check\n * @returns true/false indicating if the item is a WidgetBaseConstructor\n */\nexport function isWidgetBaseConstructor<T extends WidgetBaseInterface>(item: any): item is Constructor<T> {\n\treturn Boolean(item && item._type === WIDGET_BASE_TYPE);\n}\n\nexport interface ESMDefaultWidgetBase<T> {\n\tdefault: Constructor<T>;\n\t__esModule: boolean;\n}\n\nexport function isWidgetConstructorDefaultExport<T>(item: any): item is ESMDefaultWidgetBase<T> {\n\treturn Boolean(\n\t\titem &&\n\t\t\titem.hasOwnProperty('__esModule') &&\n\t\t\titem.hasOwnProperty('default') &&\n\t\t\tisWidgetBaseConstructor(item.default)\n\t);\n}\n\n/**\n * The Registry implementation\n */\nexport class Registry extends Evented<{}, RegistryLabel, RegistryEventObject> implements RegistryInterface {\n\t/**\n\t * internal map of labels and RegistryItem\n\t */\n\tprivate _widgetRegistry: Map<RegistryLabel, RegistryItem>;\n\n\tprivate _injectorRegistry: Map<RegistryLabel, Injector>;\n\n\t/**\n\t * Emit loaded event for registry label\n\t */\n\tprivate emitLoadedEvent(widgetLabel: RegistryLabel, item: WidgetBaseConstructor | Injector): void {\n\t\tthis.emit({\n\t\t\ttype: widgetLabel,\n\t\t\taction: 'loaded',\n\t\t\titem\n\t\t});\n\t}\n\n\tpublic define(label: RegistryLabel, item: RegistryItem): void {\n\t\tif (this._widgetRegistry === undefined) {\n\t\t\tthis._widgetRegistry = new Map();\n\t\t}\n\n\t\tif (this._widgetRegistry.has(label)) {\n\t\t\tthrow new Error(`widget has already been registered for '${label.toString()}'`);\n\t\t}\n\n\t\tthis._widgetRegistry.set(label, item);\n\n\t\tif (item instanceof Promise) {\n\t\t\titem.then(\n\t\t\t\t(widgetCtor) => {\n\t\t\t\t\tthis._widgetRegistry.set(label, widgetCtor);\n\t\t\t\t\tthis.emitLoadedEvent(label, widgetCtor);\n\t\t\t\t\treturn widgetCtor;\n\t\t\t\t},\n\t\t\t\t(error) => {\n\t\t\t\t\tthrow error;\n\t\t\t\t}\n\t\t\t);\n\t\t} else if (isWidgetBaseConstructor(item)) {\n\t\t\tthis.emitLoadedEvent(label, item);\n\t\t}\n\t}\n\n\tpublic defineInjector(label: RegistryLabel, item: Injector): void {\n\t\tif (this._injectorRegistry === undefined) {\n\t\t\tthis._injectorRegistry = new Map();\n\t\t}\n\n\t\tif (this._injectorRegistry.has(label)) {\n\t\t\tthrow new Error(`injector has already been registered for '${label.toString()}'`);\n\t\t}\n\n\t\tthis._injectorRegistry.set(label, item);\n\t\tthis.emitLoadedEvent(label, item);\n\t}\n\n\tpublic get<T extends WidgetBaseInterface = WidgetBaseInterface>(label: RegistryLabel): Constructor<T> | null {\n\t\tif (!this.has(label)) {\n\t\t\treturn null;\n\t\t}\n\n\t\tconst item = this._widgetRegistry.get(label);\n\n\t\tif (isWidgetBaseConstructor<T>(item)) {\n\t\t\treturn item;\n\t\t}\n\n\t\tif (item instanceof Promise) {\n\t\t\treturn null;\n\t\t}\n\n\t\tconst promise = (<WidgetBaseConstructorFunction>item)();\n\t\tthis._widgetRegistry.set(label, promise);\n\n\t\tpromise.then(\n\t\t\t(widgetCtor) => {\n\t\t\t\tif (isWidgetConstructorDefaultExport<T>(widgetCtor)) {\n\t\t\t\t\twidgetCtor = widgetCtor.default;\n\t\t\t\t}\n\n\t\t\t\tthis._widgetRegistry.set(label, widgetCtor);\n\t\t\t\tthis.emitLoadedEvent(label, widgetCtor);\n\t\t\t\treturn widgetCtor;\n\t\t\t},\n\t\t\t(error) => {\n\t\t\t\tthrow error;\n\t\t\t}\n\t\t);\n\n\t\treturn null;\n\t}\n\n\tpublic getInjector<T extends Injector>(label: RegistryLabel): T | null {\n\t\tif (!this.hasInjector(label)) {\n\t\t\treturn null;\n\t\t}\n\n\t\treturn this._injectorRegistry.get(label) as T;\n\t}\n\n\tpublic has(label: RegistryLabel): boolean {\n\t\treturn Boolean(this._widgetRegistry && this._widgetRegistry.has(label));\n\t}\n\n\tpublic hasInjector(label: RegistryLabel): boolean {\n\t\treturn Boolean(this._injectorRegistry && this._injectorRegistry.has(label));\n\t}\n}\n\nexport default Registry;\n\n\n\n// WEBPACK FOOTER //\n// Registry.ts","import { Map } from '@dojo/shim/Map';\nimport { Evented } from '@dojo/core/Evented';\nimport { EventObject } from '@dojo/core/interfaces';\nimport { Constructor, RegistryLabel, WidgetBaseInterface } from './interfaces';\nimport { Registry, RegistryEventObject, RegistryItem } from './Registry';\nimport { Injector } from './Injector';\n\nexport interface RegistryHandlerEventMap {\n\tinvalidate: EventObject<'invalidate'>;\n}\n\nexport class RegistryHandler extends Evented<RegistryHandlerEventMap> {\n\tprivate _registry = new Registry();\n\tprivate _registryWidgetLabelMap: Map<Registry, RegistryLabel[]> = new Map();\n\tprivate _registryInjectorLabelMap: Map<Registry, RegistryLabel[]> = new Map();\n\tprotected baseRegistry?: Registry;\n\n\tconstructor() {\n\t\tsuper();\n\t\tthis.own(this._registry);\n\t\tconst destroy = () => {\n\t\t\tif (this.baseRegistry) {\n\t\t\t\tthis._registryWidgetLabelMap.delete(this.baseRegistry);\n\t\t\t\tthis._registryInjectorLabelMap.delete(this.baseRegistry);\n\t\t\t\tthis.baseRegistry = undefined;\n\t\t\t}\n\t\t};\n\t\tthis.own({ destroy });\n\t}\n\n\tpublic set base(baseRegistry: Registry) {\n\t\tif (this.baseRegistry) {\n\t\t\tthis._registryWidgetLabelMap.delete(this.baseRegistry);\n\t\t\tthis._registryInjectorLabelMap.delete(this.baseRegistry);\n\t\t}\n\t\tthis.baseRegistry = baseRegistry;\n\t}\n\n\tpublic define(label: RegistryLabel, widget: RegistryItem): void {\n\t\tthis._registry.define(label, widget);\n\t}\n\n\tpublic defineInjector(label: RegistryLabel, injector: Injector): void {\n\t\tthis._registry.defineInjector(label, injector);\n\t}\n\n\tpublic has(label: RegistryLabel): boolean {\n\t\treturn this._registry.has(label) || Boolean(this.baseRegistry && this.baseRegistry.has(label));\n\t}\n\n\tpublic hasInjector(label: RegistryLabel): boolean {\n\t\treturn this._registry.hasInjector(label) || Boolean(this.baseRegistry && this.baseRegistry.hasInjector(label));\n\t}\n\n\tpublic get<T extends WidgetBaseInterface = WidgetBaseInterface>(\n\t\tlabel: RegistryLabel,\n\t\tglobalPrecedence: boolean = false\n\t): Constructor<T> | null {\n\t\treturn this._get(label, globalPrecedence, 'get', this._registryWidgetLabelMap);\n\t}\n\n\tpublic getInjector<T extends Injector>(label: RegistryLabel, globalPrecedence: boolean = false): T | null {\n\t\treturn this._get(label, globalPrecedence, 'getInjector', this._registryInjectorLabelMap);\n\t}\n\n\tprivate _get(\n\t\tlabel: RegistryLabel,\n\t\tglobalPrecedence: boolean,\n\t\tgetFunctionName: 'getInjector' | 'get',\n\t\tlabelMap: Map<Registry, RegistryLabel[]>\n\t): any {\n\t\tconst registries = globalPrecedence ? [this.baseRegistry, this._registry] : [this._registry, this.baseRegistry];\n\t\tfor (let i = 0; i < registries.length; i++) {\n\t\t\tconst registry: any = registries[i];\n\t\t\tif (!registry) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tconst item = registry[getFunctionName](label);\n\t\t\tconst registeredLabels = labelMap.get(registry) || [];\n\t\t\tif (item) {\n\t\t\t\treturn item;\n\t\t\t} else if (registeredLabels.indexOf(label) === -1) {\n\t\t\t\tconst handle = registry.on(label, (event: RegistryEventObject) => {\n\t\t\t\t\tif (\n\t\t\t\t\t\tevent.action === 'loaded' &&\n\t\t\t\t\t\t(this as any)[getFunctionName](label, globalPrecedence) === event.item\n\t\t\t\t\t) {\n\t\t\t\t\t\tthis.emit({ type: 'invalidate' });\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tthis.own(handle);\n\t\t\t\tlabelMap.set(registry, [...registeredLabels, label]);\n\t\t\t}\n\t\t}\n\t\treturn null;\n\t}\n}\n\nexport default RegistryHandler;\n\n\n\n// WEBPACK FOOTER //\n// RegistryHandler.ts","import Map from '@dojo/shim/Map';\nimport WeakMap from '@dojo/shim/WeakMap';\nimport { v } from './d';\nimport { auto } from './diff';\nimport {\n\tAfterRender,\n\tBeforeProperties,\n\tBeforeRender,\n\tCoreProperties,\n\tDiffPropertyReaction,\n\tDNode,\n\tRender,\n\tWidgetMetaBase,\n\tWidgetMetaConstructor,\n\tWidgetBaseInterface,\n\tWidgetProperties\n} from './interfaces';\nimport RegistryHandler from './RegistryHandler';\nimport NodeHandler from './NodeHandler';\nimport { widgetInstanceMap } from './vdom';\nimport { isWidgetBaseConstructor, WIDGET_BASE_TYPE } from './Registry';\n\nenum WidgetRenderState {\n\tIDLE = 1,\n\tPROPERTIES,\n\tCHILDREN,\n\tRENDER\n}\n\ninterface ReactionFunctionArguments {\n\tpreviousProperties: any;\n\tnewProperties: any;\n\tchanged: boolean;\n}\n\ninterface ReactionFunctionConfig {\n\tpropertyName: string;\n\treaction: DiffPropertyReaction;\n}\n\nexport type BoundFunctionData = { boundFunc: (...args: any[]) => any; scope: any };\n\nconst decoratorMap = new Map<Function, Map<string, any[]>>();\nconst boundAuto = auto.bind(null);\n\n/**\n * Main widget base for all widgets to extend\n */\nexport class WidgetBase<P = WidgetProperties, C extends DNode = DNode> implements WidgetBaseInterface<P, C> {\n\t/**\n\t * static identifier\n\t */\n\tstatic _type: symbol = WIDGET_BASE_TYPE;\n\n\t/**\n\t * children array\n\t */\n\tprivate _children: (C | null)[];\n\n\t/**\n\t * Indicates if it is the initial set properties cycle\n\t */\n\tprivate _initialProperties = true;\n\n\t/**\n\t * internal widget properties\n\t */\n\tprivate _properties: P & WidgetProperties & { [index: string]: any };\n\n\t/**\n\t * Array of property keys considered changed from the previous set properties\n\t */\n\tprivate _changedPropertyKeys: string[] = [];\n\n\t/**\n\t * map of decorators that are applied to this widget\n\t */\n\tprivate _decoratorCache: Map<string, any[]>;\n\n\tprivate _registry: RegistryHandler;\n\n\t/**\n\t * Map of functions properties for the bound function\n\t */\n\tprivate _bindFunctionPropertyMap: WeakMap<(...args: any[]) => any, BoundFunctionData>;\n\n\tprivate _renderState: WidgetRenderState = WidgetRenderState.IDLE;\n\n\tprivate _metaMap: Map<WidgetMetaConstructor<any>, WidgetMetaBase>;\n\n\tprivate _boundRenderFunc: Render;\n\n\tprivate _boundInvalidate: () => void;\n\n\tprivate _nodeHandler: NodeHandler = new NodeHandler();\n\n\t/**\n\t * @constructor\n\t */\n\tconstructor() {\n\t\tthis._children = [];\n\t\tthis._decoratorCache = new Map<string, any[]>();\n\t\tthis._properties = <P>{};\n\t\tthis._boundRenderFunc = this.render.bind(this);\n\t\tthis._boundInvalidate = this.invalidate.bind(this);\n\n\t\twidgetInstanceMap.set(this, {\n\t\t\tdirty: true,\n\t\t\tonElementCreated: (element: HTMLElement, key: string) => {\n\t\t\t\tthis.onElementCreated(element, key);\n\t\t\t},\n\t\t\tonElementUpdated: (element: HTMLElement, key: string) => {\n\t\t\t\tthis.onElementUpdated(element, key);\n\t\t\t},\n\t\t\tonAttach: (): void => {\n\t\t\t\tthis.onAttach();\n\t\t\t},\n\t\t\tonDetach: (): void => {\n\t\t\t\tthis.onDetach();\n\t\t\t\tthis._destroy();\n\t\t\t},\n\t\t\tnodeHandler: this._nodeHandler,\n\t\t\tregistry: () => {\n\t\t\t\treturn this.registry;\n\t\t\t},\n\t\t\tcoreProperties: {} as CoreProperties,\n\t\t\tinvalidate: this._boundInvalidate\n\t\t});\n\n\t\tthis._runAfterConstructors();\n\t}\n\n\tprotected meta<T extends WidgetMetaBase>(MetaType: WidgetMetaConstructor<T>): T {\n\t\tif (this._metaMap === undefined) {\n\t\t\tthis._metaMap = new Map<WidgetMetaConstructor<any>, WidgetMetaBase>();\n\t\t}\n\t\tlet cached = this._metaMap.get(MetaType);\n\t\tif (!cached) {\n\t\t\tcached = new MetaType({\n\t\t\t\tinvalidate: this._boundInvalidate,\n\t\t\t\tnodeHandler: this._nodeHandler,\n\t\t\t\tbind: this\n\t\t\t});\n\t\t\tthis._metaMap.set(MetaType, cached);\n\t\t}\n\n\t\treturn cached as T;\n\t}\n\n\t/**\n\t * Widget lifecycle method that is called whenever a dom node is created for a VNode.\n\t * Override this method to access the dom nodes that were inserted into the dom.\n\t * @param element The dom node represented by the vdom node.\n\t * @param key The vdom node's key.\n\t */\n\tprotected onElementCreated(element: Element, key: string | number): void {\n\t\t// Do nothing by default.\n\t}\n\n\t/**\n\t * Widget lifecycle method that is called whenever a dom node that is associated with a VNode is updated.\n\t * Override this method to access the dom node.\n\t * @param element The dom node represented by the vdom node.\n\t * @param key The vdom node's key.\n\t */\n\tprotected onElementUpdated(element: Element, key: string | number): void {\n\t\t// Do nothing by default.\n\t}\n\n\tprotected onAttach(): void {\n\t\t// Do nothing by default.\n\t}\n\n\tprotected onDetach(): void {\n\t\t// Do nothing by default.\n\t}\n\n\tpublic get properties(): Readonly<P> & Readonly<WidgetProperties> {\n\t\treturn this._properties;\n\t}\n\n\tpublic get changedPropertyKeys(): string[] {\n\t\treturn [...this._changedPropertyKeys];\n\t}\n\n\tpublic __setCoreProperties__(coreProperties: CoreProperties): void {\n\t\tthis._renderState = WidgetRenderState.PROPERTIES;\n\t\tconst { baseRegistry } = coreProperties;\n\t\tconst instanceData = widgetInstanceMap.get(this)!;\n\n\t\tif (instanceData.coreProperties.baseRegistry !== baseRegistry) {\n\t\t\tif (this._registry === undefined) {\n\t\t\t\tthis._registry = new RegistryHandler();\n\t\t\t\tthis._registry.on('invalidate', this._boundInvalidate);\n\t\t\t}\n\t\t\tthis._registry.base = baseRegistry;\n\t\t\tthis.invalidate();\n\t\t}\n\t\tinstanceData.coreProperties = coreProperties;\n\t}\n\n\tpublic __setProperties__(originalProperties: this['properties']): void {\n\t\tthis._renderState = WidgetRenderState.PROPERTIES;\n\t\tconst properties = this._runBeforeProperties(originalProperties);\n\t\tconst registeredDiffPropertyNames = this.getDecorator('registeredDiffProperty');\n\t\tconst changedPropertyKeys: string[] = [];\n\t\tconst propertyNames = Object.keys(properties);\n\t\tconst instanceData = widgetInstanceMap.get(this)!;\n\n\t\tif (this._initialProperties === false || registeredDiffPropertyNames.length !== 0) {\n\t\t\tconst allProperties = [...propertyNames, ...Object.keys(this._properties)];\n\t\t\tconst checkedProperties: (string | number)[] = [];\n\t\t\tconst diffPropertyResults: any = {};\n\t\t\tlet runReactions = false;\n\n\t\t\tfor (let i = 0; i < allProperties.length; i++) {\n\t\t\t\tconst propertyName = allProperties[i];\n\t\t\t\tif (checkedProperties.indexOf(propertyName) !== -1) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tcheckedProperties.push(propertyName);\n\t\t\t\tconst previousProperty = this._properties[propertyName];\n\t\t\t\tconst newProperty = this._bindFunctionProperty(\n\t\t\t\t\tproperties[propertyName],\n\t\t\t\t\tinstanceData.coreProperties.bind\n\t\t\t\t);\n\t\t\t\tif (registeredDiffPropertyNames.indexOf(propertyName) !== -1) {\n\t\t\t\t\trunReactions = true;\n\t\t\t\t\tconst diffFunctions = this.getDecorator(`diffProperty:${propertyName}`);\n\t\t\t\t\tfor (let i = 0; i < diffFunctions.length; i++) {\n\t\t\t\t\t\tconst result = diffFunctions[i](previousProperty, newProperty);\n\t\t\t\t\t\tif (result.changed && changedPropertyKeys.indexOf(propertyName) === -1) {\n\t\t\t\t\t\t\tchangedPropertyKeys.push(propertyName);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (propertyName in properties) {\n\t\t\t\t\t\t\tdiffPropertyResults[propertyName] = result.value;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tconst result = boundAuto(previousProperty, newProperty);\n\t\t\t\t\tif (result.changed && changedPropertyKeys.indexOf(propertyName) === -1) {\n\t\t\t\t\t\tchangedPropertyKeys.push(propertyName);\n\t\t\t\t\t}\n\t\t\t\t\tif (propertyName in properties) {\n\t\t\t\t\t\tdiffPropertyResults[propertyName] = result.value;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (runReactions) {\n\t\t\t\tthis._mapDiffPropertyReactions(properties, changedPropertyKeys).forEach((args, reaction) => {\n\t\t\t\t\tif (args.changed) {\n\t\t\t\t\t\treaction.call(this, args.previousProperties, args.newProperties);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\tthis._properties = diffPropertyResults;\n\t\t\tthis._changedPropertyKeys = changedPropertyKeys;\n\t\t} else {\n\t\t\tthis._initialProperties = false;\n\t\t\tfor (let i = 0; i < propertyNames.length; i++) {\n\t\t\t\tconst propertyName = propertyNames[i];\n\t\t\t\tif (typeof properties[propertyName] === 'function') {\n\t\t\t\t\tproperties[propertyName] = this._bindFunctionProperty(\n\t\t\t\t\t\tproperties[propertyName],\n\t\t\t\t\t\tinstanceData.coreProperties.bind\n\t\t\t\t\t);\n\t\t\t\t} else {\n\t\t\t\t\tchangedPropertyKeys.push(propertyName);\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis._changedPropertyKeys = changedPropertyKeys;\n\t\t\tthis._properties = { ...properties };\n\t\t}\n\n\t\tif (this._changedPropertyKeys.length > 0) {\n\t\t\tthis.invalidate();\n\t\t} else {\n\t\t\tthis._renderState = WidgetRenderState.IDLE;\n\t\t}\n\t}\n\n\tpublic get children(): (C | null)[] {\n\t\treturn this._children;\n\t}\n\n\tpublic __setChildren__(children: (C | null)[]): void {\n\t\tthis._renderState = WidgetRenderState.CHILDREN;\n\t\tif (this._children.length > 0 || children.length > 0) {\n\t\t\tthis._children = children;\n\t\t\tthis.invalidate();\n\t\t}\n\t}\n\n\tpublic __render__(): DNode | DNode[] {\n\t\tthis._renderState = WidgetRenderState.RENDER;\n\t\tconst instanceData = widgetInstanceMap.get(this)!;\n\t\tinstanceData.dirty = false;\n\t\tconst render = this._runBeforeRenders();\n\t\tlet dNode = render();\n\t\tdNode = this.runAfterRenders(dNode);\n\t\tthis._nodeHandler.clear();\n\t\tthis._renderState = WidgetRenderState.IDLE;\n\t\treturn dNode;\n\t}\n\n\tpublic invalidate(): void {\n\t\tconst instanceData = widgetInstanceMap.get(this)!;\n\t\tif (this._renderState === WidgetRenderState.IDLE) {\n\t\t\tinstanceData.dirty = true;\n\t\t\tif (instanceData.parentInvalidate) {\n\t\t\t\tinstanceData.parentInvalidate();\n\t\t\t}\n\t\t} else if (this._renderState === WidgetRenderState.PROPERTIES) {\n\t\t\tinstanceData.dirty = true;\n\t\t} else if (this._renderState === WidgetRenderState.CHILDREN) {\n\t\t\tinstanceData.dirty = true;\n\t\t}\n\t}\n\n\tprotected render(): DNode | DNode[] {\n\t\treturn v('div', {}, this.children);\n\t}\n\n\t/**\n\t * Function to add decorators to WidgetBase\n\t *\n\t * @param decoratorKey The key of the decorator\n\t * @param value The value of the decorator\n\t */\n\tprotected addDecorator(decoratorKey: string, value: any): void {\n\t\tvalue = Array.isArray(value) ? value : [value];\n\t\tif (this.hasOwnProperty('constructor')) {\n\t\t\tlet decoratorList = decoratorMap.get(this.constructor);\n\t\t\tif (!decoratorList) {\n\t\t\t\tdecoratorList = new Map<string, any[]>();\n\t\t\t\tdecoratorMap.set(this.constructor, decoratorList);\n\t\t\t}\n\n\t\t\tlet specificDecoratorList = decoratorList.get(decoratorKey);\n\t\t\tif (!specificDecoratorList) {\n\t\t\t\tspecificDecoratorList = [];\n\t\t\t\tdecoratorList.set(decoratorKey, specificDecoratorList);\n\t\t\t}\n\t\t\tspecificDecoratorList.push(...value);\n\t\t} else {\n\t\t\tconst decorators = this.getDecorator(decoratorKey);\n\t\t\tthis._decoratorCache.set(decoratorKey, [...decorators, ...value]);\n\t\t}\n\t}\n\n\t/**\n\t * Function to build the list of decorators from the global decorator map.\n\t *\n\t * @param decoratorKey  The key of the decorator\n\t * @return An array of decorator values\n\t * @private\n\t */\n\tprivate _buildDecoratorList(decoratorKey: string): any[] {\n\t\tconst allDecorators = [];\n\n\t\tlet constructor = this.constructor;\n\n\t\twhile (constructor) {\n\t\t\tconst instanceMap = decoratorMap.get(constructor);\n\t\t\tif (instanceMap) {\n\t\t\t\tconst decorators = instanceMap.get(decoratorKey);\n\n\t\t\t\tif (decorators) {\n\t\t\t\t\tallDecorators.unshift(...decorators);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconstructor = Object.getPrototypeOf(constructor);\n\t\t}\n\n\t\treturn allDecorators;\n\t}\n\n\t/**\n\t * Destroys private resources for WidgetBase\n\t */\n\tprivate _destroy() {\n\t\tif (this._registry) {\n\t\t\tthis._registry.destroy();\n\t\t}\n\t\tif (this._metaMap !== undefined) {\n\t\t\tthis._metaMap.forEach((meta) => {\n\t\t\t\tmeta.destroy();\n\t\t\t});\n\t\t}\n\t}\n\n\t/**\n\t * Function to retrieve decorator values\n\t *\n\t * @param decoratorKey The key of the decorator\n\t * @returns An array of decorator values\n\t */\n\tprotected getDecorator(decoratorKey: string): any[] {\n\t\tlet allDecorators = this._decoratorCache.get(decoratorKey);\n\n\t\tif (allDecorators !== undefined) {\n\t\t\treturn allDecorators;\n\t\t}\n\n\t\tallDecorators = this._buildDecoratorList(decoratorKey);\n\n\t\tthis._decoratorCache.set(decoratorKey, allDecorators);\n\t\treturn allDecorators;\n\t}\n\n\tprivate _mapDiffPropertyReactions(\n\t\tnewProperties: any,\n\t\tchangedPropertyKeys: string[]\n\t): Map<Function, ReactionFunctionArguments> {\n\t\tconst reactionFunctions: ReactionFunctionConfig[] = this.getDecorator('diffReaction');\n\n\t\treturn reactionFunctions.reduce((reactionPropertyMap, { reaction, propertyName }) => {\n\t\t\tlet reactionArguments = reactionPropertyMap.get(reaction);\n\t\t\tif (reactionArguments === undefined) {\n\t\t\t\treactionArguments = {\n\t\t\t\t\tpreviousProperties: {},\n\t\t\t\t\tnewProperties: {},\n\t\t\t\t\tchanged: false\n\t\t\t\t};\n\t\t\t}\n\t\t\treactionArguments.previousProperties[propertyName] = this._properties[propertyName];\n\t\t\treactionArguments.newProperties[propertyName] = newProperties[propertyName];\n\t\t\tif (changedPropertyKeys.indexOf(propertyName) !== -1) {\n\t\t\t\treactionArguments.changed = true;\n\t\t\t}\n\t\t\treactionPropertyMap.set(reaction, reactionArguments);\n\t\t\treturn reactionPropertyMap;\n\t\t}, new Map<Function, ReactionFunctionArguments>());\n\t}\n\n\t/**\n\t * Binds unbound property functions to the specified `bind` property\n\t *\n\t * @param properties properties to check for functions\n\t */\n\tprivate _bindFunctionProperty(property: any, bind: any): any {\n\t\tif (typeof property === 'function' && isWidgetBaseConstructor(property) === false) {\n\t\t\tif (this._bindFunctionPropertyMap === undefined) {\n\t\t\t\tthis._bindFunctionPropertyMap = new WeakMap<\n\t\t\t\t\t(...args: any[]) => any,\n\t\t\t\t\t{ boundFunc: (...args: any[]) => any; scope: any }\n\t\t\t\t>();\n\t\t\t}\n\t\t\tconst bindInfo: Partial<BoundFunctionData> = this._bindFunctionPropertyMap.get(property) || {};\n\t\t\tlet { boundFunc, scope } = bindInfo;\n\n\t\t\tif (boundFunc === undefined || scope !== bind) {\n\t\t\t\tboundFunc = property.bind(bind) as (...args: any[]) => any;\n\t\t\t\tthis._bindFunctionPropertyMap.set(property, { boundFunc, scope: bind });\n\t\t\t}\n\t\t\treturn boundFunc;\n\t\t}\n\t\treturn property;\n\t}\n\n\tpublic get registry(): RegistryHandler {\n\t\tif (this._registry === undefined) {\n\t\t\tthis._registry = new RegistryHandler();\n\t\t\tthis._registry.on('invalidate', this._boundInvalidate);\n\t\t}\n\t\treturn this._registry;\n\t}\n\n\tprivate _runBeforeProperties(properties: any) {\n\t\tconst beforeProperties: BeforeProperties[] = this.getDecorator('beforeProperties');\n\t\tif (beforeProperties.length > 0) {\n\t\t\treturn beforeProperties.reduce(\n\t\t\t\t(properties, beforePropertiesFunction) => {\n\t\t\t\t\treturn { ...properties, ...beforePropertiesFunction.call(this, properties) };\n\t\t\t\t},\n\t\t\t\t{ ...properties }\n\t\t\t);\n\t\t}\n\t\treturn properties;\n\t}\n\n\t/**\n\t * Run all registered before renders and return the updated render method\n\t */\n\tprivate _runBeforeRenders(): Render {\n\t\tconst beforeRenders = this.getDecorator('beforeRender');\n\n\t\tif (beforeRenders.length > 0) {\n\t\t\treturn beforeRenders.reduce((render: Render, beforeRenderFunction: BeforeRender) => {\n\t\t\t\tconst updatedRender = beforeRenderFunction.call(this, render, this._properties, this._children);\n\t\t\t\tif (!updatedRender) {\n\t\t\t\t\tconsole.warn('Render function not returned from beforeRender, using previous render');\n\t\t\t\t\treturn render;\n\t\t\t\t}\n\t\t\t\treturn updatedRender;\n\t\t\t}, this._boundRenderFunc);\n\t\t}\n\t\treturn this._boundRenderFunc;\n\t}\n\n\t/**\n\t * Run all registered after renders and return the decorated DNodes\n\t *\n\t * @param dNode The DNodes to run through the after renders\n\t */\n\tprotected runAfterRenders(dNode: DNode | DNode[]): DNode | DNode[] {\n\t\tconst afterRenders = this.getDecorator('afterRender');\n\n\t\tif (afterRenders.length > 0) {\n\t\t\treturn afterRenders.reduce((dNode: DNode | DNode[], afterRenderFunction: AfterRender) => {\n\t\t\t\treturn afterRenderFunction.call(this, dNode);\n\t\t\t}, dNode);\n\t\t}\n\n\t\tif (this._metaMap !== undefined) {\n\t\t\tthis._metaMap.forEach((meta) => {\n\t\t\t\tmeta.afterRender();\n\t\t\t});\n\t\t}\n\n\t\treturn dNode;\n\t}\n\n\tprivate _runAfterConstructors(): void {\n\t\tconst afterConstructors = this.getDecorator('afterConstructor');\n\n\t\tif (afterConstructors.length > 0) {\n\t\t\tafterConstructors.forEach((afterConstructor) => afterConstructor.call(this));\n\t\t}\n\t}\n}\n\nexport default WidgetBase;\n\n\n\n// WEBPACK FOOTER //\n// WidgetBase.ts","import { VNodeProperties } from './../interfaces';\n\nlet browserSpecificTransitionEndEventName = '';\nlet browserSpecificAnimationEndEventName = '';\n\nfunction determineBrowserStyleNames(element: HTMLElement) {\n\tif ('WebkitTransition' in element.style) {\n\t\tbrowserSpecificTransitionEndEventName = 'webkitTransitionEnd';\n\t\tbrowserSpecificAnimationEndEventName = 'webkitAnimationEnd';\n\t} else if ('transition' in element.style || 'MozTransition' in element.style) {\n\t\tbrowserSpecificTransitionEndEventName = 'transitionend';\n\t\tbrowserSpecificAnimationEndEventName = 'animationend';\n\t} else {\n\t\tthrow new Error('Your browser is not supported');\n\t}\n}\n\nfunction initialize(element: HTMLElement) {\n\tif (browserSpecificAnimationEndEventName === '') {\n\t\tdetermineBrowserStyleNames(element);\n\t}\n}\n\nfunction runAndCleanUp(element: HTMLElement, startAnimation: () => void, finishAnimation: () => void) {\n\tinitialize(element);\n\n\tlet finished = false;\n\n\tlet transitionEnd = function() {\n\t\tif (!finished) {\n\t\t\tfinished = true;\n\t\t\telement.removeEventListener(browserSpecificTransitionEndEventName, transitionEnd);\n\t\t\telement.removeEventListener(browserSpecificAnimationEndEventName, transitionEnd);\n\n\t\t\tfinishAnimation();\n\t\t}\n\t};\n\n\tstartAnimation();\n\n\telement.addEventListener(browserSpecificAnimationEndEventName, transitionEnd);\n\telement.addEventListener(browserSpecificTransitionEndEventName, transitionEnd);\n}\n\nfunction exit(node: HTMLElement, properties: VNodeProperties, exitAnimation: string, removeNode: () => void) {\n\tconst activeClass = properties.exitAnimationActive || `${exitAnimation}-active`;\n\n\trunAndCleanUp(\n\t\tnode,\n\t\t() => {\n\t\t\tnode.classList.add(exitAnimation);\n\n\t\t\trequestAnimationFrame(function() {\n\t\t\t\tnode.classList.add(activeClass);\n\t\t\t});\n\t\t},\n\t\t() => {\n\t\t\tremoveNode();\n\t\t}\n\t);\n}\n\nfunction enter(node: HTMLElement, properties: VNodeProperties, enterAnimation: string) {\n\tconst activeClass = properties.enterAnimationActive || `${enterAnimation}-active`;\n\n\trunAndCleanUp(\n\t\tnode,\n\t\t() => {\n\t\t\tnode.classList.add(enterAnimation);\n\n\t\t\trequestAnimationFrame(function() {\n\t\t\t\tnode.classList.add(activeClass);\n\t\t\t});\n\t\t},\n\t\t() => {\n\t\t\tnode.classList.remove(enterAnimation);\n\t\t\tnode.classList.remove(activeClass);\n\t\t}\n\t);\n}\n\nexport default {\n\tenter,\n\texit\n};\n\n\n\n// WEBPACK FOOTER //\n// cssTransitions.ts","import Symbol from '@dojo/shim/Symbol';\nimport {\n\tConstructor,\n\tDefaultWidgetBaseInterface,\n\tDeferredVirtualProperties,\n\tDNode,\n\tVNode,\n\tRegistryLabel,\n\tVNodeProperties,\n\tWidgetBaseInterface,\n\tWNode\n} from './interfaces';\n\n/**\n * The symbol identifier for a WNode type\n */\nexport const WNODE = Symbol('Identifier for a WNode.');\n\n/**\n * The symbol identifier for a VNode type\n */\nexport const VNODE = Symbol('Identifier for a VNode.');\n\n/**\n * Helper function that returns true if the `DNode` is a `WNode` using the `type` property\n */\nexport function isWNode<W extends WidgetBaseInterface = DefaultWidgetBaseInterface>(\n\tchild: DNode<W>\n): child is WNode<W> {\n\treturn Boolean(child && typeof child !== 'string' && child.type === WNODE);\n}\n\n/**\n * Helper function that returns true if the `DNode` is a `VNode` using the `type` property\n */\nexport function isVNode(child: DNode): child is VNode {\n\treturn Boolean(child && typeof child !== 'string' && child.type === VNODE);\n}\n\n/**\n * Generic decorate function for DNodes. The nodes are modified in place based on the provided predicate\n * and modifier functions.\n *\n * The children of each node are flattened and added to the array for decoration.\n *\n * If no predicate is supplied then the modifier will be executed on all nodes.\n */\nexport function decorate<T extends DNode>(\n\tdNodes: DNode,\n\tmodifier: (dNode: T) => void,\n\tpredicate: (dNode: DNode) => dNode is T\n): DNode;\nexport function decorate<T extends DNode>(\n\tdNodes: DNode[],\n\tmodifier: (dNode: T) => void,\n\tpredicate: (dNode: DNode) => dNode is T\n): DNode[];\nexport function decorate(dNodes: DNode, modifier: (dNode: DNode) => void): DNode;\nexport function decorate(dNodes: DNode[], modifier: (dNode: DNode) => void): DNode[];\nexport function decorate(\n\tdNodes: DNode | DNode[],\n\tmodifier: (dNode: DNode) => void,\n\tpredicate?: (dNode: DNode) => boolean\n): DNode | DNode[] {\n\tlet nodes = Array.isArray(dNodes) ? [...dNodes] : [dNodes];\n\twhile (nodes.length) {\n\t\tconst node = nodes.pop();\n\t\tif (node) {\n\t\t\tif (!predicate || predicate(node)) {\n\t\t\t\tmodifier(node);\n\t\t\t}\n\t\t\tif ((isWNode(node) || isVNode(node)) && node.children) {\n\t\t\t\tnodes = [...nodes, ...node.children];\n\t\t\t}\n\t\t}\n\t}\n\treturn dNodes;\n}\n\n/**\n * Wrapper function for calls to create a widget.\n */\nexport function w<W extends WidgetBaseInterface>(\n\twidgetConstructor: Constructor<W> | RegistryLabel,\n\tproperties: W['properties'],\n\tchildren: W['children'] = []\n): WNode<W> {\n\treturn {\n\t\tchildren,\n\t\twidgetConstructor,\n\t\tproperties,\n\t\ttype: WNODE\n\t};\n}\n\n/**\n * Wrapper function for calls to create VNodes.\n */\nexport function v(tag: string, properties: VNodeProperties | DeferredVirtualProperties, children?: DNode[]): VNode;\nexport function v(tag: string, children: undefined | DNode[]): VNode;\nexport function v(tag: string): VNode;\nexport function v(\n\ttag: string,\n\tpropertiesOrChildren: VNodeProperties | DeferredVirtualProperties | DNode[] = {},\n\tchildren: undefined | DNode[] = undefined\n): VNode {\n\tlet properties: VNodeProperties | DeferredVirtualProperties = propertiesOrChildren;\n\tlet deferredPropertiesCallback;\n\n\tif (Array.isArray(propertiesOrChildren)) {\n\t\tchildren = propertiesOrChildren;\n\t\tproperties = {};\n\t}\n\n\tif (typeof properties === 'function') {\n\t\tdeferredPropertiesCallback = properties;\n\t\tproperties = {};\n\t}\n\n\treturn {\n\t\ttag,\n\t\tdeferredPropertiesCallback,\n\t\tchildren,\n\t\tproperties,\n\t\ttype: VNODE\n\t};\n}\n\n\n\n// WEBPACK FOOTER //\n// d.ts","import { handleDecorator } from './handleDecorator';\n\n/**\n * Decorator that can be used to register a function to run as an aspect to `render`\n */\nexport function afterRender(method: Function): (target: any) => void;\nexport function afterRender(): (target: any, propertyKey: string) => void;\nexport function afterRender(method?: Function) {\n\treturn handleDecorator((target, propertyKey) => {\n\t\ttarget.addDecorator('afterRender', propertyKey ? target[propertyKey] : method);\n\t});\n}\n\nexport default afterRender;\n\n\n\n// WEBPACK FOOTER //\n// afterRender.ts","import { WidgetBase } from './../WidgetBase';\nimport { handleDecorator } from './handleDecorator';\nimport { beforeProperties } from './beforeProperties';\n\nexport function alwaysRender() {\n\treturn handleDecorator((target, propertyKey) => {\n\t\tbeforeProperties(function(this: WidgetBase) {\n\t\t\tthis.invalidate();\n\t\t})(target);\n\t});\n}\n\nexport default alwaysRender;\n\n\n\n// WEBPACK FOOTER //\n// alwaysRender.ts","import { handleDecorator } from './handleDecorator';\nimport { BeforeProperties } from './../interfaces';\n\n/**\n * Decorator that adds the function passed of target method to be run\n * in the `beforeProperties` lifecycle.\n */\nexport function beforeProperties(method: BeforeProperties): (target: any) => void;\nexport function beforeProperties(): (target: any, propertyKey: string) => void;\nexport function beforeProperties(method?: BeforeProperties) {\n\treturn handleDecorator((target, propertyKey) => {\n\t\ttarget.addDecorator('beforeProperties', propertyKey ? target[propertyKey] : method);\n\t});\n}\n\nexport default beforeProperties;\n\n\n\n// WEBPACK FOOTER //\n// beforeProperties.ts","export type DecoratorHandler = (target: any, propertyKey?: string) => void;\n\n/**\n * Generic decorator handler to take care of whether or not the decorator was called at the class level\n * or the method level.\n *\n * @param handler\n */\nexport function handleDecorator(handler: DecoratorHandler) {\n\treturn function(target: any, propertyKey?: string, descriptor?: PropertyDescriptor) {\n\t\tif (typeof target === 'function') {\n\t\t\thandler(target.prototype, undefined);\n\t\t} else {\n\t\t\thandler(target, propertyKey);\n\t\t}\n\t};\n}\n\nexport default handleDecorator;\n\n\n\n// WEBPACK FOOTER //\n// handleDecorator.ts","import WeakMap from '@dojo/shim/WeakMap';\nimport { WidgetBase } from './../WidgetBase';\nimport { handleDecorator } from './handleDecorator';\nimport { Injector } from './../Injector';\nimport { beforeProperties } from './beforeProperties';\nimport { RegistryLabel } from './../interfaces';\n\n/**\n * Map of instances against registered injectors.\n */\nconst registeredInjectorsMap: WeakMap<WidgetBase, Injector[]> = new WeakMap();\n\n/**\n * Defines the contract requires for the get properties function\n * used to map the injected properties.\n */\nexport interface GetProperties<T = any> {\n\t(payload: any, properties: T): T;\n}\n\n/**\n * Defines the inject configuration required for use of the `inject` decorator\n */\nexport interface InjectConfig {\n\t/**\n\t * The label of the registry injector\n\t */\n\tname: RegistryLabel;\n\n\t/**\n\t * Function that returns propertues to inject using the passed properties\n\t * and the injected payload.\n\t */\n\tgetProperties: GetProperties;\n}\n\n/**\n * Decorator retrieves an injector from an available registry using the name and\n * calls the `getProperties` function with the payload from the injector\n * and current properties with the the injected properties returned.\n *\n * @param InjectConfig the inject configuration\n */\nexport function inject({ name, getProperties }: InjectConfig) {\n\treturn handleDecorator((target, propertyKey) => {\n\t\tbeforeProperties(function(this: WidgetBase, properties: any) {\n\t\t\tconst injector = this.registry.getInjector(name);\n\t\t\tif (injector) {\n\t\t\t\tconst registeredInjectors = registeredInjectorsMap.get(this) || [];\n\t\t\t\tif (registeredInjectors.length === 0) {\n\t\t\t\t\tregisteredInjectorsMap.set(this, registeredInjectors);\n\t\t\t\t}\n\t\t\t\tif (registeredInjectors.indexOf(injector) === -1) {\n\t\t\t\t\tinjector.on('invalidate', () => {\n\t\t\t\t\t\tthis.invalidate();\n\t\t\t\t\t});\n\t\t\t\t\tregisteredInjectors.push(injector);\n\t\t\t\t}\n\t\t\t\treturn getProperties(injector.get(), properties);\n\t\t\t}\n\t\t})(target);\n\t});\n}\n\nexport default inject;\n\n\n\n// WEBPACK FOOTER //\n// inject.ts","import { PropertyChangeRecord } from './interfaces';\nimport { WIDGET_BASE_TYPE } from './Registry';\n\nfunction isObjectOrArray(value: any): boolean {\n\treturn Object.prototype.toString.call(value) === '[object Object]' || Array.isArray(value);\n}\n\nexport function always(previousProperty: any, newProperty: any): PropertyChangeRecord {\n\treturn {\n\t\tchanged: true,\n\t\tvalue: newProperty\n\t};\n}\n\nexport function ignore(previousProperty: any, newProperty: any): PropertyChangeRecord {\n\treturn {\n\t\tchanged: false,\n\t\tvalue: newProperty\n\t};\n}\n\nexport function reference(previousProperty: any, newProperty: any): PropertyChangeRecord {\n\treturn {\n\t\tchanged: previousProperty !== newProperty,\n\t\tvalue: newProperty\n\t};\n}\n\nexport function shallow(previousProperty: any, newProperty: any): PropertyChangeRecord {\n\tlet changed = false;\n\n\tconst validOldProperty = previousProperty && isObjectOrArray(previousProperty);\n\tconst validNewProperty = newProperty && isObjectOrArray(newProperty);\n\n\tif (!validOldProperty || !validNewProperty) {\n\t\treturn {\n\t\t\tchanged: true,\n\t\t\tvalue: newProperty\n\t\t};\n\t}\n\n\tconst previousKeys = Object.keys(previousProperty);\n\tconst newKeys = Object.keys(newProperty);\n\n\tif (previousKeys.length !== newKeys.length) {\n\t\tchanged = true;\n\t} else {\n\t\tchanged = newKeys.some((key) => {\n\t\t\treturn newProperty[key] !== previousProperty[key];\n\t\t});\n\t}\n\treturn {\n\t\tchanged,\n\t\tvalue: newProperty\n\t};\n}\n\nexport function auto(previousProperty: any, newProperty: any): PropertyChangeRecord {\n\tlet result;\n\tif (typeof newProperty === 'function') {\n\t\tif (newProperty._type === WIDGET_BASE_TYPE) {\n\t\t\tresult = reference(previousProperty, newProperty);\n\t\t} else {\n\t\t\tresult = ignore(previousProperty, newProperty);\n\t\t}\n\t} else if (isObjectOrArray(newProperty)) {\n\t\tresult = shallow(previousProperty, newProperty);\n\t} else {\n\t\tresult = reference(previousProperty, newProperty);\n\t}\n\treturn result;\n}\n\n\n\n// WEBPACK FOOTER //\n// diff.ts","import { assign } from '@dojo/core/lang';\nimport global from '@dojo/shim/global';\nimport { createHandle } from '@dojo/core/lang';\nimport { Handle } from '@dojo/core/interfaces';\nimport 'pepjs';\nimport cssTransitions from '../animations/cssTransitions';\nimport { Constructor, DNode, Projection, ProjectionOptions } from './../interfaces';\nimport { WidgetBase } from './../WidgetBase';\nimport { afterRender } from './../decorators/afterRender';\nimport { v } from './../d';\nimport { Registry } from './../Registry';\nimport { dom, widgetInstanceMap } from './../vdom';\n\n/**\n * Represents the attach state of the projector\n */\nexport enum ProjectorAttachState {\n\tAttached = 1,\n\tDetached\n}\n\n/**\n * Attach type for the projector\n */\nexport enum AttachType {\n\tAppend = 1,\n\tMerge = 2,\n\tReplace = 3\n}\n\nexport interface AttachOptions {\n\t/**\n\t * If `'append'` it will appended to the root. If `'merge'` it will merged with the root. If `'replace'` it will\n\t * replace the root.\n\t */\n\ttype: AttachType;\n\n\t/**\n\t * Element to attach the projector.\n\t */\n\troot?: Element;\n}\n\nexport interface ProjectorProperties {\n\tregistry?: Registry;\n}\n\nexport interface ProjectorMixin<P> {\n\treadonly properties: Readonly<P> & Readonly<ProjectorProperties>;\n\n\t/**\n\t * Append the projector to the root.\n\t */\n\tappend(root?: Element): Handle;\n\n\t/**\n\t * Merge the projector onto the root.\n\t *\n\t * The `root` and any of its `children` will be re-used.  Any excess DOM nodes will be ignored and any missing DOM nodes\n\t * will be created.\n\t * @param root The root element that the root virtual DOM node will be merged with.  Defaults to `document.body`.\n\t */\n\tmerge(root?: Element): Handle;\n\n\t/**\n\t * Replace the root with the projector node.\n\t */\n\treplace(root?: Element): Handle;\n\n\t/**\n\t * Pause the projector.\n\t */\n\tpause(): void;\n\n\t/**\n\t * Resume the projector.\n\t */\n\tresume(): void;\n\n\t/**\n\t * Attach the project to a _sandboxed_ document fragment that is not part of the DOM.\n\t *\n\t * When sandboxed, the `Projector` will run in a sync manner, where renders are completed within the same turn.\n\t * The `Projector` creates a `DocumentFragment` which replaces any other `root` that has been set.\n\t * @param doc The `Document` to use, which defaults to the global `document`.\n\t */\n\tsandbox(doc?: Document): void;\n\n\t/**\n\t * Schedule a render.\n\t */\n\tscheduleRender(): void;\n\n\t/**\n\t * Sets the properties for the widget. Responsible for calling the diffing functions for the properties against the\n\t * previous properties. Runs though any registered specific property diff functions collecting the results and then\n\t * runs the remainder through the catch all diff function. The aggregate of the two sets of the results is then\n\t * set as the widget's properties\n\t *\n\t * @param properties The new widget properties\n\t */\n\tsetProperties(properties: this['properties']): void;\n\n\t/**\n\t * Sets the widget's children\n\t */\n\tsetChildren(children: DNode[]): void;\n\n\t/**\n\t * Return a `string` that represents the HTML of the current projection.  The projector needs to be attached.\n\t */\n\ttoHtml(): string;\n\n\t/**\n\t * Indicates if the projectors is in async mode, configured to `true` by defaults.\n\t */\n\tasync: boolean;\n\n\t/**\n\t * Root element to attach the projector\n\t */\n\troot: Element;\n\n\t/**\n\t * The status of the projector\n\t */\n\treadonly projectorState: ProjectorAttachState;\n\n\t/**\n\t * Exposes invalidate for projector instances\n\t */\n\tinvalidate(): void;\n\n\t/**\n\t * Runs registered destroy handles\n\t */\n\tdestroy(): void;\n}\n\nexport function ProjectorMixin<P, T extends Constructor<WidgetBase<P>>>(Base: T): T & Constructor<ProjectorMixin<P>> {\n\tclass Projector extends Base {\n\t\tpublic projectorState: ProjectorAttachState;\n\t\tpublic properties: Readonly<P> & Readonly<ProjectorProperties>;\n\n\t\tprivate _root: Element;\n\t\tprivate _async = true;\n\t\tprivate _attachHandle: Handle;\n\t\tprivate _projectionOptions: Partial<ProjectionOptions>;\n\t\tprivate _projection: Projection | undefined;\n\t\tprivate _scheduled: number | undefined;\n\t\tprivate _paused: boolean;\n\t\tprivate _boundDoRender: () => void;\n\t\tprivate _boundRender: Function;\n\t\tprivate _projectorChildren: DNode[] = [];\n\t\tprivate _projectorProperties: this['properties'] = {} as this['properties'];\n\t\tprivate _handles: Function[] = [];\n\n\t\tconstructor(...args: any[]) {\n\t\t\tsuper(...args);\n\n\t\t\tconst instanceData = widgetInstanceMap.get(this)!;\n\n\t\t\tinstanceData.parentInvalidate = () => {\n\t\t\t\tthis.scheduleRender();\n\t\t\t};\n\t\t\tthis._projectionOptions = {\n\t\t\t\ttransitions: cssTransitions\n\t\t\t};\n\n\t\t\tthis._boundDoRender = this._doRender.bind(this);\n\t\t\tthis._boundRender = this.__render__.bind(this);\n\t\t\tthis.root = document.body;\n\t\t\tthis.projectorState = ProjectorAttachState.Detached;\n\t\t}\n\n\t\tpublic append(root?: Element): Handle {\n\t\t\tconst options = {\n\t\t\t\ttype: AttachType.Append,\n\t\t\t\troot\n\t\t\t};\n\n\t\t\treturn this._attach(options);\n\t\t}\n\n\t\tpublic merge(root?: Element): Handle {\n\t\t\tconst options = {\n\t\t\t\ttype: AttachType.Merge,\n\t\t\t\troot\n\t\t\t};\n\n\t\t\treturn this._attach(options);\n\t\t}\n\n\t\tpublic replace(root?: Element): Handle {\n\t\t\tconst options = {\n\t\t\t\ttype: AttachType.Replace,\n\t\t\t\troot\n\t\t\t};\n\n\t\t\treturn this._attach(options);\n\t\t}\n\n\t\tpublic pause() {\n\t\t\tif (this._scheduled) {\n\t\t\t\tglobal.cancelAnimationFrame(this._scheduled);\n\t\t\t\tthis._scheduled = undefined;\n\t\t\t}\n\t\t\tthis._paused = true;\n\t\t}\n\n\t\tpublic resume() {\n\t\t\tthis._paused = false;\n\t\t\tthis.scheduleRender();\n\t\t}\n\n\t\tpublic scheduleRender() {\n\t\t\tif (this.projectorState === ProjectorAttachState.Attached) {\n\t\t\t\tthis.__setProperties__(this._projectorProperties);\n\t\t\t\tthis.__setChildren__(this._projectorChildren);\n\t\t\t\t(this as any)._renderState = 1;\n\t\t\t\tif (!this._scheduled && !this._paused) {\n\t\t\t\t\tif (this._async) {\n\t\t\t\t\t\tthis._scheduled = global.requestAnimationFrame(this._boundDoRender);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis._boundDoRender();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tpublic set root(root: Element) {\n\t\t\tif (this.projectorState === ProjectorAttachState.Attached) {\n\t\t\t\tthrow new Error('Projector already attached, cannot change root element');\n\t\t\t}\n\t\t\tthis._root = root;\n\t\t}\n\n\t\tpublic get root(): Element {\n\t\t\treturn this._root;\n\t\t}\n\n\t\tpublic get async(): boolean {\n\t\t\treturn this._async;\n\t\t}\n\n\t\tpublic set async(async: boolean) {\n\t\t\tif (this.projectorState === ProjectorAttachState.Attached) {\n\t\t\t\tthrow new Error('Projector already attached, cannot change async mode');\n\t\t\t}\n\t\t\tthis._async = async;\n\t\t}\n\n\t\tpublic sandbox(doc: Document = document): void {\n\t\t\tif (this.projectorState === ProjectorAttachState.Attached) {\n\t\t\t\tthrow new Error('Projector already attached, cannot create sandbox');\n\t\t\t}\n\t\t\tthis._async = false;\n\t\t\tconst previousRoot = this.root;\n\n\t\t\t/* free up the document fragment for GC */\n\t\t\tthis.own(() => {\n\t\t\t\tthis._root = previousRoot;\n\t\t\t});\n\n\t\t\tthis._attach({\n\t\t\t\t/* DocumentFragment is not assignable to Element, but provides everything needed to work */\n\t\t\t\troot: doc.createDocumentFragment() as any,\n\t\t\t\ttype: AttachType.Append\n\t\t\t});\n\t\t}\n\n\t\tpublic setChildren(children: DNode[]): void {\n\t\t\tthis.__setChildren__(children);\n\t\t\tthis.scheduleRender();\n\t\t}\n\n\t\tpublic __setChildren__(children: DNode[]) {\n\t\t\tthis._projectorChildren = [...children];\n\t\t\tsuper.__setChildren__(children);\n\t\t}\n\n\t\tpublic setProperties(properties: this['properties']): void {\n\t\t\tthis.__setProperties__(properties);\n\t\t\tthis.scheduleRender();\n\t\t}\n\n\t\tpublic __setProperties__(properties: this['properties']): void {\n\t\t\tif (this._projectorProperties && this._projectorProperties.registry !== properties.registry) {\n\t\t\t\tif (this._projectorProperties.registry) {\n\t\t\t\t\tthis._projectorProperties.registry.destroy();\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis._projectorProperties = assign({}, properties);\n\t\t\tsuper.__setCoreProperties__({ bind: this, baseRegistry: properties.registry });\n\t\t\tsuper.__setProperties__(properties);\n\t\t}\n\n\t\tpublic toHtml(): string {\n\t\t\tif (this.projectorState !== ProjectorAttachState.Attached || !this._projection) {\n\t\t\t\tthrow new Error('Projector is not attached, cannot return an HTML string of projection.');\n\t\t\t}\n\t\t\treturn (this._projection.domNode.childNodes[0] as Element).outerHTML;\n\t\t}\n\n\t\t@afterRender()\n\t\tpublic afterRender(result: DNode) {\n\t\t\tlet node = result;\n\t\t\tif (typeof result === 'string' || result === null || result === undefined) {\n\t\t\t\tnode = v('span', {}, [result]);\n\t\t\t}\n\n\t\t\treturn node;\n\t\t}\n\n\t\tprivate _doRender() {\n\t\t\tthis._scheduled = undefined;\n\n\t\t\tif (this._projection) {\n\t\t\t\tthis._projection.update(this._boundRender());\n\t\t\t}\n\t\t}\n\n\t\tprivate own(handle: Function): void {\n\t\t\tthis._handles.push(handle);\n\t\t}\n\n\t\tpublic destroy() {\n\t\t\twhile (this._handles.length > 0) {\n\t\t\t\tconst handle = this._handles.pop();\n\t\t\t\tif (handle) {\n\t\t\t\t\thandle();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tprivate _attach({ type, root }: AttachOptions): Handle {\n\t\t\tif (root) {\n\t\t\t\tthis.root = root;\n\t\t\t}\n\n\t\t\tif (this.projectorState === ProjectorAttachState.Attached) {\n\t\t\t\treturn this._attachHandle;\n\t\t\t}\n\n\t\t\tthis.projectorState = ProjectorAttachState.Attached;\n\n\t\t\tconst handle = () => {\n\t\t\t\tif (this.projectorState === ProjectorAttachState.Attached) {\n\t\t\t\t\tthis.pause();\n\t\t\t\t\tthis._projection = undefined;\n\t\t\t\t\tthis.projectorState = ProjectorAttachState.Detached;\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tthis.own(handle);\n\t\t\tthis._attachHandle = createHandle(handle);\n\n\t\t\tthis._projectionOptions = { ...this._projectionOptions, ...{ sync: !this._async } };\n\n\t\t\tswitch (type) {\n\t\t\t\tcase AttachType.Append:\n\t\t\t\t\tthis._projection = dom.append(this.root, this._boundRender(), this, this._projectionOptions);\n\t\t\t\t\tbreak;\n\t\t\t\tcase AttachType.Merge:\n\t\t\t\t\tthis._projection = dom.merge(this.root, this._boundRender(), this, this._projectionOptions);\n\t\t\t\t\tbreak;\n\t\t\t\tcase AttachType.Replace:\n\t\t\t\t\tthis._projection = dom.replace(this.root, this._boundRender(), this, this._projectionOptions);\n\t\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\treturn this._attachHandle;\n\t\t}\n\t}\n\n\treturn Projector;\n}\n\nexport default ProjectorMixin;\n\n\n\n// WEBPACK FOOTER //\n// Projector.ts","import global from '@dojo/shim/global';\nimport {\n\tCoreProperties,\n\tDefaultWidgetBaseInterface,\n\tDNode,\n\tVNode,\n\tWNode,\n\tProjectionOptions,\n\tProjection,\n\tSupportedClassName,\n\tTransitionStrategy,\n\tVNodeProperties\n} from './interfaces';\nimport { from as arrayFrom } from '@dojo/shim/array';\nimport { isWNode, isVNode, VNODE } from './d';\nimport { isWidgetBaseConstructor } from './Registry';\nimport WeakMap from '@dojo/shim/WeakMap';\nimport NodeHandler from './NodeHandler';\nimport RegistryHandler from './RegistryHandler';\n\nconst NAMESPACE_W3 = 'http://www.w3.org/';\nconst NAMESPACE_SVG = NAMESPACE_W3 + '2000/svg';\nconst NAMESPACE_XLINK = NAMESPACE_W3 + '1999/xlink';\n\nconst emptyArray: (InternalWNode | InternalVNode)[] = [];\n\nexport type RenderResult = DNode<any> | DNode<any>[];\n\nexport interface InternalWNode extends WNode<DefaultWidgetBaseInterface> {\n\t/**\n\t * The instance of the widget\n\t */\n\tinstance: DefaultWidgetBaseInterface;\n\n\t/**\n\t * The rendered DNodes from the instance\n\t */\n\trendered: InternalDNode[];\n\n\t/**\n\t * Core properties that are used by the widget core system\n\t */\n\tcoreProperties: CoreProperties;\n\n\t/**\n\t * Children for the WNode\n\t */\n\tchildren: InternalDNode[];\n}\n\nexport interface InternalVNode extends VNode {\n\t/**\n\t * Children for the VNode\n\t */\n\tchildren?: InternalDNode[];\n\n\tinserted?: boolean;\n\n\t/**\n\t * Bag used to still decorate properties on a deferred properties callback\n\t */\n\tdecoratedDeferredProperties?: VNodeProperties;\n\n\t/**\n\t * DOM element\n\t */\n\tdomNode?: Element | Text;\n}\n\nexport type InternalDNode = InternalVNode | InternalWNode;\n\nexport interface WidgetData {\n\tonElementCreated: Function;\n\tonElementUpdated: Function;\n\tonDetach: () => void;\n\tonAttach: () => void;\n\tparentInvalidate?: Function;\n\tdirty: boolean;\n\tregistry: () => RegistryHandler;\n\tnodeHandler: NodeHandler;\n\tcoreProperties: CoreProperties;\n\tinvalidate: Function;\n}\n\nexport const widgetInstanceMap = new WeakMap<any, WidgetData>();\n\nfunction same(dnode1: InternalDNode, dnode2: InternalDNode) {\n\tif (isVNode(dnode1) && isVNode(dnode2)) {\n\t\tif (dnode1.tag !== dnode2.tag) {\n\t\t\treturn false;\n\t\t}\n\t\tif (dnode1.properties.key !== dnode2.properties.key) {\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t} else if (isWNode(dnode1) && isWNode(dnode2)) {\n\t\tif (dnode1.widgetConstructor !== dnode2.widgetConstructor) {\n\t\t\treturn false;\n\t\t}\n\t\tif (dnode1.properties.key !== dnode2.properties.key) {\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t}\n\treturn false;\n}\n\nconst missingTransition = function() {\n\tthrow new Error('Provide a transitions object to the projectionOptions to do animations');\n};\n\nfunction getProjectionOptions(projectorOptions?: Partial<ProjectionOptions>): ProjectionOptions {\n\tconst defaults = {\n\t\tnamespace: undefined,\n\t\tstyleApplyer: function(domNode: HTMLElement, styleName: string, value: string) {\n\t\t\t(domNode.style as any)[styleName] = value;\n\t\t},\n\t\ttransitions: {\n\t\t\tenter: missingTransition,\n\t\t\texit: missingTransition\n\t\t},\n\t\tdeferredRenderCallbacks: [],\n\t\tafterRenderCallbacks: [],\n\t\tnodeMap: new WeakMap(),\n\t\tmerge: false\n\t};\n\treturn { ...defaults, ...projectorOptions } as ProjectionOptions;\n}\n\nfunction checkStyleValue(styleValue: Object) {\n\tif (typeof styleValue !== 'string') {\n\t\tthrow new Error('Style values must be strings');\n\t}\n}\n\nfunction updateEvents(\n\tdomNode: Node,\n\tpropName: string,\n\tproperties: VNodeProperties,\n\tprojectionOptions: ProjectionOptions,\n\tpreviousProperties?: VNodeProperties\n) {\n\tconst previous = previousProperties || Object.create(null);\n\tconst currentValue = properties[propName];\n\tconst previousValue = previous[propName];\n\n\tconst eventName = propName.substr(2);\n\tconst eventMap = projectionOptions.nodeMap.get(domNode) || new WeakMap();\n\n\tif (previousValue) {\n\t\tconst previousEvent = eventMap.get(previousValue);\n\t\tdomNode.removeEventListener(eventName, previousEvent);\n\t}\n\n\tlet callback = currentValue.bind(properties.bind);\n\n\tif (eventName === 'input') {\n\t\tcallback = function(this: any, evt: Event) {\n\t\t\tcurrentValue.call(this, evt);\n\t\t\t(evt.target as any)['oninput-value'] = (evt.target as HTMLInputElement).value;\n\t\t}.bind(properties.bind);\n\t}\n\n\tdomNode.addEventListener(eventName, callback);\n\teventMap.set(currentValue, callback);\n\tprojectionOptions.nodeMap.set(domNode, eventMap);\n}\n\nfunction addClasses(domNode: Element, classes: SupportedClassName) {\n\tif (classes) {\n\t\tconst classNames = classes.split(' ');\n\t\tfor (let i = 0; i < classNames.length; i++) {\n\t\t\tdomNode.classList.add(classNames[i]);\n\t\t}\n\t}\n}\n\nfunction removeClasses(domNode: Element, classes: SupportedClassName) {\n\tif (classes) {\n\t\tconst classNames = classes.split(' ');\n\t\tfor (let i = 0; i < classNames.length; i++) {\n\t\t\tdomNode.classList.remove(classNames[i]);\n\t\t}\n\t}\n}\n\nfunction setProperties(domNode: Element, properties: VNodeProperties, projectionOptions: ProjectionOptions) {\n\tconst propNames = Object.keys(properties);\n\tconst propCount = propNames.length;\n\tfor (let i = 0; i < propCount; i++) {\n\t\tconst propName = propNames[i];\n\t\tlet propValue = properties[propName];\n\t\tif (propName === 'classes') {\n\t\t\tconst currentClasses = Array.isArray(propValue) ? propValue : [propValue];\n\t\t\tif (!(domNode as Element).className) {\n\t\t\t\t(domNode as Element).className = currentClasses.join(' ').trim();\n\t\t\t} else {\n\t\t\t\tfor (let i = 0; i < currentClasses.length; i++) {\n\t\t\t\t\taddClasses(domNode as Element, currentClasses[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (propName === 'styles') {\n\t\t\tconst styleNames = Object.keys(propValue);\n\t\t\tconst styleCount = styleNames.length;\n\t\t\tfor (let j = 0; j < styleCount; j++) {\n\t\t\t\tconst styleName = styleNames[j];\n\t\t\t\tconst styleValue = propValue[styleName];\n\t\t\t\tif (styleValue) {\n\t\t\t\t\tcheckStyleValue(styleValue);\n\t\t\t\t\tprojectionOptions.styleApplyer!(domNode as HTMLElement, styleName, styleValue);\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (propName !== 'key' && propValue !== null && propValue !== undefined) {\n\t\t\tconst type = typeof propValue;\n\t\t\tif (type === 'function' && propName.lastIndexOf('on', 0) === 0) {\n\t\t\t\tupdateEvents(domNode, propName, properties, projectionOptions);\n\t\t\t} else if (type === 'string' && propName !== 'value' && propName !== 'innerHTML') {\n\t\t\t\tif (projectionOptions.namespace === NAMESPACE_SVG && propName === 'href') {\n\t\t\t\t\t(domNode as Element).setAttributeNS(NAMESPACE_XLINK, propName, propValue);\n\t\t\t\t} else {\n\t\t\t\t\t(domNode as Element).setAttribute(propName, propValue);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t(domNode as any)[propName] = propValue;\n\t\t\t}\n\t\t}\n\t}\n}\n\nfunction removeOrphanedEvents(\n\tdomNode: Element,\n\tpreviousProperties: VNodeProperties,\n\tproperties: VNodeProperties,\n\tprojectionOptions: ProjectionOptions\n) {\n\tconst eventMap = projectionOptions.nodeMap.get(domNode);\n\tif (eventMap) {\n\t\tObject.keys(previousProperties).forEach((propName) => {\n\t\t\tif (propName.substr(0, 2) === 'on' && !properties[propName]) {\n\t\t\t\tconst eventCallback = eventMap.get(previousProperties[propName]);\n\t\t\t\tif (eventCallback) {\n\t\t\t\t\tdomNode.removeEventListener(propName.substr(2), eventCallback);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n}\n\nfunction updateProperties(\n\tdomNode: Element,\n\tpreviousProperties: VNodeProperties,\n\tproperties: VNodeProperties,\n\tprojectionOptions: ProjectionOptions\n) {\n\tlet propertiesUpdated = false;\n\tconst propNames = Object.keys(properties);\n\tconst propCount = propNames.length;\n\tif (propNames.indexOf('classes') === -1 && previousProperties.classes) {\n\t\tif (Array.isArray(previousProperties.classes)) {\n\t\t\tfor (let i = 0; i < previousProperties.classes.length; i++) {\n\t\t\t\tremoveClasses(domNode, previousProperties.classes[i]);\n\t\t\t}\n\t\t} else {\n\t\t\tremoveClasses(domNode, previousProperties.classes);\n\t\t}\n\t}\n\n\tremoveOrphanedEvents(domNode, previousProperties, properties, projectionOptions);\n\n\tfor (let i = 0; i < propCount; i++) {\n\t\tconst propName = propNames[i];\n\t\tlet propValue = properties[propName];\n\t\tconst previousValue = previousProperties![propName];\n\t\tif (propName === 'classes') {\n\t\t\tconst previousClasses = Array.isArray(previousValue) ? previousValue : [previousValue];\n\t\t\tconst currentClasses = Array.isArray(propValue) ? propValue : [propValue];\n\t\t\tif (previousClasses && previousClasses.length > 0) {\n\t\t\t\tif (!propValue || propValue.length === 0) {\n\t\t\t\t\tfor (let i = 0; i < previousClasses.length; i++) {\n\t\t\t\t\t\tremoveClasses(domNode, previousClasses[i]);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tconst newClasses: (null | undefined | string)[] = [...currentClasses];\n\t\t\t\t\tfor (let i = 0; i < previousClasses.length; i++) {\n\t\t\t\t\t\tconst previousClassName = previousClasses[i];\n\t\t\t\t\t\tif (previousClassName) {\n\t\t\t\t\t\t\tconst classIndex = newClasses.indexOf(previousClassName);\n\t\t\t\t\t\t\tif (classIndex === -1) {\n\t\t\t\t\t\t\t\tremoveClasses(domNode, previousClassName);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tnewClasses.splice(classIndex, 1);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tfor (let i = 0; i < newClasses.length; i++) {\n\t\t\t\t\t\taddClasses(domNode, newClasses[i]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tfor (let i = 0; i < currentClasses.length; i++) {\n\t\t\t\t\taddClasses(domNode, currentClasses[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (propName === 'styles') {\n\t\t\tconst styleNames = Object.keys(propValue);\n\t\t\tconst styleCount = styleNames.length;\n\t\t\tfor (let j = 0; j < styleCount; j++) {\n\t\t\t\tconst styleName = styleNames[j];\n\t\t\t\tconst newStyleValue = propValue[styleName];\n\t\t\t\tconst oldStyleValue = previousValue[styleName];\n\t\t\t\tif (newStyleValue === oldStyleValue) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tpropertiesUpdated = true;\n\t\t\t\tif (newStyleValue) {\n\t\t\t\t\tcheckStyleValue(newStyleValue);\n\t\t\t\t\tprojectionOptions.styleApplyer!(domNode as HTMLElement, styleName, newStyleValue);\n\t\t\t\t} else {\n\t\t\t\t\tprojectionOptions.styleApplyer!(domNode as HTMLElement, styleName, '');\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tif (!propValue && typeof previousValue === 'string') {\n\t\t\t\tpropValue = '';\n\t\t\t}\n\t\t\tif (propName === 'value') {\n\t\t\t\tconst domValue = (domNode as any)[propName];\n\t\t\t\tif (\n\t\t\t\t\tdomValue !== propValue &&\n\t\t\t\t\t((domNode as any)['oninput-value']\n\t\t\t\t\t\t? domValue === (domNode as any)['oninput-value']\n\t\t\t\t\t\t: propValue !== previousValue)\n\t\t\t\t) {\n\t\t\t\t\t(domNode as any)[propName] = propValue;\n\t\t\t\t\t(domNode as any)['oninput-value'] = undefined;\n\t\t\t\t}\n\t\t\t\tif (propValue !== previousValue) {\n\t\t\t\t\tpropertiesUpdated = true;\n\t\t\t\t}\n\t\t\t} else if (propValue !== previousValue) {\n\t\t\t\tconst type = typeof propValue;\n\t\t\t\tif (type === 'function' && propName.lastIndexOf('on', 0) === 0) {\n\t\t\t\t\tupdateEvents(domNode, propName, properties, projectionOptions, previousProperties);\n\t\t\t\t} else if (type === 'string' && propName !== 'innerHTML') {\n\t\t\t\t\tif (projectionOptions.namespace === NAMESPACE_SVG && propName === 'href') {\n\t\t\t\t\t\tdomNode.setAttributeNS(NAMESPACE_XLINK, propName, propValue);\n\t\t\t\t\t} else if (propName === 'role' && propValue === '') {\n\t\t\t\t\t\tdomNode.removeAttribute(propName);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tdomNode.setAttribute(propName, propValue);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif ((domNode as any)[propName] !== propValue) {\n\t\t\t\t\t\t// Comparison is here for side-effects in Edge with scrollLeft and scrollTop\n\t\t\t\t\t\t(domNode as any)[propName] = propValue;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tpropertiesUpdated = true;\n\t\t\t}\n\t\t}\n\t}\n\treturn propertiesUpdated;\n}\n\nfunction findIndexOfChild(children: InternalDNode[], sameAs: InternalDNode, start: number) {\n\tfor (let i = start; i < children.length; i++) {\n\t\tif (same(children[i], sameAs)) {\n\t\t\treturn i;\n\t\t}\n\t}\n\treturn -1;\n}\n\nexport function toParentVNode(domNode: Element): InternalVNode {\n\treturn {\n\t\ttag: '',\n\t\tproperties: {},\n\t\tchildren: undefined,\n\t\tdomNode,\n\t\ttype: VNODE\n\t};\n}\n\nexport function toTextVNode(data: any): InternalVNode {\n\treturn {\n\t\ttag: '',\n\t\tproperties: {},\n\t\tchildren: undefined,\n\t\ttext: `${data}`,\n\t\tdomNode: undefined,\n\t\ttype: VNODE\n\t};\n}\n\nexport function filterAndDecorateChildren(\n\tchildren: undefined | DNode | DNode[],\n\tinstance: DefaultWidgetBaseInterface\n): InternalDNode[] {\n\tif (children === undefined) {\n\t\treturn emptyArray;\n\t}\n\tchildren = Array.isArray(children) ? children : [children];\n\n\tfor (let i = 0; i < children.length; ) {\n\t\tconst child = children[i] as InternalDNode;\n\t\tif (child === undefined || child === null) {\n\t\t\tchildren.splice(i, 1);\n\t\t\tcontinue;\n\t\t} else if (typeof child === 'string') {\n\t\t\tchildren[i] = toTextVNode(child);\n\t\t} else {\n\t\t\tif (isVNode(child)) {\n\t\t\t\tif (child.properties.bind === undefined) {\n\t\t\t\t\t(child.properties as any).bind = instance;\n\t\t\t\t\tif (child.children && child.children.length > 0) {\n\t\t\t\t\t\tfilterAndDecorateChildren(child.children, instance);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (!child.coreProperties) {\n\t\t\t\t\tconst instanceData = widgetInstanceMap.get(instance)!;\n\t\t\t\t\tchild.coreProperties = {\n\t\t\t\t\t\tbind: instance,\n\t\t\t\t\t\tbaseRegistry: instanceData.coreProperties.baseRegistry\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\tif (child.children && child.children.length > 0) {\n\t\t\t\t\tfilterAndDecorateChildren(child.children, instance);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\ti++;\n\t}\n\treturn children as InternalDNode[];\n}\n\nfunction nodeAdded(dnode: InternalDNode, transitions: TransitionStrategy) {\n\tif (isVNode(dnode) && dnode.properties) {\n\t\tconst enterAnimation = dnode.properties.enterAnimation;\n\t\tif (enterAnimation) {\n\t\t\tif (typeof enterAnimation === 'function') {\n\t\t\t\tenterAnimation(dnode.domNode as Element, dnode.properties);\n\t\t\t} else {\n\t\t\t\ttransitions.enter(dnode.domNode as Element, dnode.properties, enterAnimation as string);\n\t\t\t}\n\t\t}\n\t}\n}\n\nfunction callOnDetach(dNodes: InternalDNode | InternalDNode[], parentInstance: DefaultWidgetBaseInterface): void {\n\tdNodes = Array.isArray(dNodes) ? dNodes : [dNodes];\n\tfor (let i = 0; i < dNodes.length; i++) {\n\t\tconst dNode = dNodes[i];\n\t\tif (isWNode(dNode)) {\n\t\t\tif (dNode.rendered) {\n\t\t\t\tcallOnDetach(dNode.rendered, dNode.instance);\n\t\t\t}\n\t\t\tconst instanceData = widgetInstanceMap.get(dNode.instance)!;\n\t\t\tinstanceData.onDetach();\n\t\t} else {\n\t\t\tif (dNode.children) {\n\t\t\t\tcallOnDetach(dNode.children as InternalDNode[], parentInstance);\n\t\t\t}\n\t\t}\n\t}\n}\n\nfunction nodeToRemove(dnode: InternalDNode, transitions: TransitionStrategy, projectionOptions: ProjectionOptions) {\n\tif (isWNode(dnode)) {\n\t\tconst rendered = dnode.rendered || emptyArray;\n\t\tfor (let i = 0; i < rendered.length; i++) {\n\t\t\tconst child = rendered[i];\n\t\t\tif (isVNode(child)) {\n\t\t\t\tchild.domNode!.parentNode!.removeChild(child.domNode!);\n\t\t\t} else {\n\t\t\t\tnodeToRemove(child, transitions, projectionOptions);\n\t\t\t}\n\t\t}\n\t} else {\n\t\tconst domNode = dnode.domNode;\n\t\tconst properties = dnode.properties;\n\t\tconst exitAnimation = properties.exitAnimation;\n\t\tif (properties && exitAnimation) {\n\t\t\t(domNode as HTMLElement).style.pointerEvents = 'none';\n\t\t\tconst removeDomNode = function() {\n\t\t\t\tdomNode && domNode.parentNode && domNode.parentNode.removeChild(domNode);\n\t\t\t};\n\t\t\tif (typeof exitAnimation === 'function') {\n\t\t\t\texitAnimation(domNode as Element, removeDomNode, properties);\n\t\t\t\treturn;\n\t\t\t} else {\n\t\t\t\ttransitions.exit(dnode.domNode as Element, properties, exitAnimation as string, removeDomNode);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\tdomNode && domNode.parentNode && domNode.parentNode.removeChild(domNode);\n\t}\n}\n\nfunction checkDistinguishable(\n\tchildNodes: InternalDNode[],\n\tindexToCheck: number,\n\tparentInstance: DefaultWidgetBaseInterface\n) {\n\tconst childNode = childNodes[indexToCheck];\n\tif (isVNode(childNode) && childNode.tag === '') {\n\t\treturn; // Text nodes need not be distinguishable\n\t}\n\tconst { key } = childNode.properties;\n\n\tif (key === undefined || key === null) {\n\t\tfor (let i = 0; i < childNodes.length; i++) {\n\t\t\tif (i !== indexToCheck) {\n\t\t\t\tconst node = childNodes[i];\n\t\t\t\tif (same(node, childNode)) {\n\t\t\t\t\tlet nodeIdentifier: string;\n\t\t\t\t\tconst parentName = (parentInstance as any).constructor.name || 'unknown';\n\t\t\t\t\tif (isWNode(childNode)) {\n\t\t\t\t\t\tnodeIdentifier = (childNode.widgetConstructor as any).name || 'unknown';\n\t\t\t\t\t} else {\n\t\t\t\t\t\tnodeIdentifier = childNode.tag;\n\t\t\t\t\t}\n\n\t\t\t\t\tconsole.warn(\n\t\t\t\t\t\t`A widget (${parentName}) has had a child addded or removed, but they were not able to uniquely identified. It is recommended to provide a unique 'key' property when using the same widget or element (${nodeIdentifier}) multiple times as siblings`\n\t\t\t\t\t);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n\nfunction updateChildren(\n\tparentVNode: InternalVNode,\n\toldChildren: InternalDNode[],\n\tnewChildren: InternalDNode[],\n\tparentInstance: DefaultWidgetBaseInterface,\n\tprojectionOptions: ProjectionOptions\n) {\n\toldChildren = oldChildren || emptyArray;\n\tnewChildren = newChildren;\n\tconst oldChildrenLength = oldChildren.length;\n\tconst newChildrenLength = newChildren.length;\n\tconst transitions = projectionOptions.transitions!;\n\n\tlet oldIndex = 0;\n\tlet newIndex = 0;\n\tlet i: number;\n\tlet textUpdated = false;\n\twhile (newIndex < newChildrenLength) {\n\t\tconst oldChild = oldIndex < oldChildrenLength ? oldChildren[oldIndex] : undefined;\n\t\tconst newChild = newChildren[newIndex];\n\n\t\tif (oldChild !== undefined && same(oldChild, newChild)) {\n\t\t\ttextUpdated = updateDom(oldChild, newChild, projectionOptions, parentVNode, parentInstance) || textUpdated;\n\t\t\toldIndex++;\n\t\t} else {\n\t\t\tconst findOldIndex = findIndexOfChild(oldChildren, newChild, oldIndex + 1);\n\t\t\tif (findOldIndex >= 0) {\n\t\t\t\tfor (i = oldIndex; i < findOldIndex; i++) {\n\t\t\t\t\tconst oldChild = oldChildren[i];\n\t\t\t\t\tconst indexToCheck = i;\n\t\t\t\t\tprojectionOptions.afterRenderCallbacks.push(() => {\n\t\t\t\t\t\tcallOnDetach(oldChild, parentInstance);\n\t\t\t\t\t\tcheckDistinguishable(oldChildren, indexToCheck, parentInstance);\n\t\t\t\t\t});\n\t\t\t\t\tnodeToRemove(oldChildren[i], transitions, projectionOptions);\n\t\t\t\t}\n\t\t\t\ttextUpdated =\n\t\t\t\t\tupdateDom(oldChildren[findOldIndex], newChild, projectionOptions, parentVNode, parentInstance) ||\n\t\t\t\t\ttextUpdated;\n\t\t\t\toldIndex = findOldIndex + 1;\n\t\t\t} else {\n\t\t\t\tlet insertBefore: Element | Text | undefined = undefined;\n\t\t\t\tlet child: InternalDNode = oldChildren[oldIndex];\n\t\t\t\tif (child) {\n\t\t\t\t\tlet nextIndex = oldIndex + 1;\n\t\t\t\t\twhile (insertBefore === undefined) {\n\t\t\t\t\t\tif (isWNode(child)) {\n\t\t\t\t\t\t\tif (child.rendered) {\n\t\t\t\t\t\t\t\tchild = child.rendered[0];\n\t\t\t\t\t\t\t} else if (oldChildren[nextIndex]) {\n\t\t\t\t\t\t\t\tchild = oldChildren[nextIndex];\n\t\t\t\t\t\t\t\tnextIndex++;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tinsertBefore = child.domNode;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tcreateDom(newChild, parentVNode, insertBefore, projectionOptions, parentInstance);\n\t\t\t\tnodeAdded(newChild, transitions);\n\t\t\t\tconst indexToCheck = newIndex;\n\t\t\t\tprojectionOptions.afterRenderCallbacks.push(() => {\n\t\t\t\t\tcheckDistinguishable(newChildren, indexToCheck, parentInstance);\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t\tnewIndex++;\n\t}\n\tif (oldChildrenLength > oldIndex) {\n\t\t// Remove child fragments\n\t\tfor (i = oldIndex; i < oldChildrenLength; i++) {\n\t\t\tconst oldChild = oldChildren[i];\n\t\t\tconst indexToCheck = i;\n\t\t\tprojectionOptions.afterRenderCallbacks.push(() => {\n\t\t\t\tcallOnDetach(oldChild, parentInstance);\n\t\t\t\tcheckDistinguishable(oldChildren, indexToCheck, parentInstance);\n\t\t\t});\n\t\t\tnodeToRemove(oldChildren[i], transitions, projectionOptions);\n\t\t}\n\t}\n\treturn textUpdated;\n}\n\nfunction addChildren(\n\tparentVNode: InternalVNode,\n\tchildren: InternalDNode[] | undefined,\n\tprojectionOptions: ProjectionOptions,\n\tparentInstance: DefaultWidgetBaseInterface,\n\tinsertBefore: Element | Text | undefined = undefined,\n\tchildNodes?: (Element | Text)[]\n) {\n\tif (children === undefined) {\n\t\treturn;\n\t}\n\n\tif (projectionOptions.merge && childNodes === undefined) {\n\t\tchildNodes = arrayFrom(parentVNode.domNode!.childNodes) as (Element | Text)[];\n\t}\n\n\tfor (let i = 0; i < children.length; i++) {\n\t\tconst child = children[i];\n\n\t\tif (isVNode(child)) {\n\t\t\tif (projectionOptions.merge && childNodes) {\n\t\t\t\tlet domElement: Element | undefined = undefined;\n\t\t\t\twhile (child.domNode === undefined && childNodes.length > 0) {\n\t\t\t\t\tdomElement = childNodes.shift() as Element;\n\t\t\t\t\tif (domElement && domElement.tagName === (child.tag.toUpperCase() || undefined)) {\n\t\t\t\t\t\tchild.domNode = domElement;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tcreateDom(child, parentVNode, insertBefore, projectionOptions, parentInstance);\n\t\t} else {\n\t\t\tcreateDom(child, parentVNode, insertBefore, projectionOptions, parentInstance, childNodes);\n\t\t}\n\t}\n}\n\nfunction initPropertiesAndChildren(\n\tdomNode: Element,\n\tdnode: InternalVNode,\n\tparentInstance: DefaultWidgetBaseInterface,\n\tprojectionOptions: ProjectionOptions\n) {\n\taddChildren(dnode, dnode.children, projectionOptions, parentInstance, undefined);\n\tif (typeof dnode.deferredPropertiesCallback === 'function') {\n\t\taddDeferredProperties(dnode, projectionOptions);\n\t}\n\tsetProperties(domNode, dnode.properties, projectionOptions);\n\tif (dnode.properties.key !== null && dnode.properties.key !== undefined) {\n\t\tconst instanceData = widgetInstanceMap.get(parentInstance)!;\n\t\tinstanceData.nodeHandler.add(domNode as HTMLElement, `${dnode.properties.key}`);\n\t\tprojectionOptions.afterRenderCallbacks.push(() => {\n\t\t\tinstanceData.onElementCreated(domNode as HTMLElement, dnode.properties.key!);\n\t\t});\n\t}\n\tdnode.inserted = true;\n}\n\nfunction createDom(\n\tdnode: InternalDNode,\n\tparentVNode: InternalVNode,\n\tinsertBefore: Element | Text | undefined,\n\tprojectionOptions: ProjectionOptions,\n\tparentInstance: DefaultWidgetBaseInterface,\n\tchildNodes?: (Element | Text)[]\n) {\n\tlet domNode: Element | Text | undefined;\n\tif (isWNode(dnode)) {\n\t\tlet { widgetConstructor } = dnode;\n\t\tconst parentInstanceData = widgetInstanceMap.get(parentInstance)!;\n\t\tif (!isWidgetBaseConstructor<DefaultWidgetBaseInterface>(widgetConstructor)) {\n\t\t\tconst item = parentInstanceData.registry().get<DefaultWidgetBaseInterface>(widgetConstructor);\n\t\t\tif (item === null) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\twidgetConstructor = item;\n\t\t}\n\t\tconst instance = new widgetConstructor();\n\t\tdnode.instance = instance;\n\t\tconst instanceData = widgetInstanceMap.get(instance)!;\n\t\tinstanceData.parentInvalidate = parentInstanceData.invalidate;\n\t\tinstance.__setCoreProperties__(dnode.coreProperties);\n\t\tinstance.__setChildren__(dnode.children);\n\t\tinstance.__setProperties__(dnode.properties);\n\t\tconst rendered = instance.__render__();\n\t\tif (rendered) {\n\t\t\tconst filteredRendered = filterAndDecorateChildren(rendered, instance);\n\t\t\tdnode.rendered = filteredRendered;\n\t\t\taddChildren(parentVNode, filteredRendered, projectionOptions, instance, insertBefore, childNodes);\n\t\t}\n\t\tinstanceData.nodeHandler.addRoot();\n\t\tprojectionOptions.afterRenderCallbacks.push(() => {\n\t\t\tinstanceData.onAttach();\n\t\t});\n\t} else {\n\t\tif (projectionOptions.merge && projectionOptions.mergeElement !== undefined) {\n\t\t\tdomNode = dnode.domNode = projectionOptions.mergeElement;\n\t\t\tprojectionOptions.mergeElement = undefined;\n\t\t\tinitPropertiesAndChildren(domNode!, dnode, parentInstance, projectionOptions);\n\t\t\treturn;\n\t\t}\n\t\tconst doc = parentVNode.domNode!.ownerDocument;\n\t\tif (dnode.tag === '') {\n\t\t\tif (dnode.domNode !== undefined) {\n\t\t\t\tconst newDomNode = dnode.domNode.ownerDocument.createTextNode(dnode.text!);\n\t\t\t\tdnode.domNode.parentNode!.replaceChild(newDomNode, dnode.domNode);\n\t\t\t\tdnode.domNode = newDomNode;\n\t\t\t} else {\n\t\t\t\tdomNode = dnode.domNode = doc.createTextNode(dnode.text!);\n\t\t\t\tif (insertBefore !== undefined) {\n\t\t\t\t\tparentVNode.domNode!.insertBefore(domNode, insertBefore);\n\t\t\t\t} else {\n\t\t\t\t\tparentVNode.domNode!.appendChild(domNode);\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tif (dnode.domNode === undefined) {\n\t\t\t\tif (dnode.tag === 'svg') {\n\t\t\t\t\tprojectionOptions = { ...projectionOptions, ...{ namespace: NAMESPACE_SVG } };\n\t\t\t\t}\n\t\t\t\tif (projectionOptions.namespace !== undefined) {\n\t\t\t\t\tdomNode = dnode.domNode = doc.createElementNS(projectionOptions.namespace, dnode.tag);\n\t\t\t\t} else {\n\t\t\t\t\tdomNode = dnode.domNode = dnode.domNode || doc.createElement(dnode.tag);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tdomNode = dnode.domNode;\n\t\t\t}\n\t\t\tinitPropertiesAndChildren(domNode! as Element, dnode, parentInstance, projectionOptions);\n\t\t\tif (insertBefore !== undefined) {\n\t\t\t\tparentVNode.domNode!.insertBefore(domNode, insertBefore);\n\t\t\t} else if (domNode!.parentNode !== parentVNode.domNode!) {\n\t\t\t\tparentVNode.domNode!.appendChild(domNode);\n\t\t\t}\n\t\t}\n\t}\n}\n\nfunction updateDom(\n\tprevious: any,\n\tdnode: InternalDNode,\n\tprojectionOptions: ProjectionOptions,\n\tparentVNode: InternalVNode,\n\tparentInstance: DefaultWidgetBaseInterface\n) {\n\tif (isWNode(dnode)) {\n\t\tconst { instance, rendered: previousRendered } = previous;\n\t\tif (instance && previousRendered) {\n\t\t\tconst instanceData = widgetInstanceMap.get(instance)!;\n\t\t\tinstance.__setCoreProperties__(dnode.coreProperties);\n\t\t\tinstance.__setChildren__(dnode.children);\n\t\t\tinstance.__setProperties__(dnode.properties);\n\t\t\tdnode.instance = instance;\n\t\t\tif (instanceData.dirty === true) {\n\t\t\t\tconst rendered = instance.__render__();\n\t\t\t\tdnode.rendered = filterAndDecorateChildren(rendered, instance);\n\t\t\t\tupdateChildren(parentVNode, previousRendered, dnode.rendered, instance, projectionOptions);\n\t\t\t} else {\n\t\t\t\tdnode.rendered = previousRendered;\n\t\t\t}\n\t\t\tinstanceData.nodeHandler.addRoot();\n\t\t} else {\n\t\t\tcreateDom(dnode, parentVNode, undefined, projectionOptions, parentInstance);\n\t\t}\n\t} else {\n\t\tif (previous === dnode) {\n\t\t\treturn false;\n\t\t}\n\t\tconst domNode = (dnode.domNode = previous.domNode);\n\t\tlet textUpdated = false;\n\t\tlet updated = false;\n\t\tdnode.inserted = previous.inserted;\n\t\tif (dnode.tag === '') {\n\t\t\tif (dnode.text !== previous.text) {\n\t\t\t\tconst newDomNode = domNode.ownerDocument.createTextNode(dnode.text!);\n\t\t\t\tdomNode.parentNode!.replaceChild(newDomNode, domNode);\n\t\t\t\tdnode.domNode = newDomNode;\n\t\t\t\ttextUpdated = true;\n\t\t\t\treturn textUpdated;\n\t\t\t}\n\t\t} else {\n\t\t\tif (dnode.tag.lastIndexOf('svg', 0) === 0) {\n\t\t\t\tprojectionOptions = { ...projectionOptions, ...{ namespace: NAMESPACE_SVG } };\n\t\t\t}\n\t\t\tif (previous.children !== dnode.children) {\n\t\t\t\tconst children = filterAndDecorateChildren(dnode.children, parentInstance);\n\t\t\t\tdnode.children = children;\n\t\t\t\tupdated =\n\t\t\t\t\tupdateChildren(dnode, previous.children, children, parentInstance, projectionOptions) || updated;\n\t\t\t}\n\n\t\t\tif (typeof dnode.deferredPropertiesCallback === 'function') {\n\t\t\t\taddDeferredProperties(dnode, projectionOptions);\n\t\t\t}\n\n\t\t\tupdated = updateProperties(domNode, previous.properties, dnode.properties, projectionOptions) || updated;\n\n\t\t\tif (dnode.properties.key !== null && dnode.properties.key !== undefined) {\n\t\t\t\tconst instanceData = widgetInstanceMap.get(parentInstance)!;\n\t\t\t\tinstanceData.nodeHandler.add(domNode, `${dnode.properties.key}`);\n\t\t\t\tprojectionOptions.afterRenderCallbacks.push(() => {\n\t\t\t\t\tinstanceData.onElementUpdated(domNode as HTMLElement, dnode.properties.key!);\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t\tif (updated && dnode.properties && dnode.properties.updateAnimation) {\n\t\t\tdnode.properties.updateAnimation(domNode as Element, dnode.properties, previous.properties);\n\t\t}\n\t\treturn textUpdated;\n\t}\n}\n\nfunction addDeferredProperties(vnode: InternalVNode, projectionOptions: ProjectionOptions) {\n\t// transfer any properties that have been passed - as these must be decorated properties\n\tvnode.decoratedDeferredProperties = vnode.properties;\n\tconst properties = vnode.deferredPropertiesCallback!(!!vnode.inserted);\n\tvnode.properties = { ...properties, ...vnode.decoratedDeferredProperties };\n\tprojectionOptions.deferredRenderCallbacks.push(() => {\n\t\tconst properties = {\n\t\t\t...vnode.deferredPropertiesCallback!(!!vnode.inserted),\n\t\t\t...vnode.decoratedDeferredProperties\n\t\t};\n\t\tupdateProperties(vnode.domNode! as Element, vnode.properties, properties, projectionOptions);\n\t\tvnode.properties = properties;\n\t});\n}\n\nfunction runDeferredRenderCallbacks(projectionOptions: ProjectionOptions) {\n\tif (projectionOptions.deferredRenderCallbacks.length) {\n\t\tif (projectionOptions.sync) {\n\t\t\twhile (projectionOptions.deferredRenderCallbacks.length) {\n\t\t\t\tconst callback = projectionOptions.deferredRenderCallbacks.shift();\n\t\t\t\tcallback && callback();\n\t\t\t}\n\t\t} else {\n\t\t\tglobal.requestAnimationFrame(() => {\n\t\t\t\twhile (projectionOptions.deferredRenderCallbacks.length) {\n\t\t\t\t\tconst callback = projectionOptions.deferredRenderCallbacks.shift();\n\t\t\t\t\tcallback && callback();\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n}\n\nfunction runAfterRenderCallbacks(projectionOptions: ProjectionOptions) {\n\tif (projectionOptions.sync) {\n\t\twhile (projectionOptions.afterRenderCallbacks.length) {\n\t\t\tconst callback = projectionOptions.afterRenderCallbacks.shift();\n\t\t\tcallback && callback();\n\t\t}\n\t} else {\n\t\tif (global.requestIdleCallback) {\n\t\t\tglobal.requestIdleCallback(() => {\n\t\t\t\twhile (projectionOptions.afterRenderCallbacks.length) {\n\t\t\t\t\tconst callback = projectionOptions.afterRenderCallbacks.shift();\n\t\t\t\t\tcallback && callback();\n\t\t\t\t}\n\t\t\t});\n\t\t} else {\n\t\t\tsetTimeout(() => {\n\t\t\t\twhile (projectionOptions.afterRenderCallbacks.length) {\n\t\t\t\t\tconst callback = projectionOptions.afterRenderCallbacks.shift();\n\t\t\t\t\tcallback && callback();\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n}\n\nfunction createProjection(\n\tdnode: InternalDNode | InternalDNode[],\n\tparentInstance: DefaultWidgetBaseInterface,\n\tprojectionOptions: ProjectionOptions\n): Projection {\n\tlet projectionDNode = Array.isArray(dnode) ? dnode : [dnode];\n\tprojectionOptions.merge = false;\n\treturn {\n\t\tupdate: function(updatedDNode: RenderResult) {\n\t\t\tlet domNode = projectionOptions.rootNode;\n\n\t\t\tupdatedDNode = filterAndDecorateChildren(updatedDNode, parentInstance);\n\t\t\tupdateChildren(\n\t\t\t\ttoParentVNode(domNode),\n\t\t\t\tprojectionDNode,\n\t\t\t\tupdatedDNode as InternalDNode[],\n\t\t\t\tparentInstance,\n\t\t\t\tprojectionOptions\n\t\t\t);\n\t\t\tconst instanceData = widgetInstanceMap.get(parentInstance)!;\n\t\t\tinstanceData.nodeHandler.addRoot();\n\t\t\trunDeferredRenderCallbacks(projectionOptions);\n\t\t\trunAfterRenderCallbacks(projectionOptions);\n\t\t\tprojectionDNode = updatedDNode as InternalDNode[];\n\t\t},\n\t\tdomNode: projectionOptions.rootNode\n\t};\n}\n\nexport const dom = {\n\tcreate: function(\n\t\tdNode: RenderResult,\n\t\tinstance: DefaultWidgetBaseInterface,\n\t\tprojectionOptions?: Partial<ProjectionOptions>\n\t): Projection {\n\t\tconst finalProjectorOptions = getProjectionOptions(projectionOptions);\n\t\tconst rootNode = document.createElement('div');\n\t\tfinalProjectorOptions.rootNode = rootNode;\n\t\tconst decoratedNode = filterAndDecorateChildren(dNode, instance);\n\t\taddChildren(\n\t\t\ttoParentVNode(finalProjectorOptions.rootNode),\n\t\t\tdecoratedNode,\n\t\t\tfinalProjectorOptions,\n\t\t\tinstance,\n\t\t\tundefined\n\t\t);\n\t\tconst instanceData = widgetInstanceMap.get(instance)!;\n\t\tinstanceData.nodeHandler.addRoot();\n\t\tfinalProjectorOptions.afterRenderCallbacks.push(() => {\n\t\t\tinstanceData.onAttach();\n\t\t});\n\t\trunDeferredRenderCallbacks(finalProjectorOptions);\n\t\trunAfterRenderCallbacks(finalProjectorOptions);\n\t\treturn createProjection(decoratedNode, instance, finalProjectorOptions);\n\t},\n\tappend: function(\n\t\tparentNode: Element,\n\t\tdNode: RenderResult,\n\t\tinstance: DefaultWidgetBaseInterface,\n\t\tprojectionOptions?: Partial<ProjectionOptions>\n\t): Projection {\n\t\tconst finalProjectorOptions = getProjectionOptions(projectionOptions);\n\t\tfinalProjectorOptions.rootNode = parentNode;\n\t\tconst decoratedNode = filterAndDecorateChildren(dNode, instance);\n\t\taddChildren(\n\t\t\ttoParentVNode(finalProjectorOptions.rootNode),\n\t\t\tdecoratedNode,\n\t\t\tfinalProjectorOptions,\n\t\t\tinstance,\n\t\t\tundefined\n\t\t);\n\t\tconst instanceData = widgetInstanceMap.get(instance)!;\n\t\tinstanceData.nodeHandler.addRoot();\n\t\tfinalProjectorOptions.afterRenderCallbacks.push(() => {\n\t\t\tinstanceData.onAttach();\n\t\t});\n\t\trunDeferredRenderCallbacks(finalProjectorOptions);\n\t\trunAfterRenderCallbacks(finalProjectorOptions);\n\t\treturn createProjection(decoratedNode, instance, finalProjectorOptions);\n\t},\n\tmerge: function(\n\t\telement: Element,\n\t\tdNode: RenderResult,\n\t\tinstance: DefaultWidgetBaseInterface,\n\t\tprojectionOptions?: Partial<ProjectionOptions>\n\t): Projection {\n\t\tif (Array.isArray(dNode)) {\n\t\t\tthrow new Error('Unable to merge an array of nodes. (consider adding one extra level to the virtual DOM)');\n\t\t}\n\t\tconst finalProjectorOptions = getProjectionOptions(projectionOptions);\n\t\tfinalProjectorOptions.merge = true;\n\t\tfinalProjectorOptions.mergeElement = element;\n\t\tfinalProjectorOptions.rootNode = element.parentNode as Element;\n\t\tconst decoratedNode = filterAndDecorateChildren(dNode, instance)[0] as InternalVNode;\n\t\tcreateDom(\n\t\t\tdecoratedNode,\n\t\t\ttoParentVNode(finalProjectorOptions.rootNode),\n\t\t\tundefined,\n\t\t\tfinalProjectorOptions,\n\t\t\tinstance\n\t\t);\n\t\tconst instanceData = widgetInstanceMap.get(instance)!;\n\t\tinstanceData.nodeHandler.addRoot();\n\t\tfinalProjectorOptions.afterRenderCallbacks.push(() => {\n\t\t\tinstanceData.onAttach();\n\t\t});\n\t\trunDeferredRenderCallbacks(finalProjectorOptions);\n\t\trunAfterRenderCallbacks(finalProjectorOptions);\n\t\treturn createProjection(decoratedNode, instance, finalProjectorOptions);\n\t},\n\treplace: function(\n\t\telement: Element,\n\t\tdNode: RenderResult,\n\t\tinstance: DefaultWidgetBaseInterface,\n\t\tprojectionOptions?: Partial<ProjectionOptions>\n\t): Projection {\n\t\tif (Array.isArray(dNode)) {\n\t\t\tthrow new Error(\n\t\t\t\t'Unable to replace a node with an array of nodes. (consider adding one extra level to the virtual DOM)'\n\t\t\t);\n\t\t}\n\t\tconst finalProjectorOptions = getProjectionOptions(projectionOptions);\n\t\tconst decoratedNode = filterAndDecorateChildren(dNode, instance)[0] as InternalVNode;\n\t\tfinalProjectorOptions.rootNode = element.parentNode! as Element;\n\t\tcreateDom(\n\t\t\tdecoratedNode,\n\t\t\ttoParentVNode(finalProjectorOptions.rootNode),\n\t\t\telement,\n\t\t\tfinalProjectorOptions,\n\t\t\tinstance\n\t\t);\n\t\tconst instanceData = widgetInstanceMap.get(instance)!;\n\t\tinstanceData.nodeHandler.addRoot();\n\t\tfinalProjectorOptions.afterRenderCallbacks.push(() => {\n\t\t\tinstanceData.onAttach();\n\t\t});\n\t\trunDeferredRenderCallbacks(finalProjectorOptions);\n\t\trunAfterRenderCallbacks(finalProjectorOptions);\n\t\telement.parentNode!.removeChild(element);\n\t\treturn createProjection(decoratedNode, instance, finalProjectorOptions);\n\t}\n};\n\n\n\n// WEBPACK FOOTER //\n// vdom.ts","/*!\n * PEP v0.4.3 | https://github.com/jquery/PEP\n * Copyright jQuery Foundation and other contributors | http://jquery.org/license\n */\n\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global.PointerEventsPolyfill = factory());\n}(this, function () { 'use strict';\n\n  /**\n   * This is the constructor for new PointerEvents.\n   *\n   * New Pointer Events must be given a type, and an optional dictionary of\n   * initialization properties.\n   *\n   * Due to certain platform requirements, events returned from the constructor\n   * identify as MouseEvents.\n   *\n   * @constructor\n   * @param {String} inType The type of the event to create.\n   * @param {Object} [inDict] An optional dictionary of initial event properties.\n   * @return {Event} A new PointerEvent of type `inType`, initialized with properties from `inDict`.\n   */\n  var MOUSE_PROPS = [\n    'bubbles',\n    'cancelable',\n    'view',\n    'detail',\n    'screenX',\n    'screenY',\n    'clientX',\n    'clientY',\n    'ctrlKey',\n    'altKey',\n    'shiftKey',\n    'metaKey',\n    'button',\n    'relatedTarget',\n    'pageX',\n    'pageY'\n  ];\n\n  var MOUSE_DEFAULTS = [\n    false,\n    false,\n    null,\n    null,\n    0,\n    0,\n    0,\n    0,\n    false,\n    false,\n    false,\n    false,\n    0,\n    null,\n    0,\n    0\n  ];\n\n  function PointerEvent(inType, inDict) {\n    inDict = inDict || Object.create(null);\n\n    var e = document.createEvent('Event');\n    e.initEvent(inType, inDict.bubbles || false, inDict.cancelable || false);\n\n    // define inherited MouseEvent properties\n    // skip bubbles and cancelable since they're set above in initEvent()\n    for (var i = 2, p; i < MOUSE_PROPS.length; i++) {\n      p = MOUSE_PROPS[i];\n      e[p] = inDict[p] || MOUSE_DEFAULTS[i];\n    }\n    e.buttons = inDict.buttons || 0;\n\n    // Spec requires that pointers without pressure specified use 0.5 for down\n    // state and 0 for up state.\n    var pressure = 0;\n\n    if (inDict.pressure && e.buttons) {\n      pressure = inDict.pressure;\n    } else {\n      pressure = e.buttons ? 0.5 : 0;\n    }\n\n    // add x/y properties aliased to clientX/Y\n    e.x = e.clientX;\n    e.y = e.clientY;\n\n    // define the properties of the PointerEvent interface\n    e.pointerId = inDict.pointerId || 0;\n    e.width = inDict.width || 0;\n    e.height = inDict.height || 0;\n    e.pressure = pressure;\n    e.tiltX = inDict.tiltX || 0;\n    e.tiltY = inDict.tiltY || 0;\n    e.twist = inDict.twist || 0;\n    e.tangentialPressure = inDict.tangentialPressure || 0;\n    e.pointerType = inDict.pointerType || '';\n    e.hwTimestamp = inDict.hwTimestamp || 0;\n    e.isPrimary = inDict.isPrimary || false;\n    return e;\n  }\n\n  /**\n   * This module implements a map of pointer states\n   */\n  var USE_MAP = window.Map && window.Map.prototype.forEach;\n  var PointerMap = USE_MAP ? Map : SparseArrayMap;\n\n  function SparseArrayMap() {\n    this.array = [];\n    this.size = 0;\n  }\n\n  SparseArrayMap.prototype = {\n    set: function(k, v) {\n      if (v === undefined) {\n        return this.delete(k);\n      }\n      if (!this.has(k)) {\n        this.size++;\n      }\n      this.array[k] = v;\n    },\n    has: function(k) {\n      return this.array[k] !== undefined;\n    },\n    delete: function(k) {\n      if (this.has(k)) {\n        delete this.array[k];\n        this.size--;\n      }\n    },\n    get: function(k) {\n      return this.array[k];\n    },\n    clear: function() {\n      this.array.length = 0;\n      this.size = 0;\n    },\n\n    // return value, key, map\n    forEach: function(callback, thisArg) {\n      return this.array.forEach(function(v, k) {\n        callback.call(thisArg, v, k, this);\n      }, this);\n    }\n  };\n\n  var CLONE_PROPS = [\n\n    // MouseEvent\n    'bubbles',\n    'cancelable',\n    'view',\n    'detail',\n    'screenX',\n    'screenY',\n    'clientX',\n    'clientY',\n    'ctrlKey',\n    'altKey',\n    'shiftKey',\n    'metaKey',\n    'button',\n    'relatedTarget',\n\n    // DOM Level 3\n    'buttons',\n\n    // PointerEvent\n    'pointerId',\n    'width',\n    'height',\n    'pressure',\n    'tiltX',\n    'tiltY',\n    'pointerType',\n    'hwTimestamp',\n    'isPrimary',\n\n    // event instance\n    'type',\n    'target',\n    'currentTarget',\n    'which',\n    'pageX',\n    'pageY',\n    'timeStamp'\n  ];\n\n  var CLONE_DEFAULTS = [\n\n    // MouseEvent\n    false,\n    false,\n    null,\n    null,\n    0,\n    0,\n    0,\n    0,\n    false,\n    false,\n    false,\n    false,\n    0,\n    null,\n\n    // DOM Level 3\n    0,\n\n    // PointerEvent\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    '',\n    0,\n    false,\n\n    // event instance\n    '',\n    null,\n    null,\n    0,\n    0,\n    0,\n    0\n  ];\n\n  var BOUNDARY_EVENTS = {\n    'pointerover': 1,\n    'pointerout': 1,\n    'pointerenter': 1,\n    'pointerleave': 1\n  };\n\n  var HAS_SVG_INSTANCE = (typeof SVGElementInstance !== 'undefined');\n\n  /**\n   * This module is for normalizing events. Mouse and Touch events will be\n   * collected here, and fire PointerEvents that have the same semantics, no\n   * matter the source.\n   * Events fired:\n   *   - pointerdown: a pointing is added\n   *   - pointerup: a pointer is removed\n   *   - pointermove: a pointer is moved\n   *   - pointerover: a pointer crosses into an element\n   *   - pointerout: a pointer leaves an element\n   *   - pointercancel: a pointer will no longer generate events\n   */\n  var dispatcher = {\n    pointermap: new PointerMap(),\n    eventMap: Object.create(null),\n    captureInfo: Object.create(null),\n\n    // Scope objects for native events.\n    // This exists for ease of testing.\n    eventSources: Object.create(null),\n    eventSourceList: [],\n    /**\n     * Add a new event source that will generate pointer events.\n     *\n     * `inSource` must contain an array of event names named `events`, and\n     * functions with the names specified in the `events` array.\n     * @param {string} name A name for the event source\n     * @param {Object} source A new source of platform events.\n     */\n    registerSource: function(name, source) {\n      var s = source;\n      var newEvents = s.events;\n      if (newEvents) {\n        newEvents.forEach(function(e) {\n          if (s[e]) {\n            this.eventMap[e] = s[e].bind(s);\n          }\n        }, this);\n        this.eventSources[name] = s;\n        this.eventSourceList.push(s);\n      }\n    },\n    register: function(element) {\n      var l = this.eventSourceList.length;\n      for (var i = 0, es; (i < l) && (es = this.eventSourceList[i]); i++) {\n\n        // call eventsource register\n        es.register.call(es, element);\n      }\n    },\n    unregister: function(element) {\n      var l = this.eventSourceList.length;\n      for (var i = 0, es; (i < l) && (es = this.eventSourceList[i]); i++) {\n\n        // call eventsource register\n        es.unregister.call(es, element);\n      }\n    },\n    contains: /*scope.external.contains || */function(container, contained) {\n      try {\n        return container.contains(contained);\n      } catch (ex) {\n\n        // most likely: https://bugzilla.mozilla.org/show_bug.cgi?id=208427\n        return false;\n      }\n    },\n\n    // EVENTS\n    down: function(inEvent) {\n      inEvent.bubbles = true;\n      this.fireEvent('pointerdown', inEvent);\n    },\n    move: function(inEvent) {\n      inEvent.bubbles = true;\n      this.fireEvent('pointermove', inEvent);\n    },\n    up: function(inEvent) {\n      inEvent.bubbles = true;\n      this.fireEvent('pointerup', inEvent);\n    },\n    enter: function(inEvent) {\n      inEvent.bubbles = false;\n      this.fireEvent('pointerenter', inEvent);\n    },\n    leave: function(inEvent) {\n      inEvent.bubbles = false;\n      this.fireEvent('pointerleave', inEvent);\n    },\n    over: function(inEvent) {\n      inEvent.bubbles = true;\n      this.fireEvent('pointerover', inEvent);\n    },\n    out: function(inEvent) {\n      inEvent.bubbles = true;\n      this.fireEvent('pointerout', inEvent);\n    },\n    cancel: function(inEvent) {\n      inEvent.bubbles = true;\n      this.fireEvent('pointercancel', inEvent);\n    },\n    leaveOut: function(event) {\n      this.out(event);\n      this.propagate(event, this.leave, false);\n    },\n    enterOver: function(event) {\n      this.over(event);\n      this.propagate(event, this.enter, true);\n    },\n\n    // LISTENER LOGIC\n    eventHandler: function(inEvent) {\n\n      // This is used to prevent multiple dispatch of pointerevents from\n      // platform events. This can happen when two elements in different scopes\n      // are set up to create pointer events, which is relevant to Shadow DOM.\n      if (inEvent._handledByPE) {\n        return;\n      }\n      var type = inEvent.type;\n      var fn = this.eventMap && this.eventMap[type];\n      if (fn) {\n        fn(inEvent);\n      }\n      inEvent._handledByPE = true;\n    },\n\n    // set up event listeners\n    listen: function(target, events) {\n      events.forEach(function(e) {\n        this.addEvent(target, e);\n      }, this);\n    },\n\n    // remove event listeners\n    unlisten: function(target, events) {\n      events.forEach(function(e) {\n        this.removeEvent(target, e);\n      }, this);\n    },\n    addEvent: /*scope.external.addEvent || */function(target, eventName) {\n      target.addEventListener(eventName, this.boundHandler);\n    },\n    removeEvent: /*scope.external.removeEvent || */function(target, eventName) {\n      target.removeEventListener(eventName, this.boundHandler);\n    },\n\n    // EVENT CREATION AND TRACKING\n    /**\n     * Creates a new Event of type `inType`, based on the information in\n     * `inEvent`.\n     *\n     * @param {string} inType A string representing the type of event to create\n     * @param {Event} inEvent A platform event with a target\n     * @return {Event} A PointerEvent of type `inType`\n     */\n    makeEvent: function(inType, inEvent) {\n\n      // relatedTarget must be null if pointer is captured\n      if (this.captureInfo[inEvent.pointerId]) {\n        inEvent.relatedTarget = null;\n      }\n      var e = new PointerEvent(inType, inEvent);\n      if (inEvent.preventDefault) {\n        e.preventDefault = inEvent.preventDefault;\n      }\n      e._target = e._target || inEvent.target;\n      return e;\n    },\n\n    // make and dispatch an event in one call\n    fireEvent: function(inType, inEvent) {\n      var e = this.makeEvent(inType, inEvent);\n      return this.dispatchEvent(e);\n    },\n    /**\n     * Returns a snapshot of inEvent, with writable properties.\n     *\n     * @param {Event} inEvent An event that contains properties to copy.\n     * @return {Object} An object containing shallow copies of `inEvent`'s\n     *    properties.\n     */\n    cloneEvent: function(inEvent) {\n      var eventCopy = Object.create(null);\n      var p;\n      for (var i = 0; i < CLONE_PROPS.length; i++) {\n        p = CLONE_PROPS[i];\n        eventCopy[p] = inEvent[p] || CLONE_DEFAULTS[i];\n\n        // Work around SVGInstanceElement shadow tree\n        // Return the <use> element that is represented by the instance for Safari, Chrome, IE.\n        // This is the behavior implemented by Firefox.\n        if (HAS_SVG_INSTANCE && (p === 'target' || p === 'relatedTarget')) {\n          if (eventCopy[p] instanceof SVGElementInstance) {\n            eventCopy[p] = eventCopy[p].correspondingUseElement;\n          }\n        }\n      }\n\n      // keep the semantics of preventDefault\n      if (inEvent.preventDefault) {\n        eventCopy.preventDefault = function() {\n          inEvent.preventDefault();\n        };\n      }\n      return eventCopy;\n    },\n    getTarget: function(inEvent) {\n      var capture = this.captureInfo[inEvent.pointerId];\n      if (!capture) {\n        return inEvent._target;\n      }\n      if (inEvent._target === capture || !(inEvent.type in BOUNDARY_EVENTS)) {\n        return capture;\n      }\n    },\n    propagate: function(event, fn, propagateDown) {\n      var target = event.target;\n      var targets = [];\n\n      // Order of conditions due to document.contains() missing in IE.\n      while (target !== document && !target.contains(event.relatedTarget)) {\n        targets.push(target);\n        target = target.parentNode;\n\n        // Touch: Do not propagate if node is detached.\n        if (!target) {\n          return;\n        }\n      }\n      if (propagateDown) {\n        targets.reverse();\n      }\n      targets.forEach(function(target) {\n        event.target = target;\n        fn.call(this, event);\n      }, this);\n    },\n    setCapture: function(inPointerId, inTarget, skipDispatch) {\n      if (this.captureInfo[inPointerId]) {\n        this.releaseCapture(inPointerId, skipDispatch);\n      }\n\n      this.captureInfo[inPointerId] = inTarget;\n      this.implicitRelease = this.releaseCapture.bind(this, inPointerId, skipDispatch);\n      document.addEventListener('pointerup', this.implicitRelease);\n      document.addEventListener('pointercancel', this.implicitRelease);\n\n      var e = new PointerEvent('gotpointercapture');\n      e.pointerId = inPointerId;\n      e._target = inTarget;\n\n      if (!skipDispatch) {\n        this.asyncDispatchEvent(e);\n      }\n    },\n    releaseCapture: function(inPointerId, skipDispatch) {\n      var t = this.captureInfo[inPointerId];\n      if (!t) {\n        return;\n      }\n\n      this.captureInfo[inPointerId] = undefined;\n      document.removeEventListener('pointerup', this.implicitRelease);\n      document.removeEventListener('pointercancel', this.implicitRelease);\n\n      var e = new PointerEvent('lostpointercapture');\n      e.pointerId = inPointerId;\n      e._target = t;\n\n      if (!skipDispatch) {\n        this.asyncDispatchEvent(e);\n      }\n    },\n    /**\n     * Dispatches the event to its target.\n     *\n     * @param {Event} inEvent The event to be dispatched.\n     * @return {Boolean} True if an event handler returns true, false otherwise.\n     */\n    dispatchEvent: /*scope.external.dispatchEvent || */function(inEvent) {\n      var t = this.getTarget(inEvent);\n      if (t) {\n        return t.dispatchEvent(inEvent);\n      }\n    },\n    asyncDispatchEvent: function(inEvent) {\n      requestAnimationFrame(this.dispatchEvent.bind(this, inEvent));\n    }\n  };\n  dispatcher.boundHandler = dispatcher.eventHandler.bind(dispatcher);\n\n  var targeting = {\n    shadow: function(inEl) {\n      if (inEl) {\n        return inEl.shadowRoot || inEl.webkitShadowRoot;\n      }\n    },\n    canTarget: function(shadow) {\n      return shadow && Boolean(shadow.elementFromPoint);\n    },\n    targetingShadow: function(inEl) {\n      var s = this.shadow(inEl);\n      if (this.canTarget(s)) {\n        return s;\n      }\n    },\n    olderShadow: function(shadow) {\n      var os = shadow.olderShadowRoot;\n      if (!os) {\n        var se = shadow.querySelector('shadow');\n        if (se) {\n          os = se.olderShadowRoot;\n        }\n      }\n      return os;\n    },\n    allShadows: function(element) {\n      var shadows = [];\n      var s = this.shadow(element);\n      while (s) {\n        shadows.push(s);\n        s = this.olderShadow(s);\n      }\n      return shadows;\n    },\n    searchRoot: function(inRoot, x, y) {\n      if (inRoot) {\n        var t = inRoot.elementFromPoint(x, y);\n        var st, sr;\n\n        // is element a shadow host?\n        sr = this.targetingShadow(t);\n        while (sr) {\n\n          // find the the element inside the shadow root\n          st = sr.elementFromPoint(x, y);\n          if (!st) {\n\n            // check for older shadows\n            sr = this.olderShadow(sr);\n          } else {\n\n            // shadowed element may contain a shadow root\n            var ssr = this.targetingShadow(st);\n            return this.searchRoot(ssr, x, y) || st;\n          }\n        }\n\n        // light dom element is the target\n        return t;\n      }\n    },\n    owner: function(element) {\n      var s = element;\n\n      // walk up until you hit the shadow root or document\n      while (s.parentNode) {\n        s = s.parentNode;\n      }\n\n      // the owner element is expected to be a Document or ShadowRoot\n      if (s.nodeType !== Node.DOCUMENT_NODE && s.nodeType !== Node.DOCUMENT_FRAGMENT_NODE) {\n        s = document;\n      }\n      return s;\n    },\n    findTarget: function(inEvent) {\n      var x = inEvent.clientX;\n      var y = inEvent.clientY;\n\n      // if the listener is in the shadow root, it is much faster to start there\n      var s = this.owner(inEvent.target);\n\n      // if x, y is not in this root, fall back to document search\n      if (!s.elementFromPoint(x, y)) {\n        s = document;\n      }\n      return this.searchRoot(s, x, y);\n    }\n  };\n\n  var forEach = Array.prototype.forEach.call.bind(Array.prototype.forEach);\n  var map = Array.prototype.map.call.bind(Array.prototype.map);\n  var toArray = Array.prototype.slice.call.bind(Array.prototype.slice);\n  var filter = Array.prototype.filter.call.bind(Array.prototype.filter);\n  var MO = window.MutationObserver || window.WebKitMutationObserver;\n  var SELECTOR = '[touch-action]';\n  var OBSERVER_INIT = {\n    subtree: true,\n    childList: true,\n    attributes: true,\n    attributeOldValue: true,\n    attributeFilter: ['touch-action']\n  };\n\n  function Installer(add, remove, changed, binder) {\n    this.addCallback = add.bind(binder);\n    this.removeCallback = remove.bind(binder);\n    this.changedCallback = changed.bind(binder);\n    if (MO) {\n      this.observer = new MO(this.mutationWatcher.bind(this));\n    }\n  }\n\n  Installer.prototype = {\n    watchSubtree: function(target) {\n\n      // Only watch scopes that can target find, as these are top-level.\n      // Otherwise we can see duplicate additions and removals that add noise.\n      //\n      // TODO(dfreedman): For some instances with ShadowDOMPolyfill, we can see\n      // a removal without an insertion when a node is redistributed among\n      // shadows. Since it all ends up correct in the document, watching only\n      // the document will yield the correct mutations to watch.\n      if (this.observer && targeting.canTarget(target)) {\n        this.observer.observe(target, OBSERVER_INIT);\n      }\n    },\n    enableOnSubtree: function(target) {\n      this.watchSubtree(target);\n      if (target === document && document.readyState !== 'complete') {\n        this.installOnLoad();\n      } else {\n        this.installNewSubtree(target);\n      }\n    },\n    installNewSubtree: function(target) {\n      forEach(this.findElements(target), this.addElement, this);\n    },\n    findElements: function(target) {\n      if (target.querySelectorAll) {\n        return target.querySelectorAll(SELECTOR);\n      }\n      return [];\n    },\n    removeElement: function(el) {\n      this.removeCallback(el);\n    },\n    addElement: function(el) {\n      this.addCallback(el);\n    },\n    elementChanged: function(el, oldValue) {\n      this.changedCallback(el, oldValue);\n    },\n    concatLists: function(accum, list) {\n      return accum.concat(toArray(list));\n    },\n\n    // register all touch-action = none nodes on document load\n    installOnLoad: function() {\n      document.addEventListener('readystatechange', function() {\n        if (document.readyState === 'complete') {\n          this.installNewSubtree(document);\n        }\n      }.bind(this));\n    },\n    isElement: function(n) {\n      return n.nodeType === Node.ELEMENT_NODE;\n    },\n    flattenMutationTree: function(inNodes) {\n\n      // find children with touch-action\n      var tree = map(inNodes, this.findElements, this);\n\n      // make sure the added nodes are accounted for\n      tree.push(filter(inNodes, this.isElement));\n\n      // flatten the list\n      return tree.reduce(this.concatLists, []);\n    },\n    mutationWatcher: function(mutations) {\n      mutations.forEach(this.mutationHandler, this);\n    },\n    mutationHandler: function(m) {\n      if (m.type === 'childList') {\n        var added = this.flattenMutationTree(m.addedNodes);\n        added.forEach(this.addElement, this);\n        var removed = this.flattenMutationTree(m.removedNodes);\n        removed.forEach(this.removeElement, this);\n      } else if (m.type === 'attributes') {\n        this.elementChanged(m.target, m.oldValue);\n      }\n    }\n  };\n\n  function shadowSelector(v) {\n    return 'body /shadow-deep/ ' + selector(v);\n  }\n  function selector(v) {\n    return '[touch-action=\"' + v + '\"]';\n  }\n  function rule(v) {\n    return '{ -ms-touch-action: ' + v + '; touch-action: ' + v + '; }';\n  }\n  var attrib2css = [\n    'none',\n    'auto',\n    'pan-x',\n    'pan-y',\n    {\n      rule: 'pan-x pan-y',\n      selectors: [\n        'pan-x pan-y',\n        'pan-y pan-x'\n      ]\n    }\n  ];\n  var styles = '';\n\n  // only install stylesheet if the browser has touch action support\n  var hasNativePE = window.PointerEvent || window.MSPointerEvent;\n\n  // only add shadow selectors if shadowdom is supported\n  var hasShadowRoot = !window.ShadowDOMPolyfill && document.head.createShadowRoot;\n\n  function applyAttributeStyles() {\n    if (hasNativePE) {\n      attrib2css.forEach(function(r) {\n        if (String(r) === r) {\n          styles += selector(r) + rule(r) + '\\n';\n          if (hasShadowRoot) {\n            styles += shadowSelector(r) + rule(r) + '\\n';\n          }\n        } else {\n          styles += r.selectors.map(selector) + rule(r.rule) + '\\n';\n          if (hasShadowRoot) {\n            styles += r.selectors.map(shadowSelector) + rule(r.rule) + '\\n';\n          }\n        }\n      });\n\n      var el = document.createElement('style');\n      el.textContent = styles;\n      document.head.appendChild(el);\n    }\n  }\n\n  var pointermap = dispatcher.pointermap;\n\n  // radius around touchend that swallows mouse events\n  var DEDUP_DIST = 25;\n\n  // left, middle, right, back, forward\n  var BUTTON_TO_BUTTONS = [1, 4, 2, 8, 16];\n\n  var HAS_BUTTONS = false;\n  try {\n    HAS_BUTTONS = new MouseEvent('test', { buttons: 1 }).buttons === 1;\n  } catch (e) {}\n\n  // handler block for native mouse events\n  var mouseEvents = {\n    POINTER_ID: 1,\n    POINTER_TYPE: 'mouse',\n    events: [\n      'mousedown',\n      'mousemove',\n      'mouseup',\n      'mouseover',\n      'mouseout'\n    ],\n    register: function(target) {\n      dispatcher.listen(target, this.events);\n    },\n    unregister: function(target) {\n      dispatcher.unlisten(target, this.events);\n    },\n    lastTouches: [],\n\n    // collide with the global mouse listener\n    isEventSimulatedFromTouch: function(inEvent) {\n      var lts = this.lastTouches;\n      var x = inEvent.clientX;\n      var y = inEvent.clientY;\n      for (var i = 0, l = lts.length, t; i < l && (t = lts[i]); i++) {\n\n        // simulated mouse events will be swallowed near a primary touchend\n        var dx = Math.abs(x - t.x);\n        var dy = Math.abs(y - t.y);\n        if (dx <= DEDUP_DIST && dy <= DEDUP_DIST) {\n          return true;\n        }\n      }\n    },\n    prepareEvent: function(inEvent) {\n      var e = dispatcher.cloneEvent(inEvent);\n\n      // forward mouse preventDefault\n      var pd = e.preventDefault;\n      e.preventDefault = function() {\n        inEvent.preventDefault();\n        pd();\n      };\n      e.pointerId = this.POINTER_ID;\n      e.isPrimary = true;\n      e.pointerType = this.POINTER_TYPE;\n      return e;\n    },\n    prepareButtonsForMove: function(e, inEvent) {\n      var p = pointermap.get(this.POINTER_ID);\n\n      // Update buttons state after possible out-of-document mouseup.\n      if (inEvent.which === 0 || !p) {\n        e.buttons = 0;\n      } else {\n        e.buttons = p.buttons;\n      }\n      inEvent.buttons = e.buttons;\n    },\n    mousedown: function(inEvent) {\n      if (!this.isEventSimulatedFromTouch(inEvent)) {\n        var p = pointermap.get(this.POINTER_ID);\n        var e = this.prepareEvent(inEvent);\n        if (!HAS_BUTTONS) {\n          e.buttons = BUTTON_TO_BUTTONS[e.button];\n          if (p) { e.buttons |= p.buttons; }\n          inEvent.buttons = e.buttons;\n        }\n        pointermap.set(this.POINTER_ID, inEvent);\n        if (!p || p.buttons === 0) {\n          dispatcher.down(e);\n        } else {\n          dispatcher.move(e);\n        }\n      }\n    },\n    mousemove: function(inEvent) {\n      if (!this.isEventSimulatedFromTouch(inEvent)) {\n        var e = this.prepareEvent(inEvent);\n        if (!HAS_BUTTONS) { this.prepareButtonsForMove(e, inEvent); }\n        e.button = -1;\n        pointermap.set(this.POINTER_ID, inEvent);\n        dispatcher.move(e);\n      }\n    },\n    mouseup: function(inEvent) {\n      if (!this.isEventSimulatedFromTouch(inEvent)) {\n        var p = pointermap.get(this.POINTER_ID);\n        var e = this.prepareEvent(inEvent);\n        if (!HAS_BUTTONS) {\n          var up = BUTTON_TO_BUTTONS[e.button];\n\n          // Produces wrong state of buttons in Browsers without `buttons` support\n          // when a mouse button that was pressed outside the document is released\n          // inside and other buttons are still pressed down.\n          e.buttons = p ? p.buttons & ~up : 0;\n          inEvent.buttons = e.buttons;\n        }\n        pointermap.set(this.POINTER_ID, inEvent);\n\n        // Support: Firefox <=44 only\n        // FF Ubuntu includes the lifted button in the `buttons` property on\n        // mouseup.\n        // https://bugzilla.mozilla.org/show_bug.cgi?id=1223366\n        e.buttons &= ~BUTTON_TO_BUTTONS[e.button];\n        if (e.buttons === 0) {\n          dispatcher.up(e);\n        } else {\n          dispatcher.move(e);\n        }\n      }\n    },\n    mouseover: function(inEvent) {\n      if (!this.isEventSimulatedFromTouch(inEvent)) {\n        var e = this.prepareEvent(inEvent);\n        if (!HAS_BUTTONS) { this.prepareButtonsForMove(e, inEvent); }\n        e.button = -1;\n        pointermap.set(this.POINTER_ID, inEvent);\n        dispatcher.enterOver(e);\n      }\n    },\n    mouseout: function(inEvent) {\n      if (!this.isEventSimulatedFromTouch(inEvent)) {\n        var e = this.prepareEvent(inEvent);\n        if (!HAS_BUTTONS) { this.prepareButtonsForMove(e, inEvent); }\n        e.button = -1;\n        dispatcher.leaveOut(e);\n      }\n    },\n    cancel: function(inEvent) {\n      var e = this.prepareEvent(inEvent);\n      dispatcher.cancel(e);\n      this.deactivateMouse();\n    },\n    deactivateMouse: function() {\n      pointermap.delete(this.POINTER_ID);\n    }\n  };\n\n  var captureInfo = dispatcher.captureInfo;\n  var findTarget = targeting.findTarget.bind(targeting);\n  var allShadows = targeting.allShadows.bind(targeting);\n  var pointermap$1 = dispatcher.pointermap;\n\n  // This should be long enough to ignore compat mouse events made by touch\n  var DEDUP_TIMEOUT = 2500;\n  var CLICK_COUNT_TIMEOUT = 200;\n  var ATTRIB = 'touch-action';\n  var INSTALLER;\n\n  // handler block for native touch events\n  var touchEvents = {\n    events: [\n      'touchstart',\n      'touchmove',\n      'touchend',\n      'touchcancel'\n    ],\n    register: function(target) {\n      INSTALLER.enableOnSubtree(target);\n    },\n    unregister: function() {\n\n      // TODO(dfreedman): is it worth it to disconnect the MO?\n    },\n    elementAdded: function(el) {\n      var a = el.getAttribute(ATTRIB);\n      var st = this.touchActionToScrollType(a);\n      if (st) {\n        el._scrollType = st;\n        dispatcher.listen(el, this.events);\n\n        // set touch-action on shadows as well\n        allShadows(el).forEach(function(s) {\n          s._scrollType = st;\n          dispatcher.listen(s, this.events);\n        }, this);\n      }\n    },\n    elementRemoved: function(el) {\n      el._scrollType = undefined;\n      dispatcher.unlisten(el, this.events);\n\n      // remove touch-action from shadow\n      allShadows(el).forEach(function(s) {\n        s._scrollType = undefined;\n        dispatcher.unlisten(s, this.events);\n      }, this);\n    },\n    elementChanged: function(el, oldValue) {\n      var a = el.getAttribute(ATTRIB);\n      var st = this.touchActionToScrollType(a);\n      var oldSt = this.touchActionToScrollType(oldValue);\n\n      // simply update scrollType if listeners are already established\n      if (st && oldSt) {\n        el._scrollType = st;\n        allShadows(el).forEach(function(s) {\n          s._scrollType = st;\n        }, this);\n      } else if (oldSt) {\n        this.elementRemoved(el);\n      } else if (st) {\n        this.elementAdded(el);\n      }\n    },\n    scrollTypes: {\n      EMITTER: 'none',\n      XSCROLLER: 'pan-x',\n      YSCROLLER: 'pan-y',\n      SCROLLER: /^(?:pan-x pan-y)|(?:pan-y pan-x)|auto$/\n    },\n    touchActionToScrollType: function(touchAction) {\n      var t = touchAction;\n      var st = this.scrollTypes;\n      if (t === 'none') {\n        return 'none';\n      } else if (t === st.XSCROLLER) {\n        return 'X';\n      } else if (t === st.YSCROLLER) {\n        return 'Y';\n      } else if (st.SCROLLER.exec(t)) {\n        return 'XY';\n      }\n    },\n    POINTER_TYPE: 'touch',\n    firstTouch: null,\n    isPrimaryTouch: function(inTouch) {\n      return this.firstTouch === inTouch.identifier;\n    },\n    setPrimaryTouch: function(inTouch) {\n\n      // set primary touch if there no pointers, or the only pointer is the mouse\n      if (pointermap$1.size === 0 || (pointermap$1.size === 1 && pointermap$1.has(1))) {\n        this.firstTouch = inTouch.identifier;\n        this.firstXY = { X: inTouch.clientX, Y: inTouch.clientY };\n        this.scrolling = false;\n        this.cancelResetClickCount();\n      }\n    },\n    removePrimaryPointer: function(inPointer) {\n      if (inPointer.isPrimary) {\n        this.firstTouch = null;\n        this.firstXY = null;\n        this.resetClickCount();\n      }\n    },\n    clickCount: 0,\n    resetId: null,\n    resetClickCount: function() {\n      var fn = function() {\n        this.clickCount = 0;\n        this.resetId = null;\n      }.bind(this);\n      this.resetId = setTimeout(fn, CLICK_COUNT_TIMEOUT);\n    },\n    cancelResetClickCount: function() {\n      if (this.resetId) {\n        clearTimeout(this.resetId);\n      }\n    },\n    typeToButtons: function(type) {\n      var ret = 0;\n      if (type === 'touchstart' || type === 'touchmove') {\n        ret = 1;\n      }\n      return ret;\n    },\n    touchToPointer: function(inTouch) {\n      var cte = this.currentTouchEvent;\n      var e = dispatcher.cloneEvent(inTouch);\n\n      // We reserve pointerId 1 for Mouse.\n      // Touch identifiers can start at 0.\n      // Add 2 to the touch identifier for compatibility.\n      var id = e.pointerId = inTouch.identifier + 2;\n      e.target = captureInfo[id] || findTarget(e);\n      e.bubbles = true;\n      e.cancelable = true;\n      e.detail = this.clickCount;\n      e.button = 0;\n      e.buttons = this.typeToButtons(cte.type);\n      e.width = (inTouch.radiusX || inTouch.webkitRadiusX || 0) * 2;\n      e.height = (inTouch.radiusY || inTouch.webkitRadiusY || 0) * 2;\n      e.pressure = inTouch.force || inTouch.webkitForce || 0.5;\n      e.isPrimary = this.isPrimaryTouch(inTouch);\n      e.pointerType = this.POINTER_TYPE;\n\n      // forward modifier keys\n      e.altKey = cte.altKey;\n      e.ctrlKey = cte.ctrlKey;\n      e.metaKey = cte.metaKey;\n      e.shiftKey = cte.shiftKey;\n\n      // forward touch preventDefaults\n      var self = this;\n      e.preventDefault = function() {\n        self.scrolling = false;\n        self.firstXY = null;\n        cte.preventDefault();\n      };\n      return e;\n    },\n    processTouches: function(inEvent, inFunction) {\n      var tl = inEvent.changedTouches;\n      this.currentTouchEvent = inEvent;\n      for (var i = 0, t; i < tl.length; i++) {\n        t = tl[i];\n        inFunction.call(this, this.touchToPointer(t));\n      }\n    },\n\n    // For single axis scrollers, determines whether the element should emit\n    // pointer events or behave as a scroller\n    shouldScroll: function(inEvent) {\n      if (this.firstXY) {\n        var ret;\n        var scrollAxis = inEvent.currentTarget._scrollType;\n        if (scrollAxis === 'none') {\n\n          // this element is a touch-action: none, should never scroll\n          ret = false;\n        } else if (scrollAxis === 'XY') {\n\n          // this element should always scroll\n          ret = true;\n        } else {\n          var t = inEvent.changedTouches[0];\n\n          // check the intended scroll axis, and other axis\n          var a = scrollAxis;\n          var oa = scrollAxis === 'Y' ? 'X' : 'Y';\n          var da = Math.abs(t['client' + a] - this.firstXY[a]);\n          var doa = Math.abs(t['client' + oa] - this.firstXY[oa]);\n\n          // if delta in the scroll axis > delta other axis, scroll instead of\n          // making events\n          ret = da >= doa;\n        }\n        this.firstXY = null;\n        return ret;\n      }\n    },\n    findTouch: function(inTL, inId) {\n      for (var i = 0, l = inTL.length, t; i < l && (t = inTL[i]); i++) {\n        if (t.identifier === inId) {\n          return true;\n        }\n      }\n    },\n\n    // In some instances, a touchstart can happen without a touchend. This\n    // leaves the pointermap in a broken state.\n    // Therefore, on every touchstart, we remove the touches that did not fire a\n    // touchend event.\n    // To keep state globally consistent, we fire a\n    // pointercancel for this \"abandoned\" touch\n    vacuumTouches: function(inEvent) {\n      var tl = inEvent.touches;\n\n      // pointermap.size should be < tl.length here, as the touchstart has not\n      // been processed yet.\n      if (pointermap$1.size >= tl.length) {\n        var d = [];\n        pointermap$1.forEach(function(value, key) {\n\n          // Never remove pointerId == 1, which is mouse.\n          // Touch identifiers are 2 smaller than their pointerId, which is the\n          // index in pointermap.\n          if (key !== 1 && !this.findTouch(tl, key - 2)) {\n            var p = value.out;\n            d.push(p);\n          }\n        }, this);\n        d.forEach(this.cancelOut, this);\n      }\n    },\n    touchstart: function(inEvent) {\n      this.vacuumTouches(inEvent);\n      this.setPrimaryTouch(inEvent.changedTouches[0]);\n      this.dedupSynthMouse(inEvent);\n      if (!this.scrolling) {\n        this.clickCount++;\n        this.processTouches(inEvent, this.overDown);\n      }\n    },\n    overDown: function(inPointer) {\n      pointermap$1.set(inPointer.pointerId, {\n        target: inPointer.target,\n        out: inPointer,\n        outTarget: inPointer.target\n      });\n      dispatcher.enterOver(inPointer);\n      dispatcher.down(inPointer);\n    },\n    touchmove: function(inEvent) {\n      if (!this.scrolling) {\n        if (this.shouldScroll(inEvent)) {\n          this.scrolling = true;\n          this.touchcancel(inEvent);\n        } else {\n          inEvent.preventDefault();\n          this.processTouches(inEvent, this.moveOverOut);\n        }\n      }\n    },\n    moveOverOut: function(inPointer) {\n      var event = inPointer;\n      var pointer = pointermap$1.get(event.pointerId);\n\n      // a finger drifted off the screen, ignore it\n      if (!pointer) {\n        return;\n      }\n      var outEvent = pointer.out;\n      var outTarget = pointer.outTarget;\n      dispatcher.move(event);\n      if (outEvent && outTarget !== event.target) {\n        outEvent.relatedTarget = event.target;\n        event.relatedTarget = outTarget;\n\n        // recover from retargeting by shadow\n        outEvent.target = outTarget;\n        if (event.target) {\n          dispatcher.leaveOut(outEvent);\n          dispatcher.enterOver(event);\n        } else {\n\n          // clean up case when finger leaves the screen\n          event.target = outTarget;\n          event.relatedTarget = null;\n          this.cancelOut(event);\n        }\n      }\n      pointer.out = event;\n      pointer.outTarget = event.target;\n    },\n    touchend: function(inEvent) {\n      this.dedupSynthMouse(inEvent);\n      this.processTouches(inEvent, this.upOut);\n    },\n    upOut: function(inPointer) {\n      if (!this.scrolling) {\n        dispatcher.up(inPointer);\n        dispatcher.leaveOut(inPointer);\n      }\n      this.cleanUpPointer(inPointer);\n    },\n    touchcancel: function(inEvent) {\n      this.processTouches(inEvent, this.cancelOut);\n    },\n    cancelOut: function(inPointer) {\n      dispatcher.cancel(inPointer);\n      dispatcher.leaveOut(inPointer);\n      this.cleanUpPointer(inPointer);\n    },\n    cleanUpPointer: function(inPointer) {\n      pointermap$1.delete(inPointer.pointerId);\n      this.removePrimaryPointer(inPointer);\n    },\n\n    // prevent synth mouse events from creating pointer events\n    dedupSynthMouse: function(inEvent) {\n      var lts = mouseEvents.lastTouches;\n      var t = inEvent.changedTouches[0];\n\n      // only the primary finger will synth mouse events\n      if (this.isPrimaryTouch(t)) {\n\n        // remember x/y of last touch\n        var lt = { x: t.clientX, y: t.clientY };\n        lts.push(lt);\n        var fn = (function(lts, lt) {\n          var i = lts.indexOf(lt);\n          if (i > -1) {\n            lts.splice(i, 1);\n          }\n        }).bind(null, lts, lt);\n        setTimeout(fn, DEDUP_TIMEOUT);\n      }\n    }\n  };\n\n  INSTALLER = new Installer(touchEvents.elementAdded, touchEvents.elementRemoved,\n    touchEvents.elementChanged, touchEvents);\n\n  var pointermap$2 = dispatcher.pointermap;\n  var HAS_BITMAP_TYPE = window.MSPointerEvent &&\n    typeof window.MSPointerEvent.MSPOINTER_TYPE_MOUSE === 'number';\n  var msEvents = {\n    events: [\n      'MSPointerDown',\n      'MSPointerMove',\n      'MSPointerUp',\n      'MSPointerOut',\n      'MSPointerOver',\n      'MSPointerCancel',\n      'MSGotPointerCapture',\n      'MSLostPointerCapture'\n    ],\n    register: function(target) {\n      dispatcher.listen(target, this.events);\n    },\n    unregister: function(target) {\n      dispatcher.unlisten(target, this.events);\n    },\n    POINTER_TYPES: [\n      '',\n      'unavailable',\n      'touch',\n      'pen',\n      'mouse'\n    ],\n    prepareEvent: function(inEvent) {\n      var e = inEvent;\n      if (HAS_BITMAP_TYPE) {\n        e = dispatcher.cloneEvent(inEvent);\n        e.pointerType = this.POINTER_TYPES[inEvent.pointerType];\n      }\n      return e;\n    },\n    cleanup: function(id) {\n      pointermap$2.delete(id);\n    },\n    MSPointerDown: function(inEvent) {\n      pointermap$2.set(inEvent.pointerId, inEvent);\n      var e = this.prepareEvent(inEvent);\n      dispatcher.down(e);\n    },\n    MSPointerMove: function(inEvent) {\n      var e = this.prepareEvent(inEvent);\n      dispatcher.move(e);\n    },\n    MSPointerUp: function(inEvent) {\n      var e = this.prepareEvent(inEvent);\n      dispatcher.up(e);\n      this.cleanup(inEvent.pointerId);\n    },\n    MSPointerOut: function(inEvent) {\n      var e = this.prepareEvent(inEvent);\n      dispatcher.leaveOut(e);\n    },\n    MSPointerOver: function(inEvent) {\n      var e = this.prepareEvent(inEvent);\n      dispatcher.enterOver(e);\n    },\n    MSPointerCancel: function(inEvent) {\n      var e = this.prepareEvent(inEvent);\n      dispatcher.cancel(e);\n      this.cleanup(inEvent.pointerId);\n    },\n    MSLostPointerCapture: function(inEvent) {\n      var e = dispatcher.makeEvent('lostpointercapture', inEvent);\n      dispatcher.dispatchEvent(e);\n    },\n    MSGotPointerCapture: function(inEvent) {\n      var e = dispatcher.makeEvent('gotpointercapture', inEvent);\n      dispatcher.dispatchEvent(e);\n    }\n  };\n\n  function applyPolyfill() {\n\n    // only activate if this platform does not have pointer events\n    if (!window.PointerEvent) {\n      window.PointerEvent = PointerEvent;\n\n      if (window.navigator.msPointerEnabled) {\n        var tp = window.navigator.msMaxTouchPoints;\n        Object.defineProperty(window.navigator, 'maxTouchPoints', {\n          value: tp,\n          enumerable: true\n        });\n        dispatcher.registerSource('ms', msEvents);\n      } else {\n        Object.defineProperty(window.navigator, 'maxTouchPoints', {\n          value: 0,\n          enumerable: true\n        });\n        dispatcher.registerSource('mouse', mouseEvents);\n        if (window.ontouchstart !== undefined) {\n          dispatcher.registerSource('touch', touchEvents);\n        }\n      }\n\n      dispatcher.register(document);\n    }\n  }\n\n  var n = window.navigator;\n  var s;\n  var r;\n  var h;\n  function assertActive(id) {\n    if (!dispatcher.pointermap.has(id)) {\n      var error = new Error('InvalidPointerId');\n      error.name = 'InvalidPointerId';\n      throw error;\n    }\n  }\n  function assertConnected(elem) {\n    var parent = elem.parentNode;\n    while (parent && parent !== elem.ownerDocument) {\n      parent = parent.parentNode;\n    }\n    if (!parent) {\n      var error = new Error('InvalidStateError');\n      error.name = 'InvalidStateError';\n      throw error;\n    }\n  }\n  function inActiveButtonState(id) {\n    var p = dispatcher.pointermap.get(id);\n    return p.buttons !== 0;\n  }\n  if (n.msPointerEnabled) {\n    s = function(pointerId) {\n      assertActive(pointerId);\n      assertConnected(this);\n      if (inActiveButtonState(pointerId)) {\n        dispatcher.setCapture(pointerId, this, true);\n        this.msSetPointerCapture(pointerId);\n      }\n    };\n    r = function(pointerId) {\n      assertActive(pointerId);\n      dispatcher.releaseCapture(pointerId, true);\n      this.msReleasePointerCapture(pointerId);\n    };\n  } else {\n    s = function setPointerCapture(pointerId) {\n      assertActive(pointerId);\n      assertConnected(this);\n      if (inActiveButtonState(pointerId)) {\n        dispatcher.setCapture(pointerId, this);\n      }\n    };\n    r = function releasePointerCapture(pointerId) {\n      assertActive(pointerId);\n      dispatcher.releaseCapture(pointerId);\n    };\n  }\n  h = function hasPointerCapture(pointerId) {\n    return !!dispatcher.captureInfo[pointerId];\n  };\n\n  function applyPolyfill$1() {\n    if (window.Element && !Element.prototype.setPointerCapture) {\n      Object.defineProperties(Element.prototype, {\n        'setPointerCapture': {\n          value: s\n        },\n        'releasePointerCapture': {\n          value: r\n        },\n        'hasPointerCapture': {\n          value: h\n        }\n      });\n    }\n  }\n\n  applyAttributeStyles();\n  applyPolyfill();\n  applyPolyfill$1();\n\n  var pointerevents = {\n    dispatcher: dispatcher,\n    Installer: Installer,\n    PointerEvent: PointerEvent,\n    PointerMap: PointerMap,\n    targetFinding: targeting\n  };\n\n  return pointerevents;\n\n}));\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/pepjs/dist/pep.js\n// module id = ./node_modules/pepjs/dist/pep.js\n// module chunks = main","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/process/browser.js\n// module id = ./node_modules/process/browser.js\n// module chunks = main","(function (global, undefined) {\n    \"use strict\";\n\n    if (global.setImmediate) {\n        return;\n    }\n\n    var nextHandle = 1; // Spec says greater than zero\n    var tasksByHandle = {};\n    var currentlyRunningATask = false;\n    var doc = global.document;\n    var registerImmediate;\n\n    function setImmediate(callback) {\n      // Callback can either be a function or a string\n      if (typeof callback !== \"function\") {\n        callback = new Function(\"\" + callback);\n      }\n      // Copy function arguments\n      var args = new Array(arguments.length - 1);\n      for (var i = 0; i < args.length; i++) {\n          args[i] = arguments[i + 1];\n      }\n      // Store and register the task\n      var task = { callback: callback, args: args };\n      tasksByHandle[nextHandle] = task;\n      registerImmediate(nextHandle);\n      return nextHandle++;\n    }\n\n    function clearImmediate(handle) {\n        delete tasksByHandle[handle];\n    }\n\n    function run(task) {\n        var callback = task.callback;\n        var args = task.args;\n        switch (args.length) {\n        case 0:\n            callback();\n            break;\n        case 1:\n            callback(args[0]);\n            break;\n        case 2:\n            callback(args[0], args[1]);\n            break;\n        case 3:\n            callback(args[0], args[1], args[2]);\n            break;\n        default:\n            callback.apply(undefined, args);\n            break;\n        }\n    }\n\n    function runIfPresent(handle) {\n        // From the spec: \"Wait until any invocations of this algorithm started before this one have completed.\"\n        // So if we're currently running a task, we'll need to delay this invocation.\n        if (currentlyRunningATask) {\n            // Delay by doing a setTimeout. setImmediate was tried instead, but in Firefox 7 it generated a\n            // \"too much recursion\" error.\n            setTimeout(runIfPresent, 0, handle);\n        } else {\n            var task = tasksByHandle[handle];\n            if (task) {\n                currentlyRunningATask = true;\n                try {\n                    run(task);\n                } finally {\n                    clearImmediate(handle);\n                    currentlyRunningATask = false;\n                }\n            }\n        }\n    }\n\n    function installNextTickImplementation() {\n        registerImmediate = function(handle) {\n            process.nextTick(function () { runIfPresent(handle); });\n        };\n    }\n\n    function canUsePostMessage() {\n        // The test against `importScripts` prevents this implementation from being installed inside a web worker,\n        // where `global.postMessage` means something completely different and can't be used for this purpose.\n        if (global.postMessage && !global.importScripts) {\n            var postMessageIsAsynchronous = true;\n            var oldOnMessage = global.onmessage;\n            global.onmessage = function() {\n                postMessageIsAsynchronous = false;\n            };\n            global.postMessage(\"\", \"*\");\n            global.onmessage = oldOnMessage;\n            return postMessageIsAsynchronous;\n        }\n    }\n\n    function installPostMessageImplementation() {\n        // Installs an event handler on `global` for the `message` event: see\n        // * https://developer.mozilla.org/en/DOM/window.postMessage\n        // * http://www.whatwg.org/specs/web-apps/current-work/multipage/comms.html#crossDocumentMessages\n\n        var messagePrefix = \"setImmediate$\" + Math.random() + \"$\";\n        var onGlobalMessage = function(event) {\n            if (event.source === global &&\n                typeof event.data === \"string\" &&\n                event.data.indexOf(messagePrefix) === 0) {\n                runIfPresent(+event.data.slice(messagePrefix.length));\n            }\n        };\n\n        if (global.addEventListener) {\n            global.addEventListener(\"message\", onGlobalMessage, false);\n        } else {\n            global.attachEvent(\"onmessage\", onGlobalMessage);\n        }\n\n        registerImmediate = function(handle) {\n            global.postMessage(messagePrefix + handle, \"*\");\n        };\n    }\n\n    function installMessageChannelImplementation() {\n        var channel = new MessageChannel();\n        channel.port1.onmessage = function(event) {\n            var handle = event.data;\n            runIfPresent(handle);\n        };\n\n        registerImmediate = function(handle) {\n            channel.port2.postMessage(handle);\n        };\n    }\n\n    function installReadyStateChangeImplementation() {\n        var html = doc.documentElement;\n        registerImmediate = function(handle) {\n            // Create a <script> element; its readystatechange event will be fired asynchronously once it is inserted\n            // into the document. Do so, thus queuing up the task. Remember to clean up once it's been called.\n            var script = doc.createElement(\"script\");\n            script.onreadystatechange = function () {\n                runIfPresent(handle);\n                script.onreadystatechange = null;\n                html.removeChild(script);\n                script = null;\n            };\n            html.appendChild(script);\n        };\n    }\n\n    function installSetTimeoutImplementation() {\n        registerImmediate = function(handle) {\n            setTimeout(runIfPresent, 0, handle);\n        };\n    }\n\n    // If supported, we should attach to the prototype of global, since that is where setTimeout et al. live.\n    var attachTo = Object.getPrototypeOf && Object.getPrototypeOf(global);\n    attachTo = attachTo && attachTo.setTimeout ? attachTo : global;\n\n    // Don't get fooled by e.g. browserify environments.\n    if ({}.toString.call(global.process) === \"[object process]\") {\n        // For Node.js before 0.9\n        installNextTickImplementation();\n\n    } else if (canUsePostMessage()) {\n        // For non-IE10 modern browsers\n        installPostMessageImplementation();\n\n    } else if (global.MessageChannel) {\n        // For web workers, where supported\n        installMessageChannelImplementation();\n\n    } else if (doc && \"onreadystatechange\" in doc.createElement(\"script\")) {\n        // For IE 6–8\n        installReadyStateChangeImplementation();\n\n    } else {\n        // For older browsers\n        installSetTimeoutImplementation();\n    }\n\n    attachTo.setImmediate = setImmediate;\n    attachTo.clearImmediate = clearImmediate;\n}(typeof self === \"undefined\" ? typeof global === \"undefined\" ? this : global : self));\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/setimmediate/setImmediate.js\n// module id = ./node_modules/setimmediate/setImmediate.js\n// module chunks = main","var apply = Function.prototype.apply;\n\n// DOM APIs, for completeness\n\nexports.setTimeout = function() {\n  return new Timeout(apply.call(setTimeout, window, arguments), clearTimeout);\n};\nexports.setInterval = function() {\n  return new Timeout(apply.call(setInterval, window, arguments), clearInterval);\n};\nexports.clearTimeout =\nexports.clearInterval = function(timeout) {\n  if (timeout) {\n    timeout.close();\n  }\n};\n\nfunction Timeout(id, clearFn) {\n  this._id = id;\n  this._clearFn = clearFn;\n}\nTimeout.prototype.unref = Timeout.prototype.ref = function() {};\nTimeout.prototype.close = function() {\n  this._clearFn.call(window, this._id);\n};\n\n// Does not start the time, just sets up the members needed.\nexports.enroll = function(item, msecs) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = msecs;\n};\n\nexports.unenroll = function(item) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = -1;\n};\n\nexports._unrefActive = exports.active = function(item) {\n  clearTimeout(item._idleTimeoutId);\n\n  var msecs = item._idleTimeout;\n  if (msecs >= 0) {\n    item._idleTimeoutId = setTimeout(function onTimeout() {\n      if (item._onTimeout)\n        item._onTimeout();\n    }, msecs);\n  }\n};\n\n// setimmediate attaches itself to the global object\nrequire(\"setimmediate\");\nexports.setImmediate = setImmediate;\nexports.clearImmediate = clearImmediate;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/timers-browserify/main.js\n// module id = ./node_modules/timers-browserify/main.js\n// module chunks = main","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = Object.setPrototypeOf ||\r\n    ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n    function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = Object.assign || function __assign(t) {\r\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n        s = arguments[i];\r\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n    }\r\n    return t;\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\r\n            t[p[i]] = s[p[i]];\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = y[op[0] & 2 ? \"return\" : op[0] ? \"throw\" : \"next\"]) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [0, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r);  }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { if (o[n]) i[n] = function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; }; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator];\r\n    return m ? m.call(o) : typeof __values === \"function\" ? __values(o) : o[Symbol.iterator]();\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/tslib/tslib.es6.js\n// module id = ./node_modules/tslib/tslib.es6.js\n// module chunks = main","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || Function(\"return this\")() || (1,eval)(\"this\");\n} catch(e) {\n\t// This works if the window reference is available\n\tif(typeof window === \"object\")\n\t\tg = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/buildin/global.js\n// module id = ./node_modules/webpack/buildin/global.js\n// module chunks = main","import { WidgetBase } from '@dojo/widget-core/WidgetBase';\nimport { w } from '@dojo/widget-core/d';\n\nimport { HeaderContainer } from './containers/HeaderContainer';\nimport { HomeOutlet } from './outlets/HomeOutlet';\nimport { LoginOutlet } from './outlets/LoginOutlet';\nimport { UserProfileOutlet, FavProfileOutlet } from './outlets/ProfileOutlet';\nimport { RegisterOutlet } from './outlets/RegisterOutlet';\nimport { EditorEditOutlet, EditorNewOutlet } from './outlets/EditorOutlet';\nimport { ArticleOutlet } from './outlets/ArticleOutlet';\nimport { SettingsOutlet } from './outlets/SettingsOutlet';\n\nexport class App extends WidgetBase {\n\tprotected render() {\n\t\treturn [\n\t\t\tw(HeaderContainer, {}),\n\t\t\tw(LoginOutlet, {}),\n\t\t\tw(RegisterOutlet, {}),\n\t\t\tw(UserProfileOutlet, {}),\n\t\t\tw(FavProfileOutlet, {}),\n\t\t\tw(EditorEditOutlet, {}),\n\t\t\tw(EditorNewOutlet, {}),\n\t\t\tw(ArticleOutlet, {}),\n\t\t\tw(SettingsOutlet, {}),\n\t\t\tw(HomeOutlet, {})\n\t\t];\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./node_modules/@dojo/webpack-contrib/css-module-dts-loader?type=ts&instanceName=0_dojo!./src/App.ts","import { Store } from '@dojo/stores/Store';\nimport { State } from './interfaces';\nimport { Params, MatchType } from '@dojo/routing/interfaces';\nimport { getEditorArticleProcess, clearEditorProcess } from './processes/editorProcesses';\nimport { getUserSettingsProcess } from './processes/settingsProcesses';\nimport { getArticleProcess } from './processes/articleProcesses';\nimport { getProfileProcess } from './processes/profileProcesses';\nimport { fetchFeedProcess } from './processes/feedProcesses';\n\nexport const baseUrl = 'https://conduit.productionready.io/api';\n\n/**\n * Returns the route configuration for the application\n *\n * @param store The application store used for onEnter and onExit actions\n */\nexport function getRouteConfig(store: Store<State>) {\n\tconst config = [\n\t\t{\n\t\t\tpath: 'login',\n\t\t\toutlet: 'login'\n\t\t},\n\t\t{\n\t\t\tpath: 'register',\n\t\t\toutlet: 'register'\n\t\t},\n\t\t{\n\t\t\tpath: 'user/{username}',\n\t\t\toutlet: 'user',\n\t\t\tonEnter: ({ username }: Params, type: MatchType) => {\n\t\t\t\tif (type === 'index') {\n\t\t\t\t\tgetProfileProcess(store)({ username });\n\t\t\t\t\tfetchFeedProcess(store)({ type: 'user', page: 0, filter: username });\n\t\t\t\t}\n\t\t\t},\n\t\t\tchildren: [\n\t\t\t\t{\n\t\t\t\t\tpath: 'favorites',\n\t\t\t\t\toutlet: 'favorites',\n\t\t\t\t\tonEnter: ({ username }: Params) => {\n\t\t\t\t\t\tgetProfileProcess(store)({ username });\n\t\t\t\t\t\tfetchFeedProcess(store)({ type: 'favorites', page: 0, filter: username });\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\tpath: 'article/{slug}',\n\t\t\toutlet: 'article',\n\t\t\tonEnter: ({ slug }: Params) => {\n\t\t\t\tgetArticleProcess(store)({ slug });\n\t\t\t}\n\t\t},\n\t\t{\n\t\t\tpath: 'settings',\n\t\t\toutlet: 'settings',\n\t\t\tonEnter: () => {\n\t\t\t\tgetUserSettingsProcess(store)({});\n\t\t\t}\n\t\t},\n\t\t{\n\t\t\tpath: 'editor',\n\t\t\toutlet: 'new-post',\n\t\t\tchildren: [\n\t\t\t\t{\n\t\t\t\t\tpath: 'editor/{slug}',\n\t\t\t\t\toutlet: 'edit-post',\n\t\t\t\t\tonEnter: ({ slug }: Params) => {\n\t\t\t\t\t\tgetEditorArticleProcess(store)({ slug });\n\t\t\t\t\t},\n\t\t\t\t\tonExit: () => {\n\t\t\t\t\t\tclearEditorProcess(store)({});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\tpath: '/',\n\t\t\toutlet: 'home',\n\t\t\tonEnter: () => {\n\t\t\t\tconst isAuthenticated = !!store.get(store.path('user', 'token'));\n\t\t\t\tfetchFeedProcess(store)({ type: isAuthenticated ? 'feed' : 'global', page: 0, filter: '' });\n\t\t\t}\n\t\t}\n\t];\n\treturn config;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./node_modules/@dojo/webpack-contrib/css-module-dts-loader?type=ts&instanceName=0_dojo!./src/config.ts","import { Container } from '@dojo/widget-core/Container';\nimport { Store } from '@dojo/stores/Store';\nimport { Feeds, FeedsProperties } from './../widgets/Feeds';\nimport { fetchFeedProcess, favoriteFeedArticleProcess } from './../processes/feedProcesses';\n\nimport { State } from './../interfaces';\n\nfunction getProperties(store: Store<State>, properties: FeedsProperties): FeedsProperties {\n\tconst { get, path } = store;\n\tconst loading = get(path('feed', 'loading'));\n\tconst isAuthenticated = !!get(path('user', 'token'));\n\tconst username = properties.username || get(path('user', 'username'));\n\tconst defaultType = isAuthenticated ? 'feed' : 'global';\n\tconst type = properties.type ? properties.type : get(path('feed', 'category')) || defaultType;\n\n\treturn {\n\t\titems: get(path('feed', 'items')),\n\t\ttype,\n\t\tloading,\n\t\tusername,\n\t\tisAuthenticated,\n\t\ttagName: get(path('feed', 'tagName')),\n\t\ttotal: get(path('feed', 'total')),\n\t\tcurrentPage: get(path('feed', 'pageNumber')),\n\t\tfetchFeed: fetchFeedProcess(store),\n\t\tfavoriteArticle: favoriteFeedArticleProcess(store)\n\t};\n}\n\nexport const FeedsContainer = Container(Feeds, 'state', { getProperties });\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./node_modules/@dojo/webpack-contrib/css-module-dts-loader?type=ts&instanceName=0_dojo!./src/containers/FeedsContainer.ts","import { Container } from '@dojo/widget-core/Container';\nimport { Store } from '@dojo/stores/Store';\nimport { Header, HeaderProperties } from './../widgets/Header';\nimport { State } from '../interfaces';\n\nfunction getProperties(store: Store<State>): HeaderProperties {\n\tconst { get, path } = store;\n\n\treturn {\n\t\troute: get(path('routing', 'outlet')),\n\t\tisAuthenticated: !!get(path('user', 'token')),\n\t\tloggedInUser: get(path('user', 'username'))\n\t};\n}\n\nexport const HeaderContainer = Container(Header, 'state', { getProperties });\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./node_modules/@dojo/webpack-contrib/css-module-dts-loader?type=ts&instanceName=0_dojo!./src/containers/HeaderContainer.ts","import { Container } from '@dojo/widget-core/Container';\nimport { Store } from '@dojo/stores/Store';\nimport { Tags, TagsProperties } from './../widgets/Tags';\nimport { fetchFeedProcess } from '../processes/feedProcesses';\nimport { State } from '../interfaces';\n\nfunction getProperties(store: Store<State>): TagsProperties {\n\tconst { get, path } = store;\n\treturn {\n\t\ttags: get(path('tags')) || [],\n\t\tfetchFeed: fetchFeedProcess(store)\n\t};\n}\n\nexport const TagsContainer = Container(Tags, 'state', { getProperties });\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./node_modules/@dojo/webpack-contrib/css-module-dts-loader?type=ts&instanceName=0_dojo!./src/containers/TagsContainer.ts","import global from '@dojo/shim/global';\nimport { ProjectorMixin } from '@dojo/widget-core/mixins/Projector';\nimport { Registry } from '@dojo/widget-core/Registry';\nimport { Injector } from '@dojo/widget-core/Injector';\nimport { Store } from '@dojo/stores/Store';\nimport { registerRouterInjector } from '@dojo/routing/RouterInjector';\n\nimport { App } from './App';\nimport { getTagsProcess } from './processes/tagProcesses';\nimport { setSessionProcess } from './processes/loginProcesses';\nimport { changeRouteProcess } from './processes/routeProcesses';\nimport { State } from './interfaces';\nimport { getRouteConfig } from './config';\n\nclass StoreInjector extends Injector {\n\tconstructor(payload: Store<State>) {\n\t\tsuper(payload);\n\t\tpayload.on('invalidate', () => {\n\t\t\tthis.emit({ type: 'invalidate' });\n\t\t});\n\t}\n}\n\nconst store = new Store<State>();\nconst registry = new Registry();\n\nconst router = registerRouterInjector(getRouteConfig(store), registry);\n\nregistry.define('editor', async () => {\n\tconst module = await import('./containers/EditorContainer');\n\treturn module.EditorContainer;\n});\nregistry.define('article', async () => {\n\tconst module = await import('./containers/ArticleContainer');\n\treturn module.ArticleContainer;\n});\nregistry.define('login', async () => {\n\tconst module = await import('./containers/LoginContainer');\n\treturn module.LoginContainer;\n});\nregistry.define('register', async () => {\n\tconst module = await import('./containers/RegisterContainer');\n\treturn module.RegisterContainer;\n});\nregistry.define('profile', async () => {\n\tconst module = await import('./containers/ProfileContainer');\n\treturn module.ProfileContainer;\n});\nregistry.define('settings', async () => {\n\tconst module = await import('./containers/SettingsContainer');\n\treturn module.SettingsContainer;\n});\n\nconst session = global.sessionStorage.getItem('conduit-session');\n\ngetTagsProcess(store)({});\nif (session) {\n\tsetSessionProcess(store)({ session: JSON.parse(session) });\n}\n\nrouter.on('nav', ({ outlet, context }: any) => {\n\tchangeRouteProcess(store)({ outlet, context });\n});\n\nfunction onRouteChange() {\n\tconst outlet = store.get(store.path('routing', 'outlet'));\n\tconst params = store.get(store.path('routing', 'params'));\n\tif (outlet) {\n\t\tconst link = router.link(outlet, params);\n\t\tif (link !== undefined) {\n\t\t\trouter.setPath(link);\n\t\t}\n\t}\n}\n\nstore.onChange(store.path('routing', 'outlet'), onRouteChange);\nstore.onChange(store.path('routing', 'params'), onRouteChange);\n\nregistry.defineInjector('state', new StoreInjector(store));\n\nconst Projector = ProjectorMixin(App);\nconst projector = new Projector();\nprojector.setProperties({ registry });\n\nprojector.append();\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./node_modules/@dojo/webpack-contrib/css-module-dts-loader?type=ts&instanceName=0_dojo!./src/main.ts","import { Outlet } from '@dojo/routing/Outlet';\nimport { MapParamsOptions } from '@dojo/routing/interfaces';\n\nconst mapParams = ({ params }: MapParamsOptions) => {\n\treturn {\n\t\tslug: params.slug\n\t};\n};\n\nexport const ArticleOutlet = Outlet('article', 'article', { mapParams });\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./node_modules/@dojo/webpack-contrib/css-module-dts-loader?type=ts&instanceName=0_dojo!./src/outlets/ArticleOutlet.ts","import { Outlet } from '@dojo/routing/Outlet';\nimport { MapParamsOptions } from '@dojo/routing/interfaces';\n\nconst mapParams = ({ params }: MapParamsOptions) => {\n\treturn {\n\t\tslug: params.slug\n\t};\n};\n\nexport const EditorNewOutlet = Outlet({ index: 'editor' }, 'new-post', { mapParams });\nexport const EditorEditOutlet = Outlet('editor', 'edit-post', { mapParams });\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./node_modules/@dojo/webpack-contrib/css-module-dts-loader?type=ts&instanceName=0_dojo!./src/outlets/EditorOutlet.ts","import { Outlet } from '@dojo/routing/Outlet';\nimport { Home } from './../widgets/Home';\n\nexport const HomeOutlet = Outlet({ index: Home }, 'home');\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./node_modules/@dojo/webpack-contrib/css-module-dts-loader?type=ts&instanceName=0_dojo!./src/outlets/HomeOutlet.ts","import { Outlet } from '@dojo/routing/Outlet';\n\nexport const LoginOutlet = Outlet('login', 'login');\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./node_modules/@dojo/webpack-contrib/css-module-dts-loader?type=ts&instanceName=0_dojo!./src/outlets/LoginOutlet.ts","import { Outlet } from '@dojo/routing/Outlet';\nimport { MapParamsOptions } from '@dojo/routing/interfaces';\n\nfunction createMapParams(type: string) {\n\treturn ({ params }: MapParamsOptions) => {\n\t\treturn {\n\t\t\tusername: params.username,\n\t\t\ttype\n\t\t};\n\t};\n}\n\nexport const UserProfileOutlet = Outlet({ index: 'profile' }, 'user', { mapParams: createMapParams('user') });\nexport const FavProfileOutlet = Outlet('profile', 'favorites', { mapParams: createMapParams('favorites') });\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./node_modules/@dojo/webpack-contrib/css-module-dts-loader?type=ts&instanceName=0_dojo!./src/outlets/ProfileOutlet.ts","import { Outlet } from '@dojo/routing/Outlet';\n\nexport const RegisterOutlet = Outlet('register', 'register');\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./node_modules/@dojo/webpack-contrib/css-module-dts-loader?type=ts&instanceName=0_dojo!./src/outlets/RegisterOutlet.ts","import { Outlet } from '@dojo/routing/Outlet';\n\nexport const SettingsOutlet = Outlet('settings', 'settings');\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./node_modules/@dojo/webpack-contrib/css-module-dts-loader?type=ts&instanceName=0_dojo!./src/outlets/SettingsOutlet.ts","import { createProcess } from '@dojo/stores/process';\nimport { remove, replace } from '@dojo/stores/state/operations';\nimport { getHeaders, commandFactory } from './utils';\nimport { baseUrl } from '../config';\nimport {\n\tSlugPayload,\n\tFavoriteArticlePayload,\n\tFollowUserPayload,\n\tAddCommentPayload,\n\tDeleteCommentPayload,\n\tNewCommentPayload\n} from './interfaces';\n\nconst startLoadingArticleCommand = commandFactory(({ path }) => {\n\treturn [\n\t\treplace(path('article', 'item'), undefined),\n\t\treplace(path('article', 'comments'), []),\n\t\treplace(path('article', 'loading'), true),\n\t\treplace(path('article', 'loaded'), false)\n\t];\n});\n\nconst loadArticleCommand = commandFactory<SlugPayload>(async ({ get, path, payload: { slug } }) => {\n\tconst token = get(path('user', 'token'));\n\tconst response = await fetch(`${baseUrl}/articles/${slug}`, {\n\t\theaders: getHeaders(token)\n\t});\n\tconst json = await response.json();\n\n\treturn [\n\t\treplace(path('article', 'item'), json.article),\n\t\treplace(path('article', 'loading'), false),\n\t\treplace(path('article', 'loaded'), true)\n\t];\n});\n\nconst favoriteArticleCommand = commandFactory<FavoriteArticlePayload>(\n\tasync ({ get, path, payload: { slug, favorited } }) => {\n\t\tconst token = get(path('user', 'token'));\n\t\tconst response = await fetch(`${baseUrl}/articles/${slug}/favorite`, {\n\t\t\tmethod: favorited ? 'delete' : 'post',\n\t\t\theaders: getHeaders(token)\n\t\t});\n\t\tconst json = await response.json();\n\t\treturn [replace(path('article', 'item'), json.article)];\n\t}\n);\n\nconst followUserCommand = commandFactory<FollowUserPayload>(async ({ get, path, payload: { username, following } }) => {\n\tconst token = get(path('user', 'token'));\n\tconst response = await fetch(`${baseUrl}/profiles/${username}/follow`, {\n\t\tmethod: following ? 'delete' : 'post',\n\t\theaders: getHeaders(token)\n\t});\n\tconst json = await response.json();\n\tconst article = get(path('article', 'item'));\n\n\tarticle.author = json.profile;\n\n\treturn [replace(path('article', 'item'), article)];\n});\n\nconst loadCommentsCommand = commandFactory<SlugPayload>(async ({ get, path, payload: { slug } }) => {\n\tconst token = get(path('user', 'token'));\n\tconst response = await fetch(`${baseUrl}/articles/${slug}/comments`, {\n\t\theaders: getHeaders(token)\n\t});\n\tconst json = await response.json();\n\n\treturn [replace(path('article', 'comments'), json.comments)];\n});\n\nconst addCommentCommand = commandFactory<AddCommentPayload>(\n\tasync ({ at, get, path, payload: { slug, newComment } }) => {\n\t\tconst token = get(path('user', 'token'));\n\t\tconst requestPayload = {\n\t\t\tcomment: {\n\t\t\t\tbody: newComment\n\t\t\t}\n\t\t};\n\t\tconst response = await fetch(`${baseUrl}/articles/${slug}/comments`, {\n\t\t\tmethod: 'post',\n\t\t\theaders: getHeaders(token),\n\t\t\tbody: JSON.stringify(requestPayload)\n\t\t});\n\t\tconst json = await response.json();\n\t\tconst comments = get(path('article', 'comments'));\n\n\t\treturn [\n\t\t\treplace(at(path('article', 'comments'), comments.length), json.comment),\n\t\t\treplace(path('article', 'newComment'), '')\n\t\t];\n\t}\n);\n\nconst deleteCommentCommand = commandFactory<DeleteCommentPayload>(async ({ at, get, path, payload: { slug, id } }) => {\n\tconst token = get(path('user', 'token'));\n\tawait fetch(`${baseUrl}/articles/${slug}/comments/${id}`, {\n\t\tmethod: 'delete',\n\t\theaders: getHeaders(token)\n\t});\n\tconst comments = get(path('article', 'comments'));\n\tlet index = -1;\n\tfor (let i = 0; i < comments.length; i++) {\n\t\tif (comments[i].id === id) {\n\t\t\tindex = i;\n\t\t\tbreak;\n\t\t}\n\t}\n\n\tif (index !== -1) {\n\t\treturn [remove(at(path('article', 'comments'), index))];\n\t}\n\treturn [];\n});\n\nconst newCommentInputCommand = commandFactory<NewCommentPayload>(({ path, payload: { newComment } }) => {\n\treturn [replace(path('article', 'newComment'), newComment)];\n});\n\nconst deleteArticleCommand = commandFactory<SlugPayload>(async ({ get, path, payload: { slug } }) => {\n\tconst token = get(path('user', 'token'));\n\tawait fetch(`${baseUrl}/articles/${slug}`, {\n\t\tmethod: 'delete',\n\t\theaders: getHeaders(token)\n\t});\n\n\treturn [replace(path('routing', 'outlet'), 'home')];\n});\n\nexport const getArticleProcess = createProcess([startLoadingArticleCommand, [loadArticleCommand, loadCommentsCommand]]);\nexport const deleteCommentProcess = createProcess([deleteCommentCommand]);\nexport const addCommentProcess = createProcess([addCommentCommand]);\nexport const newCommentInputProcess = createProcess([newCommentInputCommand]);\nexport const favoriteArticleProcess = createProcess([favoriteArticleCommand]);\nexport const followUserProcess = createProcess([followUserCommand]);\nexport const deleteArticleProcess = createProcess([deleteArticleCommand]);\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./node_modules/@dojo/webpack-contrib/css-module-dts-loader?type=ts&instanceName=0_dojo!./src/processes/articleProcesses.ts","import { createProcess } from '@dojo/stores/process';\nimport { replace, add, remove } from '@dojo/stores/state/operations';\nimport { getHeaders, commandFactory } from './utils';\nimport { baseUrl } from '../config';\nimport { TitlePayload, DescriptionPayload, BodyPayload, TagPayload, SlugPayload } from './interfaces';\n\nconst titleInputCommand = commandFactory<TitlePayload>(({ path, payload: { title } }) => {\n\treturn [replace(path('editor', 'title'), title)];\n});\n\nconst descriptionInputCommand = commandFactory<DescriptionPayload>(({ path, payload: { description } }) => {\n\treturn [replace(path('editor', 'description'), description)];\n});\n\nconst bodyInputCommand = commandFactory<BodyPayload>(({ path, payload: { body } }) => {\n\treturn [replace(path('editor', 'body'), body)];\n});\n\nconst tagInputCommand = commandFactory<TagPayload>(({ path, payload: { tag } }) => {\n\treturn [replace(path('editor', 'tag'), tag)];\n});\n\nconst addTagCommand = commandFactory<TagPayload>(({ get, at, path, payload: { tag } }) => {\n\tconst length = (get(path('editor', 'tagList')) || []).length;\n\treturn [add(at(path('editor', 'tagList'), length), tag)];\n});\n\nconst clearTagInputCommand = commandFactory(({ path }) => {\n\treturn [replace(path('editor', 'tag'), '')];\n});\n\nconst removeTagCommand = commandFactory<TagPayload>(({ get, at, path, payload: { tag } }) => {\n\tconst tags = get(path('editor', 'tagList'));\n\tconst index = tags.indexOf(tag);\n\tif (index !== -1) {\n\t\treturn [remove(at(path('editor', 'tagList'), index))];\n\t}\n\treturn [];\n});\n\nconst getArticleForEditorCommand = commandFactory<SlugPayload>(async ({ path, payload: { slug } }) => {\n\tconst response = await fetch(`${baseUrl}/articles/${slug}`);\n\tconst json = await response.json();\n\treturn [replace(path('editor'), json.article)];\n});\n\nconst clearEditorCommand = commandFactory(({ path }) => {\n\treturn [replace(path('editor'), {})];\n});\n\nconst startPublishCommand = commandFactory(({ path }) => {\n\treturn [replace(path('editor', 'loading'), true)];\n});\n\nconst publishArticleCommand = commandFactory(async ({ get, path }) => {\n\tconst token = get(path('user', 'token'));\n\tconst slug = get(path('editor', 'slug'));\n\tconst requestPayload = {\n\t\tarticle: get(path('editor'))\n\t};\n\n\tconst url = slug ? `${baseUrl}/articles/${slug}` : `${baseUrl}/articles`;\n\tconst response = await fetch(url, {\n\t\tmethod: slug ? 'put' : 'post',\n\t\theaders: getHeaders(token),\n\t\tbody: JSON.stringify(requestPayload)\n\t});\n\tconst json = await response.json();\n\n\tif (!response.ok) {\n\t\treturn [replace(path('editor', 'loading'), false), replace(path('errors'), json.errors)];\n\t}\n\n\treturn [\n\t\treplace(path('article', 'item'), json.article),\n\t\treplace(path('article', 'loaded'), true),\n\t\treplace(path('editor'), undefined),\n\t\treplace(path('routing', 'outlet'), 'article'),\n\t\treplace(path('routing', 'params'), { slug: json.article.slug })\n\t];\n});\n\nexport const titleInputProcess = createProcess([titleInputCommand]);\nexport const descInputProcess = createProcess([descriptionInputCommand]);\nexport const bodyInputProcess = createProcess([bodyInputCommand]);\nexport const tagInputProcess = createProcess([tagInputCommand]);\nexport const addTagProcess = createProcess([addTagCommand, clearTagInputCommand]);\nexport const removeTagProcess = createProcess([removeTagCommand]);\nexport const getEditorArticleProcess = createProcess([getArticleForEditorCommand]);\nexport const publishArticleProcess = createProcess([startPublishCommand, publishArticleCommand]);\nexport const clearEditorProcess = createProcess([clearEditorCommand]);\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./node_modules/@dojo/webpack-contrib/css-module-dts-loader?type=ts&instanceName=0_dojo!./src/processes/editorProcesses.ts","import { createProcess } from '@dojo/stores/process';\nimport { replace } from '@dojo/stores/state/operations';\nimport { ArticleItem } from './../interfaces';\nimport { getHeaders, commandFactory } from './utils';\nimport { baseUrl } from '../config';\nimport { FavoriteArticlePayload, FetchFeedPayload } from './interfaces';\n\nfunction getItemIndex(items: ArticleItem[], id: string) {\n\tlet index = -1;\n\tfor (let i = 0; i < items.length; i++) {\n\t\tif (items[i].slug === id) {\n\t\t\tindex = i;\n\t\t\tbreak;\n\t\t}\n\t}\n\treturn index;\n}\n\nconst startFetchingFeedCommand = commandFactory<FetchFeedPayload>(({ path, payload: { type, filter, page } }) => {\n\treturn [\n\t\treplace(path('feed', 'loading'), true),\n\t\treplace(path('feed', 'loaded'), false),\n\t\treplace(path('feed', 'category'), type),\n\t\treplace(path('feed', 'tagName'), type === 'tag' ? filter : undefined),\n\t\treplace(path('feed', 'pageNumber'), page),\n\t\treplace(path('feed', 'items'), undefined)\n\t];\n});\n\nconst fetchFeedCommand = commandFactory<FetchFeedPayload>(async ({ get, path, payload: { type, page, filter } }) => {\n\tconst token = get(path('user', 'token'));\n\tconst offset = page * 10;\n\tlet url: string;\n\n\tswitch (type) {\n\t\tcase 'feed':\n\t\t\turl = `${baseUrl}/articles/feed?`;\n\t\t\tbreak;\n\t\tcase 'favorites':\n\t\t\turl = `${baseUrl}/articles?favorited=${filter}&`;\n\t\t\tbreak;\n\t\tcase 'user':\n\t\t\turl = `${baseUrl}/articles?author=${filter}&`;\n\t\t\tbreak;\n\t\tcase 'tag':\n\t\t\turl = `${baseUrl}/articles?tag=${filter}&`;\n\t\t\tbreak;\n\t\tdefault:\n\t\t\turl = `${baseUrl}/articles/?`;\n\t\t\tbreak;\n\t}\n\n\tconst response = await fetch(`${url}limit=10&offset=${offset}`, { headers: getHeaders(token) });\n\tconst json = await response.json();\n\treturn [\n\t\treplace(path('feed', 'items'), json.articles),\n\t\treplace(path('feed', 'total'), json.articlesCount),\n\t\treplace(path('feed', 'offset'), offset),\n\t\treplace(path('feed', 'loading'), false),\n\t\treplace(path('feed', 'loaded'), true)\n\t];\n});\n\nconst favoriteFeedArticleCommand = commandFactory<FavoriteArticlePayload>(\n\tasync ({ at, get, path, payload: { slug, favorited } }) => {\n\t\tconst token = get(path('user', 'token'));\n\t\tconst response = await fetch(`${baseUrl}/articles/${slug}/favorite`, {\n\t\t\tmethod: favorited ? 'delete' : 'post',\n\t\t\theaders: getHeaders(token)\n\t\t});\n\t\tconst json = await response.json();\n\t\tconst index = getItemIndex(get(path('feed', 'items')), slug);\n\n\t\tif (index !== -1) {\n\t\t\treturn [replace(at(path('feed', 'items'), index), json.article)];\n\t\t}\n\t\treturn [];\n\t}\n);\n\nexport const fetchFeedProcess = createProcess([startFetchingFeedCommand, fetchFeedCommand]);\nexport const favoriteFeedArticleProcess = createProcess([favoriteFeedArticleCommand]);\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./node_modules/@dojo/webpack-contrib/css-module-dts-loader?type=ts&instanceName=0_dojo!./src/processes/feedProcesses.ts","import global from '@dojo/shim/global';\nimport { createProcess } from '@dojo/stores/process';\nimport { replace } from '@dojo/stores/state/operations';\nimport { getHeaders, commandFactory } from './utils';\nimport { baseUrl } from '../config';\nimport { EmailPayload, PasswordPayload, UsernamePayload, SetSessionPayload } from './interfaces';\n\nconst loginEmailInputCommand = commandFactory<EmailPayload>(({ path, payload: { email } }) => {\n\treturn [replace(path('login', 'email'), email)];\n});\n\nconst loginPasswordInputCommand = commandFactory<PasswordPayload>(({ path, payload: { password } }) => {\n\treturn [replace(path('login', 'password'), password)];\n});\n\nconst registerEmailInputCommand = commandFactory<EmailPayload>(({ path, payload: { email } }) => {\n\treturn [replace(path('register', 'email'), email)];\n});\n\nconst registerPasswordInputCommand = commandFactory<PasswordPayload>(({ path, payload: { password } }) => {\n\treturn [replace(path('register', 'password'), password)];\n});\n\nconst registerUsernameInputCommand = commandFactory<UsernamePayload>(({ path, payload: { username } }) => {\n\treturn [replace(path('register', 'username'), username)];\n});\n\nconst clearLoginInputs = commandFactory(({ path }) => {\n\treturn [replace(path('login', 'password'), ''), replace(path('login', 'email'), '')];\n});\n\nconst clearRegisterInputs = commandFactory(({ path }) => {\n\treturn [\n\t\treplace(path('register', 'password'), ''),\n\t\treplace(path('register', 'email'), ''),\n\t\treplace(path('register', 'username'), '')\n\t];\n});\n\nconst startLoginCommand = commandFactory(({ path }) => {\n\treturn [replace(path('login', 'loading'), true)];\n});\n\nconst startRegisterCommand = commandFactory(({ path }) => {\n\treturn [replace(path('register', 'loading'), true)];\n});\n\nconst setSessionCommand = commandFactory<SetSessionPayload>(({ path, payload: { session } }) => {\n\treturn [replace(path('user'), session)];\n});\n\nconst loginCommand = commandFactory(async ({ get, path }) => {\n\tconst requestPayload = {\n\t\tuser: get(path('login'))\n\t};\n\n\tconst response = await fetch(`${baseUrl}/users/login`, {\n\t\tmethod: 'post',\n\t\tbody: JSON.stringify(requestPayload),\n\t\theaders: getHeaders()\n\t});\n\n\tconst json = await response.json();\n\tif (!response.ok) {\n\t\treturn [\n\t\t\treplace(path('login', 'failed'), true),\n\t\t\treplace(path('login', 'loading'), false),\n\t\t\treplace(path('errors'), json.errors),\n\t\t\treplace(path('user'), {})\n\t\t];\n\t}\n\n\tglobal.sessionStorage.setItem('conduit-session', JSON.stringify(json.user));\n\n\treturn [\n\t\treplace(path('routing', 'outlet'), 'home'),\n\t\treplace(path('login', 'loading'), false),\n\t\treplace(path('errors'), undefined),\n\t\treplace(path('user'), json.user),\n\t\treplace(path('feed', 'items'), undefined),\n\t\treplace(path('feed', 'loaded'), false)\n\t];\n});\n\nconst registerCommand = commandFactory(async ({ get, path }) => {\n\tconst requestPayload = {\n\t\tuser: get(path('register'))\n\t};\n\n\tconst response = await fetch(`${baseUrl}/users`, {\n\t\tmethod: 'post',\n\t\tbody: JSON.stringify(requestPayload),\n\t\theaders: getHeaders()\n\t});\n\tconst json = await response.json();\n\tif (!response.ok) {\n\t\treturn [\n\t\t\treplace(path('register', 'failed'), true),\n\t\t\treplace(path('register', 'loading'), false),\n\t\t\treplace(path('errors'), json.errors),\n\t\t\treplace(path('user'), {})\n\t\t];\n\t}\n\n\tglobal.sessionStorage.setItem('conduit-session', JSON.stringify(json.user));\n\n\treturn [\n\t\treplace(path('routing', 'outlet'), 'home'),\n\t\treplace(path('register', 'loading'), false),\n\t\treplace(path('errors'), undefined),\n\t\treplace(path('user'), json.user),\n\t\treplace(path('feed', 'items'), undefined),\n\t\treplace(path('feed', 'loaded'), false)\n\t];\n});\n\nconst logoutCommand = commandFactory(({ path }) => {\n\tglobal.sessionStorage.removeItem('conduit-session');\n\treturn [replace(path('routing', 'outlet'), 'home'), replace(path('user'), {})];\n});\n\nexport const loginProcess = createProcess([startLoginCommand, loginCommand, clearLoginInputs]);\nexport const registerProcess = createProcess([startRegisterCommand, registerCommand, clearRegisterInputs]);\nexport const loginEmailInputProcess = createProcess([loginEmailInputCommand]);\nexport const loginPasswordInputProcess = createProcess([loginPasswordInputCommand]);\nexport const registerEmailInputProcess = createProcess([registerEmailInputCommand]);\nexport const registerPasswordInputProcess = createProcess([registerPasswordInputCommand]);\nexport const registerUsernameInputProcess = createProcess([registerUsernameInputCommand]);\nexport const setSessionProcess = createProcess([setSessionCommand]);\nexport const logoutProcess = createProcess([logoutCommand]);\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./node_modules/@dojo/webpack-contrib/css-module-dts-loader?type=ts&instanceName=0_dojo!./src/processes/loginProcesses.ts","import { createProcess } from '@dojo/stores/process';\nimport { replace } from '@dojo/stores/state/operations';\nimport { getHeaders, commandFactory } from './utils';\nimport { baseUrl } from '../config';\nimport { FollowUserPayload, UsernamePayload } from './interfaces';\n\nconst startGetProfileCommand = commandFactory(({ path }) => {\n\treturn [replace(path('profile', 'loading'), true), replace(path('profile', 'loaded'), false)];\n});\n\nconst followUserCommand = commandFactory<FollowUserPayload>(async ({ get, path, payload: { username, following } }) => {\n\tconst token = get(path('user', 'token'));\n\tconst response = await fetch(`${baseUrl}/profiles/${username}/follow`, {\n\t\tmethod: following ? 'delete' : 'post',\n\t\theaders: getHeaders(token)\n\t});\n\tconst json = await response.json();\n\n\treturn [replace(path('profile'), json.profile)];\n});\n\nconst getProfileCommand = commandFactory<UsernamePayload>(async ({ get, path, payload: { username } }) => {\n\tconst token = get(path('user', 'token'));\n\tconst response = await fetch(`${baseUrl}/profiles/${username}`, {\n\t\theaders: getHeaders(token)\n\t});\n\tconst json = await response.json();\n\n\treturn [\n\t\treplace(path('profile', 'image'), json.profile.image),\n\t\treplace(path('profile', 'bio'), json.profile.bio),\n\t\treplace(path('profile', 'following'), json.profile.following),\n\t\treplace(path('profile', 'loading'), false),\n\t\treplace(path('profile', 'loaded'), true)\n\t];\n});\n\nexport const getProfileProcess = createProcess([startGetProfileCommand, getProfileCommand]);\nexport const followUserProcess = createProcess([followUserCommand]);\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./node_modules/@dojo/webpack-contrib/css-module-dts-loader?type=ts&instanceName=0_dojo!./src/processes/profileProcesses.ts","import { createProcess } from '@dojo/stores/process';\nimport { replace } from '@dojo/stores/state/operations';\nimport { commandFactory } from './utils';\nimport { ChangeRoutePayload } from './interfaces';\n\nconst changeRouteCommand = commandFactory<ChangeRoutePayload>(({ path, payload: { outlet, context } }) => {\n\treturn [\n\t\treplace(path('routing', 'outlet'), outlet),\n\t\treplace(path('routing', 'params'), context.params),\n\t\treplace(path('settings', 'loaded'), false),\n\t\treplace(path('profile', 'loaded'), false),\n\t\treplace(path('feed', 'loaded'), false),\n\t\treplace(path('feed', 'category'), undefined),\n\t\treplace(path('editor', 'loaded'), false),\n\t\treplace(path('errors'), {})\n\t];\n});\n\nexport const changeRouteProcess = createProcess([changeRouteCommand]);\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./node_modules/@dojo/webpack-contrib/css-module-dts-loader?type=ts&instanceName=0_dojo!./src/processes/routeProcesses.ts","import { createProcess } from '@dojo/stores/process';\nimport { replace } from '@dojo/stores/state/operations';\nimport { getHeaders, commandFactory } from './utils';\nimport { baseUrl } from '../config';\nimport { EmailPayload, PasswordPayload, UsernamePayload, ImagePayload, BioPayload } from './interfaces';\n\nconst emailInputCommand = commandFactory<EmailPayload>(({ payload: { email }, path }) => {\n\treturn [replace(path('settings', 'email'), email)];\n});\n\nconst passwordInputCommand = commandFactory<PasswordPayload>(({ payload: { password }, path }) => {\n\treturn [replace(path('settings', 'password'), password)];\n});\n\nconst usernameInputCommand = commandFactory<UsernamePayload>(({ payload: { username }, path }) => {\n\treturn [replace(path('settings', 'username'), username)];\n});\n\nconst bioInputCommand = commandFactory<BioPayload>(({ payload: { bio }, path }) => {\n\treturn [replace(path('settings', 'bio'), bio)];\n});\n\nconst imageUrlInputCommand = commandFactory<ImagePayload>(({ payload: { imageUrl }, path }) => {\n\treturn [replace(path('settings', 'image'), imageUrl)];\n});\n\nconst startUserSettingsCommand = commandFactory(({ path }) => {\n\treturn [replace(path('settings'), { loaded: false, loading: true })];\n});\n\nconst getUserSettingsCommand = commandFactory(({ path, get }) => {\n\treturn [replace(path('settings'), get(path('user')))];\n});\n\nconst updateUserSettingsCommand = commandFactory(async ({ path, get }) => {\n\tconst token = get(path('user', 'token'));\n\tconst requestPayload = get(path('settings'));\n\tconst response = await fetch(`${baseUrl}/user`, {\n\t\tmethod: 'put',\n\t\theaders: getHeaders(token),\n\t\tbody: JSON.stringify(requestPayload)\n\t});\n\n\tconst json = await response.json();\n\n\treturn [\n\t\treplace(path('user'), json.user),\n\t\treplace(path('settings'), { loaded: false, loading: false }),\n\t\treplace(path('routing', 'outlet'), 'user'),\n\t\treplace(path('routing', 'params'), { username: get(path('settings', 'username')) })\n\t];\n});\n\nexport const getUserSettingsProcess = createProcess([startUserSettingsCommand, getUserSettingsCommand]);\nexport const updateUserSettingsProcess = createProcess([updateUserSettingsCommand]);\nexport const usernameInputProcess = createProcess([usernameInputCommand]);\nexport const emailInputProcess = createProcess([emailInputCommand]);\nexport const passwordInputProcess = createProcess([passwordInputCommand]);\nexport const bioInputProcess = createProcess([bioInputCommand]);\nexport const imageUrlInputProcess = createProcess([imageUrlInputCommand]);\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./node_modules/@dojo/webpack-contrib/css-module-dts-loader?type=ts&instanceName=0_dojo!./src/processes/settingsProcesses.ts","import { createProcess } from '@dojo/stores/process';\nimport { replace } from '@dojo/stores/state/operations';\nimport { commandFactory } from './utils';\nimport { baseUrl } from '../config';\n\nconst getTagsCommand = commandFactory(async ({ path }) => {\n\tconst response = await fetch(`${baseUrl}/tags`);\n\tconst json = await response.json();\n\n\treturn [replace(path('tags'), json.tags)];\n});\n\nexport const getTagsProcess = createProcess([getTagsCommand]);\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./node_modules/@dojo/webpack-contrib/css-module-dts-loader?type=ts&instanceName=0_dojo!./src/processes/tagProcesses.ts","import { createCommandFactory } from '@dojo/stores/process';\nimport { State } from '../interfaces';\n\nexport function getHeaders(token?: string): any {\n\tconst headers: { [key: string]: string } = {\n\t\t'Content-Type': 'application/json'\n\t};\n\tif (token) {\n\t\theaders['Authorization'] = `Token ${token}`;\n\t}\n\treturn headers;\n}\n\nexport const commandFactory = createCommandFactory<State>();\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./node_modules/@dojo/webpack-contrib/css-module-dts-loader?type=ts&instanceName=0_dojo!./src/processes/utils.ts","import { WidgetBase } from '@dojo/widget-core/WidgetBase';\nimport { v, w } from '@dojo/widget-core/d';\nimport { Link } from '@dojo/routing/Link';\nimport { ArticleItem } from '../interfaces';\nimport { FavoriteArticlePayload } from '../processes/interfaces';\n\nexport interface ArticlePreviewProperties {\n\tarticle: ArticleItem;\n\tfavoriteArticle: (opts: FavoriteArticlePayload) => void;\n}\n\nexport class ArticlePreview extends WidgetBase<ArticlePreviewProperties> {\n\tprivate _onFav() {\n\t\tconst { favoriteArticle, article: { slug, favorited } } = this.properties;\n\t\tfavoriteArticle({ slug, favorited });\n\t}\n\n\tprotected render() {\n\t\tconst { article, article: { author, favorited } } = this.properties;\n\n\t\tlet buttonClasses = ['btn', 'btn-outline-primary', 'btn-sm', 'pull-xs-right'];\n\t\tif (favorited) {\n\t\t\tbuttonClasses = ['btn', 'btn-primary', 'btn-sm', 'pull-xs-right'];\n\t\t}\n\n\t\treturn v('div', { classes: 'article-preview' }, [\n\t\t\tv('div', { classes: 'article-meta' }, [\n\t\t\t\tw(Link, { to: 'user', params: { username: author.username } }, [v('img', { src: author.image })]),\n\t\t\t\tv('div', { classes: 'info' }, [\n\t\t\t\t\tw(Link, { classes: 'author', to: 'user', params: { username: author.username } }, [\n\t\t\t\t\t\tauthor.username\n\t\t\t\t\t]),\n\t\t\t\t\tv('span', { classes: 'date' }, [new Date(article.createdAt).toDateString()])\n\t\t\t\t]),\n\t\t\t\tv('button', { onclick: this._onFav, classes: buttonClasses }, [\n\t\t\t\t\tv('i', { classes: 'ion-heart' }),\n\t\t\t\t\tv('span', [` ${article.favoritesCount}`])\n\t\t\t\t]),\n\t\t\t\tw(Link, { classes: 'preview-link', to: 'article', params: { slug: article.slug } }, [\n\t\t\t\t\tv('h1', [article.title]),\n\t\t\t\t\tv('p', [article.description]),\n\t\t\t\t\tv('span', ['Read more...'])\n\t\t\t\t])\n\t\t\t])\n\t\t]);\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./node_modules/@dojo/webpack-contrib/css-module-dts-loader?type=ts&instanceName=0_dojo!./src/widgets/ArticlePreview.ts","import { WidgetBase } from '@dojo/widget-core/WidgetBase';\nimport { v } from '@dojo/widget-core/d';\n\nexport class Banner extends WidgetBase {\n\tprotected render() {\n\t\treturn v('div', { classes: 'banner' }, [\n\t\t\tv('div', { classes: 'container' }, [\n\t\t\t\tv('h1', { classes: 'logo-font' }, ['conduit']),\n\t\t\t\tv('p', ['A place to share your knowledge.'])\n\t\t\t])\n\t\t]);\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./node_modules/@dojo/webpack-contrib/css-module-dts-loader?type=ts&instanceName=0_dojo!./src/widgets/Banner.ts","import { WidgetBase } from '@dojo/widget-core/WidgetBase';\nimport { v } from '@dojo/widget-core/d';\nimport { DNode } from '@dojo/widget-core/interfaces';\nimport { FetchFeedPayload } from '../processes/interfaces';\n\ninterface FeedPaginationProperties {\n\ttype: string;\n\tusername: string;\n\ttag?: string;\n\ttotal: number;\n\tcurrentPage: number;\n\tfetchFeed: (opts: FetchFeedPayload) => void;\n}\n\nexport class FeedPagination extends WidgetBase<FeedPaginationProperties> {\n\tprotected render() {\n\t\tconst { total, currentPage, fetchFeed, type, username, tag } = this.properties;\n\n\t\tlet pageNumbers: DNode[] = [];\n\t\tfor (let page = 0; page < Math.ceil(total / 10); page++) {\n\t\t\tconst isActive = currentPage === page;\n\t\t\tconst onclick = (event: MouseEvent) => {\n\t\t\t\tevent.preventDefault();\n\t\t\t\tif (page !== currentPage) {\n\t\t\t\t\tfetchFeed({ type, page, filter: tag || username });\n\t\t\t\t}\n\t\t\t};\n\t\t\tpageNumbers.push(\n\t\t\t\tv('li', { key: page, classes: ['page-item', isActive ? 'active' : null] }, [\n\t\t\t\t\tv('a', { href: '', onclick, classes: 'page-link' }, [`${page + 1}`])\n\t\t\t\t])\n\t\t\t);\n\t\t}\n\n\t\treturn v('nav', [v('ul', { classes: 'pagination' }, pageNumbers)]);\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./node_modules/@dojo/webpack-contrib/css-module-dts-loader?type=ts&instanceName=0_dojo!./src/widgets/FeedPagination.ts","import { WidgetBase } from '@dojo/widget-core/WidgetBase';\nimport { DNode } from '@dojo/widget-core/interfaces';\nimport { v, w } from '@dojo/widget-core/d';\nimport { ArticlePreview } from './ArticlePreview';\nimport { ArticleItem } from '../interfaces';\nimport { FeedPagination } from './FeedPagination';\nimport { FetchFeedPayload, FavoriteArticlePayload } from '../processes/interfaces';\nimport { Link } from '@dojo/routing/Link';\n\nexport interface FeedsProperties {\n\titems: ArticleItem[];\n\tloading: boolean;\n\ttype: string;\n\ttagName: string;\n\tusername: string;\n\tisAuthenticated: boolean;\n\ttotal: number;\n\tcurrentPage: number;\n\tfetchFeed: (opts: FetchFeedPayload) => void;\n\tfavoriteArticle: (opts: FavoriteArticlePayload) => void;\n}\n\nexport class Feeds extends WidgetBase<FeedsProperties> {\n\tprivate _onGlobalFeedClick(event: MouseEvent) {\n\t\tevent.preventDefault();\n\t\tconst { username } = this.properties;\n\t\tthis.properties.fetchFeed({ type: 'global', page: 0, filter: username });\n\t}\n\n\tprivate _onFeedClick(event: MouseEvent) {\n\t\tevent.preventDefault();\n\t\tconst { username } = this.properties;\n\t\tthis.properties.fetchFeed({ type: 'feed', page: 0, filter: username });\n\t}\n\n\t// prettier-ignore\n\tprivate _buildTabs(children: DNode, showPagination: boolean = true): DNode {\n\t\tconst { fetchFeed, total, currentPage, isAuthenticated, type, username, tagName } = this.properties;\n\t\tconst isProfile = type === 'user' || type === 'favorites';\n\n\t\treturn v('div', { classes: 'col-md-9' }, [\n\t\t\tv('div', { classes: 'feed-toggle' }, [\n\t\t\t\tv('ul', { classes: ['nav', 'nav-pills', 'outline-active'] }, [\n\t\t\t\t\tisAuthenticated && !isProfile\n\t\t\t\t\t\t? v('li', { key: 'feeds', classes: 'nav-item' }, [\n\t\t\t\t\t\t\t\tv('a', {\n\t\t\t\t\t\t\t\t\thref: '#/',\n\t\t\t\t\t\t\t\t\tonclick: this._onFeedClick,\n\t\t\t\t\t\t\t\t\tclasses: ['nav-link', type === 'feed' ? 'active' : null]\n\t\t\t\t\t\t\t\t}, ['Your Feeds'])\n\t\t\t\t\t\t\t])\n\t\t\t\t\t\t: null,\n\t\t\t\t\t!isProfile\n\t\t\t\t\t\t? v('li', { key: 'global', classes: 'nav-item' }, [\n\t\t\t\t\t\t\t\tv('a', {\n\t\t\t\t\t\t\t\t\thref: '#/',\n\t\t\t\t\t\t\t\t\tonclick: this._onGlobalFeedClick,\n\t\t\t\t\t\t\t\t\tclasses: ['nav-link', type === 'global' ? 'active' : null]\n\t\t\t\t\t\t\t\t}, ['Global Feeds'])\n\t\t\t\t\t\t\t])\n\t\t\t\t\t\t: null,\n\t\t\t\t\ttype === 'tag'\n\t\t\t\t\t\t? v('li', { key: 'tags', classes: 'nav-item' }, [\n\t\t\t\t\t\t\t\tv('a', {\n\t\t\t\t\t\t\t\t\thref: '#/',\n\t\t\t\t\t\t\t\t\tclasses: ['nav-link', 'active']\n\t\t\t\t\t\t\t\t}, [`#${tagName}`])\n\t\t\t\t\t\t\t])\n\t\t\t\t\t\t: null,\n\t\t\t\t\tisProfile\n\t\t\t\t\t\t? v('li', { key: 'articles', classes: 'nav-item' }, [\n\t\t\t\t\t\t\t\tw(Link, {\n\t\t\t\t\t\t\t\t\tto: 'user',\n\t\t\t\t\t\t\t\t\tparams: {\n\t\t\t\t\t\t\t\t\t\tusername\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\tclasses: ['nav-link', type === 'user' ? 'active' : null]\n\t\t\t\t\t\t\t\t}, ['My Articles'])\n\t\t\t\t\t\t\t])\n\t\t\t\t\t\t: null,\n\t\t\t\t\tisProfile\n\t\t\t\t\t\t? v('li', { key: 'favs', classes: 'nav-item' }, [\n\t\t\t\t\t\t\t\tw(Link, {\n\t\t\t\t\t\t\t\t\tto: 'favorites',\n\t\t\t\t\t\t\t\t\tparams: {\n\t\t\t\t\t\t\t\t\t\tusername\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\tclasses: ['nav-link', type === 'favorites' ? 'active' : null]\n\t\t\t\t\t\t\t\t}, ['Favorited Articles'])\n\t\t\t\t\t\t\t])\n\t\t\t\t\t\t: null\n\t\t\t\t])\n\t\t\t]),\n\t\t\tchildren,\n\t\t\tshowPagination ? w(FeedPagination, { fetchFeed, total, currentPage, tag: tagName, type, username }) : null\n\t\t]);\n\t}\n\n\t// prettier-ignore\n\tprotected render() {\n\t\tconst { loading = true, items, favoriteArticle } = this.properties;\n\n\t\tif (loading || items === undefined) {\n\t\t\treturn this._buildTabs(v('div', { classes: 'article-preview' }, ['Loading...']), false);\n\t\t}\n\n\t\tif (items.length === 0) {\n\t\t\treturn this._buildTabs(v('div', { classes: 'article-preview' }, ['No articles here, yet!']), false);\n\t\t}\n\n\t\tconst articleList = v('div', items.map((article, index) => {\n\t\t\treturn w(ArticlePreview, { key: index, article, favoriteArticle });\n\t\t}));\n\n\t\treturn this._buildTabs(articleList);\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./node_modules/@dojo/webpack-contrib/css-module-dts-loader?type=ts&instanceName=0_dojo!./src/widgets/Feeds.ts","import { WidgetBase } from '@dojo/widget-core/WidgetBase';\nimport { v, w } from '@dojo/widget-core/d';\nimport { Link } from '@dojo/routing/Link';\nimport { DNode } from '@dojo/widget-core/interfaces';\n\nexport interface HeaderProperties {\n\tisAuthenticated: boolean;\n\tloggedInUser: string;\n\troute: string;\n}\n\nexport class Header extends WidgetBase<HeaderProperties> {\n\tprivate _authenticatedMenu() {\n\t\tconst { route, loggedInUser } = this.properties;\n\t\treturn [\n\t\t\tv('li', { key: 'new-post', classes: 'nav-item' }, [\n\t\t\t\tw(Link, { classes: ['nav-link', route === 'new-post' ? 'active' : null], to: 'new-post' }, [\n\t\t\t\t\tv('i', { classes: 'ion-compose' }),\n\t\t\t\t\t'New Post'\n\t\t\t\t])\n\t\t\t]),\n\t\t\tv('li', { key: 'settings', classes: 'nav-item' }, [\n\t\t\t\tw(Link, { classes: ['nav-link', route === 'settings' ? 'active' : null], to: 'settings' }, [\n\t\t\t\t\tv('i', { classes: 'ion-gear' }),\n\t\t\t\t\t'Settings'\n\t\t\t\t])\n\t\t\t]),\n\t\t\tv('li', { key: 'user', classes: 'nav-item' }, [\n\t\t\t\tw(Link, { classes: ['nav-link'], to: 'user', params: { username: loggedInUser } }, [\n\t\t\t\t\tv('i', { classes: 'ion-gear' }),\n\t\t\t\t\tloggedInUser\n\t\t\t\t])\n\t\t\t])\n\t\t];\n\t}\n\n\tprivate _unauthenticatedMenu(): DNode[] {\n\t\tconst { route } = this.properties;\n\t\treturn [\n\t\t\tv('li', { key: 'sign-in', classes: 'nav-item' }, [\n\t\t\t\tw(Link, { classes: ['nav-link', route === 'login' ? 'active' : null], to: 'login' }, ['Sign In'])\n\t\t\t]),\n\t\t\tv('li', { key: 'sign-up', classes: 'nav-item' }, [\n\t\t\t\tw(Link, { classes: ['nav-link', route === 'register' ? 'active' : null], to: 'register' }, ['Sign Up'])\n\t\t\t])\n\t\t];\n\t}\n\n\tprotected render() {\n\t\tconst { isAuthenticated, route } = this.properties;\n\n\t\treturn v('nav', { classes: ['navbar', 'navbar-light'] }, [\n\t\t\tv('div', { classes: 'container' }, [\n\t\t\t\tv('a', { classes: 'navbar-brand' }, ['conduit']),\n\t\t\t\tv('ul', { classes: ['nav', 'navbar-nav pull-xs-right'] }, [\n\t\t\t\t\tv('li', { classes: 'nav-item' }, [\n\t\t\t\t\t\tw(Link, { classes: ['nav-link', route === '/' ? 'active' : null], to: 'home' }, ['Home'])\n\t\t\t\t\t]),\n\t\t\t\t\t...(isAuthenticated ? this._authenticatedMenu() : this._unauthenticatedMenu())\n\t\t\t\t])\n\t\t\t])\n\t\t]);\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./node_modules/@dojo/webpack-contrib/css-module-dts-loader?type=ts&instanceName=0_dojo!./src/widgets/Header.ts","import { WidgetBase } from '@dojo/widget-core/WidgetBase';\nimport { v, w } from '@dojo/widget-core/d';\nimport { Banner } from './Banner';\nimport { FeedsContainer } from './../containers/FeedsContainer';\nimport { TagsContainer } from './../containers/TagsContainer';\n\nexport class Home extends WidgetBase {\n\tprotected render() {\n\t\treturn v('div', { classes: 'home-page' }, [\n\t\t\tw(Banner, {}),\n\t\t\tv('div', { classes: ['container', 'page'] }, [\n\t\t\t\tv('div', { classes: 'row' }, [w(FeedsContainer, {}), w(TagsContainer, {})])\n\t\t\t])\n\t\t]);\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./node_modules/@dojo/webpack-contrib/css-module-dts-loader?type=ts&instanceName=0_dojo!./src/widgets/Home.ts","import { WidgetBase } from '@dojo/widget-core/WidgetBase';\nimport { v } from '@dojo/widget-core/d';\nimport { FetchFeedPayload } from '../processes/interfaces';\n\nexport interface TagsProperties {\n\ttags?: string[];\n\tfetchFeed: (opts: FetchFeedPayload) => void;\n}\n\nexport class Tags extends WidgetBase<TagsProperties> {\n\tprotected render() {\n\t\tconst { tags = [] } = this.properties;\n\t\treturn v('div', { classes: 'col-md-3' }, [\n\t\t\tv('div', { classes: 'sidebar' }, [\n\t\t\t\tv('p', ['Popular Tags']),\n\t\t\t\tv(\n\t\t\t\t\t'div',\n\t\t\t\t\t{ classes: 'tag-list' },\n\t\t\t\t\ttags.map((tag, index) =>\n\t\t\t\t\t\tv(\n\t\t\t\t\t\t\t'a',\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\thref: '',\n\t\t\t\t\t\t\t\tonclick: (event: MouseEvent) => {\n\t\t\t\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\t\t\t\tthis.properties.fetchFeed({ type: 'tag', page: 0, filter: tag });\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tkey: `${index}`,\n\t\t\t\t\t\t\t\tclasses: ['tag-pill', 'tag-default']\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t[tag]\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t])\n\t\t]);\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./node_modules/@dojo/webpack-contrib/css-module-dts-loader?type=ts&instanceName=0_dojo!./src/widgets/Tags.ts"],"sourceRoot":""}